---
title: 5편_도메인지식이라(6편원고를 주피터노트북에서 to마크다운한ver)
author: Tao He
date: 2022-02-08
category: Jekyll
layout: post
---

# 1.FinanceDataReader
현재 시점의 증권시장별 상장종목을 가져올 수 있다. 종목코드, 시장, 종목명, 섹터, 산업군, 상장일, 결산월 등 상장폐지 종목도 조회 가능하다.



## (1) FinanceDataReader 설치하기

!pip install finance_datareader 또는 !pip install —upgrade finance_datareader==0.9.50 등의 형태로 설치 할 수 있다.


```python
!pip install finance_datareader
```

    Collecting finance_datareader
      Downloading finance_datareader-0.9.50-py3-none-any.whl (19 kB)
    Requirement already satisfied: pandas>=0.19.2 in /usr/local/lib/python3.10/dist-packages (from finance_datareader) (1.5.3)
    Requirement already satisfied: requests>=2.3.0 in /usr/local/lib/python3.10/dist-packages (from finance_datareader) (2.27.1)
    Collecting requests-file (from finance_datareader)
      Downloading requests_file-1.5.1-py2.py3-none-any.whl (3.7 kB)
    Requirement already satisfied: lxml in /usr/local/lib/python3.10/dist-packages (from finance_datareader) (4.9.2)
    Requirement already satisfied: tqdm in /usr/local/lib/python3.10/dist-packages (from finance_datareader) (4.65.0)
    Requirement already satisfied: python-dateutil>=2.8.1 in /usr/local/lib/python3.10/dist-packages (from pandas>=0.19.2->finance_datareader) (2.8.2)
    Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.10/dist-packages (from pandas>=0.19.2->finance_datareader) (2022.7.1)
    Requirement already satisfied: numpy>=1.21.0 in /usr/local/lib/python3.10/dist-packages (from pandas>=0.19.2->finance_datareader) (1.22.4)
    Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->finance_datareader) (1.26.16)
    Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->finance_datareader) (2023.5.7)
    Requirement already satisfied: charset-normalizer~=2.0.0 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->finance_datareader) (2.0.12)
    Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->finance_datareader) (3.4)
    Requirement already satisfied: six in /usr/local/lib/python3.10/dist-packages (from requests-file->finance_datareader) (1.16.0)
    Installing collected packages: requests-file, finance_datareader
    Successfully installed finance_datareader-0.9.50 requests-file-1.5.1
    

FinanceDataReader 를 fdr 별칭으로 가져온 후 버젼을 확인해 본다.


```python
import FinanceDataReader as fdr
fdr.__version__
```




    '0.9.50'



##(2) 시장별 종목리스트를 가져오기 (최근일 기준)

코스피, 코스닥, 코넥스 전체 : 'KRX’

NASDAQ(나스닥), NYSE(뉴욕거래소), AMEX(AMEX), S&P 500(S&P 500)


```python
import FinanceDataReader as fdr

stocks = fdr.StockListing('KRX')
stocks
```





  <div id="df-0e2979e1-ee90-4333-9f1b-f28cba2f558e">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Code</th>
      <th>ISU_CD</th>
      <th>Name</th>
      <th>Market</th>
      <th>Dept</th>
      <th>Close</th>
      <th>ChangeCode</th>
      <th>Changes</th>
      <th>ChagesRatio</th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Volume</th>
      <th>Amount</th>
      <th>Marcap</th>
      <th>Stocks</th>
      <th>MarketId</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>060310</td>
      <td>KR7060310000</td>
      <td>3S</td>
      <td>KOSDAQ</td>
      <td>중견기업부</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>48536642</td>
      <td>KSQ</td>
    </tr>
    <tr>
      <th>1</th>
      <td>095570</td>
      <td>KR7095570008</td>
      <td>AJ네트웍스</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>46822295</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>2</th>
      <td>006840</td>
      <td>KR7006840003</td>
      <td>AK홀딩스</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>13247561</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>3</th>
      <td>054620</td>
      <td>KR7054620000</td>
      <td>APS</td>
      <td>KOSDAQ</td>
      <td>중견기업부</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>20394221</td>
      <td>KSQ</td>
    </tr>
    <tr>
      <th>4</th>
      <td>265520</td>
      <td>KR7265520007</td>
      <td>AP시스템</td>
      <td>KOSDAQ</td>
      <td>우량기업부</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>15281421</td>
      <td>KSQ</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2723</th>
      <td>000547</td>
      <td>KR7000542001</td>
      <td>흥국화재2우B</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>153600</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>2724</th>
      <td>000545</td>
      <td>KR7000541003</td>
      <td>흥국화재우</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>768000</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>2725</th>
      <td>003280</td>
      <td>KR7003280005</td>
      <td>흥아해운</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>240424899</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>2726</th>
      <td>037440</td>
      <td>KR7037440005</td>
      <td>희림</td>
      <td>KOSDAQ</td>
      <td>우량기업부</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>13922475</td>
      <td>KSQ</td>
    </tr>
    <tr>
      <th>2727</th>
      <td>238490</td>
      <td>KR7238490007</td>
      <td>힘스</td>
      <td>KOSDAQ</td>
      <td>벤처기업부</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>11312236</td>
      <td>KSQ</td>
    </tr>
  </tbody>
</table>
<p>2728 rows × 17 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-0e2979e1-ee90-4333-9f1b-f28cba2f558e')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-0e2979e1-ee90-4333-9f1b-f28cba2f558e button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-0e2979e1-ee90-4333-9f1b-f28cba2f558e');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
len(stocks)
```




    2728




```python
stocks_kospi = fdr.StockListing("KOSPI")
stocks_kospi
```





  <div id="df-d5bce7d0-8baa-43f6-ba52-728b292d39a5">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Code</th>
      <th>ISU_CD</th>
      <th>Name</th>
      <th>Market</th>
      <th>Dept</th>
      <th>Close</th>
      <th>ChangeCode</th>
      <th>Changes</th>
      <th>ChagesRatio</th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Volume</th>
      <th>Amount</th>
      <th>Marcap</th>
      <th>Stocks</th>
      <th>MarketId</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>095570</td>
      <td>KR7095570008</td>
      <td>AJ네트웍스</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>46822295</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>1</th>
      <td>006840</td>
      <td>KR7006840003</td>
      <td>AK홀딩스</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>13247561</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>2</th>
      <td>027410</td>
      <td>KR7027410000</td>
      <td>BGF</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>95716791</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>3</th>
      <td>282330</td>
      <td>KR7282330000</td>
      <td>BGF리테일</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>17283906</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>4</th>
      <td>138930</td>
      <td>KR7138930003</td>
      <td>BNK금융지주</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>325935246</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>948</th>
      <td>005010</td>
      <td>KR7005010004</td>
      <td>휴스틸</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>56188075</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>949</th>
      <td>000540</td>
      <td>KR7000540005</td>
      <td>흥국화재</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>64242645</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>950</th>
      <td>000547</td>
      <td>KR7000542001</td>
      <td>흥국화재2우B</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>153600</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>951</th>
      <td>000545</td>
      <td>KR7000541003</td>
      <td>흥국화재우</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>768000</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>952</th>
      <td>003280</td>
      <td>KR7003280005</td>
      <td>흥아해운</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>240424899</td>
      <td>STK</td>
    </tr>
  </tbody>
</table>
<p>953 rows × 17 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-d5bce7d0-8baa-43f6-ba52-728b292d39a5')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-d5bce7d0-8baa-43f6-ba52-728b292d39a5 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-d5bce7d0-8baa-43f6-ba52-728b292d39a5');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




## (3) 데이터 탐색하기

탐색적 데이터 분석(EDA ; Exploratory Data Analysis)은
 Raw data를 가지고 유연하게 탐색하고 데이터를 이해하기 위해 수행되는 과정입니다.
 탐색적 데이터 분석은 주어진 데이터를 시각화, 요약 통계, 그래프 등을 사용하여 조사하고 탐구하는 과정을 포함합니다. 이를 통해 데이터 세트의 중요한 특징과 패턴을 발견하고 데이터의 품질을 평가할 수 있습니다. 탐색적 데이터 분석은 통계적 가설 검정이나 예측 모델링에 대한 준비 작업으로서도 중요한 역할을 합니다.
 탐색적 데이터 분석은 데이터 과학자나 분석가가 데이터에 대한 통찰력을 얻고 초기 가설을 검증하기 위해 필수적인 단계입니다. 이를 통해 데이터의 품질을 평가하고 문제점을 파악하여 보완할 수 있으며, 향후 분석 과정을 계획하는 데 도움이 됩니다.

탐색적 데이터 분석 작업은 다음과 같습니다.
1. 데이터의 구조 확인
2. 결측치와 이상치 처리
3. 데이터 시각화
4. 변수 간 상관 관계 파악
5. 데이터의 특성과 패턴 발견
6. 향후 분석과 모델링에 활용하기 위한 가설 설정




### 1) 데이터 행과 열 확인_shape


```python
stocks_kospi = fdr.StockListing('KOSPI')
stocks_kospi.shape
```




    (953, 17)



### 2) 데이터 정보 확인_info()


```python
stocks_kospi = fdr.StockListing('KOSPI')
stocks_kospi.info()
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 953 entries, 0 to 952
    Data columns (total 17 columns):
     #   Column       Non-Null Count  Dtype  
    ---  ------       --------------  -----  
     0   Code         953 non-null    object 
     1   ISU_CD       953 non-null    object 
     2   Name         953 non-null    object 
     3   Market       953 non-null    object 
     4   Dept         953 non-null    object 
     5   Close        953 non-null    object 
     6   ChangeCode   953 non-null    object 
     7   Changes      0 non-null      float64
     8   ChagesRatio  0 non-null      float64
     9   Open         0 non-null      float64
     10  High         0 non-null      float64
     11  Low          0 non-null      float64
     12  Volume       0 non-null      float64
     13  Amount       0 non-null      float64
     14  Marcap       0 non-null      float64
     15  Stocks       953 non-null    int64  
     16  MarketId     953 non-null    object 
    dtypes: float64(8), int64(1), object(8)
    memory usage: 126.7+ KB
    

### 3) 앞 쪽 기본 정보


```python
stocks_kospi.head()
```





  <div id="df-90010afc-abe8-450b-99b1-c8a9a01769d0">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Code</th>
      <th>ISU_CD</th>
      <th>Name</th>
      <th>Market</th>
      <th>Dept</th>
      <th>Close</th>
      <th>ChangeCode</th>
      <th>Changes</th>
      <th>ChagesRatio</th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Volume</th>
      <th>Amount</th>
      <th>Marcap</th>
      <th>Stocks</th>
      <th>MarketId</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>095570</td>
      <td>KR7095570008</td>
      <td>AJ네트웍스</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>46822295</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>1</th>
      <td>006840</td>
      <td>KR7006840003</td>
      <td>AK홀딩스</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>13247561</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>2</th>
      <td>027410</td>
      <td>KR7027410000</td>
      <td>BGF</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>95716791</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>3</th>
      <td>282330</td>
      <td>KR7282330000</td>
      <td>BGF리테일</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>17283906</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>4</th>
      <td>138930</td>
      <td>KR7138930003</td>
      <td>BNK금융지주</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>325935246</td>
      <td>STK</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-90010afc-abe8-450b-99b1-c8a9a01769d0')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-90010afc-abe8-450b-99b1-c8a9a01769d0 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-90010afc-abe8-450b-99b1-c8a9a01769d0');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




### 4) 앞 쪽 특정 갯수 정보 보기


```python
stocks_kospi.head(10)
```





  <div id="df-35da4333-8ea7-4af2-bc0e-cbc002507f90">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Code</th>
      <th>ISU_CD</th>
      <th>Name</th>
      <th>Market</th>
      <th>Dept</th>
      <th>Close</th>
      <th>ChangeCode</th>
      <th>Changes</th>
      <th>ChagesRatio</th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Volume</th>
      <th>Amount</th>
      <th>Marcap</th>
      <th>Stocks</th>
      <th>MarketId</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>095570</td>
      <td>KR7095570008</td>
      <td>AJ네트웍스</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>46822295</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>1</th>
      <td>006840</td>
      <td>KR7006840003</td>
      <td>AK홀딩스</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>13247561</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>2</th>
      <td>027410</td>
      <td>KR7027410000</td>
      <td>BGF</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>95716791</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>3</th>
      <td>282330</td>
      <td>KR7282330000</td>
      <td>BGF리테일</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>17283906</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>4</th>
      <td>138930</td>
      <td>KR7138930003</td>
      <td>BNK금융지주</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>325935246</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>5</th>
      <td>001460</td>
      <td>KR7001460005</td>
      <td>BYC</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>624615</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>6</th>
      <td>001465</td>
      <td>KR7001461003</td>
      <td>BYC우</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>215385</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>7</th>
      <td>001040</td>
      <td>KR7001040005</td>
      <td>CJ</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>29176998</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>8</th>
      <td>079160</td>
      <td>KR7079160008</td>
      <td>CJ CGV</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>47728069</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>9</th>
      <td>00104K</td>
      <td>KR700104K010</td>
      <td>CJ4우(전환)</td>
      <td>KOSPI</td>
      <td></td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>4226512</td>
      <td>STK</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-35da4333-8ea7-4af2-bc0e-cbc002507f90')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-35da4333-8ea7-4af2-bc0e-cbc002507f90 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-35da4333-8ea7-4af2-bc0e-cbc002507f90');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




## (4) 불러 온 자료 저장하기

### 1) CSV(Comma Separated Value) :
CSV 파일 포맷은 데이터 값이 쉽표(comma)로 구분되는 텍스트 파일


```python
!pip install Pandas
import pandas as pd
stocks_kospi.to_csv('krx.csv')
```

    Requirement already satisfied: Pandas in /usr/local/lib/python3.10/dist-packages (1.5.3)
    Requirement already satisfied: python-dateutil>=2.8.1 in /usr/local/lib/python3.10/dist-packages (from Pandas) (2.8.2)
    Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.10/dist-packages (from Pandas) (2022.7.1)
    Requirement already satisfied: numpy>=1.21.0 in /usr/local/lib/python3.10/dist-packages (from Pandas) (1.22.4)
    Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.10/dist-packages (from python-dateutil>=2.8.1->Pandas) (1.16.0)
    

###2) 엑셀로 저장하기


```python
import pandas as pd
stocks_kospi.to_excel('krx.xlsx')
```

###3) 엑셀로 저장하기
pickle로 저장
to_pickle("krx.pkl")
db로 저장하기도 가능

pandas 활용 : 저장된 자료 다시 불러오기

파이썬 pandas 활용하면 저장된 데이터를 불러와서 DataFrame에 저장하게 됨.
read 다음에 파일 형식에 따라 언더바"_" 이거나 마침표"."를 하고 괄호()안에 파일명 기입 (경로)
read_csv(), read_excel(),  read_html()  등
엑셀 파일은 csv 로 저장 가능.

pd.read_excel('경로/파일명.xlsx') : 파일이 xlsx(엑셀)일 경우   
pd.read_csv('경로/파일명.csv') : 파일이 csv일 경우






```python
import pandas as pd
pd.read_csv('krx.csv')
```





  <div id="df-6ce1af76-0d53-413a-b225-68c47341c1ec">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Unnamed: 0</th>
      <th>Code</th>
      <th>ISU_CD</th>
      <th>Name</th>
      <th>Market</th>
      <th>Dept</th>
      <th>Close</th>
      <th>ChangeCode</th>
      <th>Changes</th>
      <th>ChagesRatio</th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Volume</th>
      <th>Amount</th>
      <th>Marcap</th>
      <th>Stocks</th>
      <th>MarketId</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>095570</td>
      <td>KR7095570008</td>
      <td>AJ네트웍스</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>46822295</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>006840</td>
      <td>KR7006840003</td>
      <td>AK홀딩스</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>13247561</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>027410</td>
      <td>KR7027410000</td>
      <td>BGF</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>95716791</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>282330</td>
      <td>KR7282330000</td>
      <td>BGF리테일</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>17283906</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>138930</td>
      <td>KR7138930003</td>
      <td>BNK금융지주</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>325935246</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>948</th>
      <td>948</td>
      <td>005010</td>
      <td>KR7005010004</td>
      <td>휴스틸</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>56188075</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>949</th>
      <td>949</td>
      <td>000540</td>
      <td>KR7000540005</td>
      <td>흥국화재</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>64242645</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>950</th>
      <td>950</td>
      <td>000547</td>
      <td>KR7000542001</td>
      <td>흥국화재2우B</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>153600</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>951</th>
      <td>951</td>
      <td>000545</td>
      <td>KR7000541003</td>
      <td>흥국화재우</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>768000</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>952</th>
      <td>952</td>
      <td>003280</td>
      <td>KR7003280005</td>
      <td>흥아해운</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>240424899</td>
      <td>STK</td>
    </tr>
  </tbody>
</table>
<p>953 rows × 18 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-6ce1af76-0d53-413a-b225-68c47341c1ec')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-6ce1af76-0d53-413a-b225-68c47341c1ec button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-6ce1af76-0d53-413a-b225-68c47341c1ec');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>







```python
pd.read_csv('krx.csv', index_col='Name')
```





  <div id="df-6abcc6b7-ce84-4c00-993f-2162a3237363">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Unnamed: 0</th>
      <th>Code</th>
      <th>ISU_CD</th>
      <th>Market</th>
      <th>Dept</th>
      <th>Close</th>
      <th>ChangeCode</th>
      <th>Changes</th>
      <th>ChagesRatio</th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Volume</th>
      <th>Amount</th>
      <th>Marcap</th>
      <th>Stocks</th>
      <th>MarketId</th>
    </tr>
    <tr>
      <th>Name</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AJ네트웍스</th>
      <td>0</td>
      <td>095570</td>
      <td>KR7095570008</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>46822295</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>AK홀딩스</th>
      <td>1</td>
      <td>006840</td>
      <td>KR7006840003</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>13247561</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>BGF</th>
      <td>2</td>
      <td>027410</td>
      <td>KR7027410000</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>95716791</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>BGF리테일</th>
      <td>3</td>
      <td>282330</td>
      <td>KR7282330000</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>17283906</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>BNK금융지주</th>
      <td>4</td>
      <td>138930</td>
      <td>KR7138930003</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>325935246</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>휴스틸</th>
      <td>948</td>
      <td>005010</td>
      <td>KR7005010004</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>56188075</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>흥국화재</th>
      <td>949</td>
      <td>000540</td>
      <td>KR7000540005</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>64242645</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>흥국화재2우B</th>
      <td>950</td>
      <td>000547</td>
      <td>KR7000542001</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>153600</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>흥국화재우</th>
      <td>951</td>
      <td>000545</td>
      <td>KR7000541003</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>768000</td>
      <td>STK</td>
    </tr>
    <tr>
      <th>흥아해운</th>
      <td>952</td>
      <td>003280</td>
      <td>KR7003280005</td>
      <td>KOSPI</td>
      <td>NaN</td>
      <td>-</td>
      <td>3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>240424899</td>
      <td>STK</td>
    </tr>
  </tbody>
</table>
<p>953 rows × 17 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-6abcc6b7-ce84-4c00-993f-2162a3237363')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-6abcc6b7-ce84-4c00-993f-2162a3237363 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-6abcc6b7-ce84-4c00-993f-2162a3237363');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




### 4) 경로 저장된 자료 불러오기
파일 경로 찾는 법 : 불러올 파일을 마우스 우클릭 --> 속성 --> 위치에서 경로 확인
C:\Users\user\Desktop  --> \ 를 /로 바꿔주기
C:/Users/user/Desktop  *(/를 인식할 떄도 있고 \를 인식 할 때도 있는 것 같다 되는 걸 쓰자)

encoding = 'utf-8'
글자를 읽어 올 떄 utf-8의 약속대로 읽어오라는 의미
왠만하면 이걸로 꺠진 글씨들을 읽어 올 수 있다.

encoding = '인코딩 방식'
글자를 읽어 올때 어떠한 방식으로 익어 올 것인지 지정하는 것
대부분 encoding = utf-8 을 기입하면 된다.

data = pd.read_csv('파일경로 or url', sep='\t', engine = 'python', encoding = 'utf-8')

data = pd.read_csv('파일경로 or url', sep =',' , encoding = '인코딩 방식')

pd.read_csv("C:/finance_data/titanic.csv", engine = 'python', encoding = 'utf-8')

pd.read_excel("C:/finance_data.titanic.csv")

## (5) 해외시장 데이터 가져오기

: 'NASDAQ', 'NYSE', 'AMEX' and 'S&P500', 'SSE'(상해), 'SZSE'(심천), 'HKEX'(홍콩), 'TSE'(도쿄)

KRX delistings: 'KRX-DELISTING'(상장폐지종목), 'KRX-ADMINISTRATIVE' (관리종목)
ETF Symbol listings(for multiple countries): 'KR', 'US', 'JP'

## (6) 개별종목 주가 가져오기
삼성전자(005930) 전체 (1996-11-05 ~ 현재)


```python
import FinanceDataReader as fdr

df = fdr.DataReader('005930')
df
```





  <div id="df-d9d38602-285a-43fd-bd5e-dac2318478d2">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Close</th>
      <th>Volume</th>
      <th>Change</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1999-03-17</th>
      <td>1751</td>
      <td>1761</td>
      <td>1712</td>
      <td>1722</td>
      <td>398828</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1999-03-18</th>
      <td>1735</td>
      <td>1800</td>
      <td>1723</td>
      <td>1736</td>
      <td>606874</td>
      <td>0.008130</td>
    </tr>
    <tr>
      <th>1999-03-19</th>
      <td>1761</td>
      <td>1894</td>
      <td>1759</td>
      <td>1853</td>
      <td>1298440</td>
      <td>0.067396</td>
    </tr>
    <tr>
      <th>1999-03-22</th>
      <td>1878</td>
      <td>2025</td>
      <td>1841</td>
      <td>1947</td>
      <td>1575773</td>
      <td>0.050729</td>
    </tr>
    <tr>
      <th>1999-03-23</th>
      <td>1956</td>
      <td>1995</td>
      <td>1923</td>
      <td>1937</td>
      <td>641837</td>
      <td>-0.005136</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2023-06-22</th>
      <td>70200</td>
      <td>71500</td>
      <td>70100</td>
      <td>71300</td>
      <td>11411007</td>
      <td>0.011348</td>
    </tr>
    <tr>
      <th>2023-06-23</th>
      <td>72000</td>
      <td>72200</td>
      <td>71600</td>
      <td>71600</td>
      <td>12329484</td>
      <td>0.004208</td>
    </tr>
    <tr>
      <th>2023-06-26</th>
      <td>71700</td>
      <td>72500</td>
      <td>71500</td>
      <td>72400</td>
      <td>10541901</td>
      <td>0.011173</td>
    </tr>
    <tr>
      <th>2023-06-27</th>
      <td>72500</td>
      <td>72600</td>
      <td>72000</td>
      <td>72600</td>
      <td>9442997</td>
      <td>0.002762</td>
    </tr>
    <tr>
      <th>2023-06-28</th>
      <td>72600</td>
      <td>72600</td>
      <td>72200</td>
      <td>72300</td>
      <td>1968859</td>
      <td>-0.004132</td>
    </tr>
  </tbody>
</table>
<p>6000 rows × 6 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-d9d38602-285a-43fd-bd5e-dac2318478d2')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-d9d38602-285a-43fd-bd5e-dac2318478d2 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-d9d38602-285a-43fd-bd5e-dac2318478d2');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
df.head()
```





  <div id="df-9142f39b-37a5-451a-988f-5b5aa77bee08">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Close</th>
      <th>Volume</th>
      <th>Change</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1999-03-17</th>
      <td>1751</td>
      <td>1761</td>
      <td>1712</td>
      <td>1722</td>
      <td>398828</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1999-03-18</th>
      <td>1735</td>
      <td>1800</td>
      <td>1723</td>
      <td>1736</td>
      <td>606874</td>
      <td>0.008130</td>
    </tr>
    <tr>
      <th>1999-03-19</th>
      <td>1761</td>
      <td>1894</td>
      <td>1759</td>
      <td>1853</td>
      <td>1298440</td>
      <td>0.067396</td>
    </tr>
    <tr>
      <th>1999-03-22</th>
      <td>1878</td>
      <td>2025</td>
      <td>1841</td>
      <td>1947</td>
      <td>1575773</td>
      <td>0.050729</td>
    </tr>
    <tr>
      <th>1999-03-23</th>
      <td>1956</td>
      <td>1995</td>
      <td>1923</td>
      <td>1937</td>
      <td>641837</td>
      <td>-0.005136</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-9142f39b-37a5-451a-988f-5b5aa77bee08')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-9142f39b-37a5-451a-988f-5b5aa77bee08 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-9142f39b-37a5-451a-988f-5b5aa77bee08');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
df.tail(10)
```





  <div id="df-d609827d-4143-4b76-ae8c-594740e87151">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Close</th>
      <th>Volume</th>
      <th>Change</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2023-06-15</th>
      <td>72100</td>
      <td>72300</td>
      <td>71300</td>
      <td>71500</td>
      <td>13614994</td>
      <td>-0.005563</td>
    </tr>
    <tr>
      <th>2023-06-16</th>
      <td>71800</td>
      <td>71900</td>
      <td>70900</td>
      <td>71800</td>
      <td>15373696</td>
      <td>0.004196</td>
    </tr>
    <tr>
      <th>2023-06-19</th>
      <td>71300</td>
      <td>71700</td>
      <td>70900</td>
      <td>71200</td>
      <td>11100887</td>
      <td>-0.008357</td>
    </tr>
    <tr>
      <th>2023-06-20</th>
      <td>70700</td>
      <td>71400</td>
      <td>70400</td>
      <td>71400</td>
      <td>11557883</td>
      <td>0.002809</td>
    </tr>
    <tr>
      <th>2023-06-21</th>
      <td>70700</td>
      <td>71200</td>
      <td>70400</td>
      <td>70500</td>
      <td>10626603</td>
      <td>-0.012605</td>
    </tr>
    <tr>
      <th>2023-06-22</th>
      <td>70200</td>
      <td>71500</td>
      <td>70100</td>
      <td>71300</td>
      <td>11411007</td>
      <td>0.011348</td>
    </tr>
    <tr>
      <th>2023-06-23</th>
      <td>72000</td>
      <td>72200</td>
      <td>71600</td>
      <td>71600</td>
      <td>12329484</td>
      <td>0.004208</td>
    </tr>
    <tr>
      <th>2023-06-26</th>
      <td>71700</td>
      <td>72500</td>
      <td>71500</td>
      <td>72400</td>
      <td>10541901</td>
      <td>0.011173</td>
    </tr>
    <tr>
      <th>2023-06-27</th>
      <td>72500</td>
      <td>72600</td>
      <td>72000</td>
      <td>72600</td>
      <td>9442997</td>
      <td>0.002762</td>
    </tr>
    <tr>
      <th>2023-06-28</th>
      <td>72600</td>
      <td>72600</td>
      <td>72200</td>
      <td>72300</td>
      <td>1968859</td>
      <td>-0.004132</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-d609827d-4143-4b76-ae8c-594740e87151')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-d609827d-4143-4b76-ae8c-594740e87151 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-d609827d-4143-4b76-ae8c-594740e87151');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




## (7)　특정 기간에 이후부터 현재까지 개별 종목 주가 가져오기
Date 주식시장 날짜  
  

Open 시가# High 고가# Low 저가# Close 종가  
Volume 해당 개장일의 거래량  
Change는 해당 개장일의 전날 대비 종가 상승률


```python
import FinanceDataReader as fdr
fdr.DataReader('005930', start = '2020').reset_index()
```





  <div id="df-a8a66582-4be3-4ecf-832f-bc96fd0024e2">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Close</th>
      <th>Volume</th>
      <th>Change</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2020-01-02</td>
      <td>55500</td>
      <td>56000</td>
      <td>55000</td>
      <td>55200</td>
      <td>12993228</td>
      <td>-0.010753</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2020-01-03</td>
      <td>56000</td>
      <td>56600</td>
      <td>54900</td>
      <td>55500</td>
      <td>15422255</td>
      <td>0.005435</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2020-01-06</td>
      <td>54900</td>
      <td>55600</td>
      <td>54600</td>
      <td>55500</td>
      <td>10278951</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2020-01-07</td>
      <td>55700</td>
      <td>56400</td>
      <td>55600</td>
      <td>55800</td>
      <td>10009778</td>
      <td>0.005405</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2020-01-08</td>
      <td>56200</td>
      <td>57400</td>
      <td>55900</td>
      <td>56800</td>
      <td>23501171</td>
      <td>0.017921</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>858</th>
      <td>2023-06-22</td>
      <td>70200</td>
      <td>71500</td>
      <td>70100</td>
      <td>71300</td>
      <td>11411007</td>
      <td>0.011348</td>
    </tr>
    <tr>
      <th>859</th>
      <td>2023-06-23</td>
      <td>72000</td>
      <td>72200</td>
      <td>71600</td>
      <td>71600</td>
      <td>12329484</td>
      <td>0.004208</td>
    </tr>
    <tr>
      <th>860</th>
      <td>2023-06-26</td>
      <td>71700</td>
      <td>72500</td>
      <td>71500</td>
      <td>72400</td>
      <td>10541901</td>
      <td>0.011173</td>
    </tr>
    <tr>
      <th>861</th>
      <td>2023-06-27</td>
      <td>72500</td>
      <td>72600</td>
      <td>72000</td>
      <td>72600</td>
      <td>9442997</td>
      <td>0.002762</td>
    </tr>
    <tr>
      <th>862</th>
      <td>2023-06-28</td>
      <td>72600</td>
      <td>72600</td>
      <td>72200</td>
      <td>72200</td>
      <td>1979649</td>
      <td>-0.005510</td>
    </tr>
  </tbody>
</table>
<p>863 rows × 7 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-a8a66582-4be3-4ecf-832f-bc96fd0024e2')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-a8a66582-4be3-4ecf-832f-bc96fd0024e2 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-a8a66582-4be3-4ecf-832f-bc96fd0024e2');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




## (8) 특정 기간에 대하여 개별 종목 주가 가져오기


```python
start_date = '2022-01-03'
end_date = '2022-10-25'
df_fdr = fdr.DataReader('005930', start=start_date, end=end_date)
df_fdr
```





  <div id="df-fae1b020-5a16-4f1c-b282-b307add9736a">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Close</th>
      <th>Volume</th>
      <th>Change</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2022-01-03</th>
      <td>79400</td>
      <td>79800</td>
      <td>78200</td>
      <td>78600</td>
      <td>13502112</td>
      <td>0.003831</td>
    </tr>
    <tr>
      <th>2022-01-04</th>
      <td>78800</td>
      <td>79200</td>
      <td>78300</td>
      <td>78700</td>
      <td>12427416</td>
      <td>0.001272</td>
    </tr>
    <tr>
      <th>2022-01-05</th>
      <td>78800</td>
      <td>79000</td>
      <td>76400</td>
      <td>77400</td>
      <td>25470640</td>
      <td>-0.016518</td>
    </tr>
    <tr>
      <th>2022-01-06</th>
      <td>76700</td>
      <td>77600</td>
      <td>76600</td>
      <td>76900</td>
      <td>12931954</td>
      <td>-0.006460</td>
    </tr>
    <tr>
      <th>2022-01-07</th>
      <td>78100</td>
      <td>78400</td>
      <td>77400</td>
      <td>78300</td>
      <td>15163757</td>
      <td>0.018205</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2022-10-19</th>
      <td>56700</td>
      <td>56900</td>
      <td>55700</td>
      <td>55800</td>
      <td>12660652</td>
      <td>-0.012389</td>
    </tr>
    <tr>
      <th>2022-10-20</th>
      <td>55200</td>
      <td>56000</td>
      <td>55100</td>
      <td>55500</td>
      <td>17107653</td>
      <td>-0.005376</td>
    </tr>
    <tr>
      <th>2022-10-21</th>
      <td>55100</td>
      <td>56300</td>
      <td>55100</td>
      <td>55900</td>
      <td>11456060</td>
      <td>0.007207</td>
    </tr>
    <tr>
      <th>2022-10-24</th>
      <td>57000</td>
      <td>57500</td>
      <td>56700</td>
      <td>57500</td>
      <td>16944503</td>
      <td>0.028623</td>
    </tr>
    <tr>
      <th>2022-10-25</th>
      <td>57000</td>
      <td>58600</td>
      <td>57000</td>
      <td>57700</td>
      <td>17405678</td>
      <td>0.003478</td>
    </tr>
  </tbody>
</table>
<p>199 rows × 6 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-fae1b020-5a16-4f1c-b282-b307add9736a')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-fae1b020-5a16-4f1c-b282-b307add9736a button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-fae1b020-5a16-4f1c-b282-b307add9736a');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




## (9)　참고
한국 지수
KS11	KOSPI 지수,  
KQ11	KOSDAQ 지수  
KS50	KOSPI 50 지수  
KS100	KOSPI 100  
KRX100	KRX 100  
KS200	코스피 200   
미국 지수  
DJI	다우존스 지수  
IXIC	나스닥 지수  
US500	S&P 500 지수  
VIX	S&P 500 VIX  
국가별 주요 지수  
JP225	닛케이 225 선물  
STOXX50E	Euro Stoxx 50  
CSI300	CSI 300 (중국)  
HSI	항셍 (홍콩)  
FTSE	영국 FTSE  
DAX	독일 DAX 30  
CAC	프랑스 CAC 40  
환율  
USD/KRW	달러당 원화 환율  
USD/EUR	달러당 유로화 환율  
USD/JPY	달러당 엔화 환율  
CNY/KRW	위엔화 원화 환율  
EUR/USD	유로화 달러 환율  
USD/JPY	달러 엔화 환율  
JPY/KRW	엔화 원화 환율  
AUD/USD	오스트레일리아 달러 환율  
EUR/JPY	유로화 엔화 환율  
USD/RUB	달러 루블화  
암호화폐 가격(KRW)  
BTC/KRW	비트코인 원화 가격  
ETH/KRW	이더리움 원화 가격  
XRP/KRW	리플 원화 가격  
BCH/KRW	비트코인 캐시 원화 가격  
EOS/KRW	이오스 원화 가격  
LTC/KRW	라이트 코인 원화 가격  
XLM/KRW	스텔라 원화 가격  

# 제2절 시각화
# 1.그래픽 종류
line	line graph  
pie	pie chart  
scatter	scatter plot  
bar, barh	vertical, horizontal bar charts  
area	area plots  
box	box plot  
hexbin	hexbin plot  
hist	histogram  
kde, density	kernel density charts

# (1) 라인 그래프로 보여주기


```python
df = fdr.DataReader('005930', '2020')
df ['Close'].plot()
```




    <Axes: xlabel='Date'>




    
![png](output_47_1.png)
    


## (2) 막대그래프 보여주기


```python
df ['Close'].hist()
```




    <Axes: >




    
![png](output_49_1.png)
    


### 1) 같은 연도를 쓰면 나오지 않음


```python
import FinanceDataReader as fdr
fdr.DataReader('005930', start = '2021', end = '2021')
```





  <div id="df-0dd46062-7c79-4cb5-96d0-1ad56cc63af2">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Close</th>
      <th>Volume</th>
      <th>Change</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-0dd46062-7c79-4cb5-96d0-1ad56cc63af2')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-0dd46062-7c79-4cb5-96d0-1ad56cc63af2 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-0dd46062-7c79-4cb5-96d0-1ad56cc63af2');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




### 2) 2021년 주가 가져오기


```python
import FinanceDataReader as fdr
fdr.DataReader('005930', start = '2021', end = '2022')
```





  <div id="df-126f8cb0-bb66-4b5c-bc5a-00e66003626b">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Close</th>
      <th>Volume</th>
      <th>Change</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2021-01-04</th>
      <td>81000</td>
      <td>84400</td>
      <td>80200</td>
      <td>83000</td>
      <td>38655276</td>
      <td>0.024691</td>
    </tr>
    <tr>
      <th>2021-01-05</th>
      <td>81600</td>
      <td>83900</td>
      <td>81600</td>
      <td>83900</td>
      <td>35335669</td>
      <td>0.010843</td>
    </tr>
    <tr>
      <th>2021-01-06</th>
      <td>83300</td>
      <td>84500</td>
      <td>82100</td>
      <td>82200</td>
      <td>42089013</td>
      <td>-0.020262</td>
    </tr>
    <tr>
      <th>2021-01-07</th>
      <td>82800</td>
      <td>84200</td>
      <td>82700</td>
      <td>82900</td>
      <td>32644642</td>
      <td>0.008516</td>
    </tr>
    <tr>
      <th>2021-01-08</th>
      <td>83300</td>
      <td>90000</td>
      <td>83000</td>
      <td>88800</td>
      <td>59013307</td>
      <td>0.071170</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2021-12-24</th>
      <td>80200</td>
      <td>80800</td>
      <td>80200</td>
      <td>80500</td>
      <td>12086380</td>
      <td>0.007509</td>
    </tr>
    <tr>
      <th>2021-12-27</th>
      <td>80600</td>
      <td>80600</td>
      <td>79800</td>
      <td>80200</td>
      <td>10783368</td>
      <td>-0.003727</td>
    </tr>
    <tr>
      <th>2021-12-28</th>
      <td>80200</td>
      <td>80400</td>
      <td>79700</td>
      <td>80300</td>
      <td>18226325</td>
      <td>0.001247</td>
    </tr>
    <tr>
      <th>2021-12-29</th>
      <td>80200</td>
      <td>80200</td>
      <td>78500</td>
      <td>78800</td>
      <td>19794795</td>
      <td>-0.018680</td>
    </tr>
    <tr>
      <th>2021-12-30</th>
      <td>78900</td>
      <td>79500</td>
      <td>78100</td>
      <td>78300</td>
      <td>14236700</td>
      <td>-0.006345</td>
    </tr>
  </tbody>
</table>
<p>248 rows × 6 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-126f8cb0-bb66-4b5c-bc5a-00e66003626b')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-126f8cb0-bb66-4b5c-bc5a-00e66003626b button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-126f8cb0-bb66-4b5c-bc5a-00e66003626b');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




# 2. pykrx
https://github.com/sharebook-kr/pykrx

KRX, Naver 등의 웹사이트에서 주가정보를 스크래핑하는 모듈

특정 시점의 상장 종목코드 조회 가능
해당 종목코드의 종목명을 조회하는 함수가 별도로 존재

## (1) 설치하기
pykrx의 stock 모듈을 import 한 후 다른 작업 진행


```python
!pip install pykrx
```

    Requirement already satisfied: pykrx in /usr/local/lib/python3.10/dist-packages (1.0.42)
    Requirement already satisfied: requests in /usr/local/lib/python3.10/dist-packages (from pykrx) (2.27.1)
    Requirement already satisfied: pandas in /usr/local/lib/python3.10/dist-packages (from pykrx) (1.5.3)
    Requirement already satisfied: datetime in /usr/local/lib/python3.10/dist-packages (from pykrx) (5.1)
    Requirement already satisfied: numpy in /usr/local/lib/python3.10/dist-packages (from pykrx) (1.22.4)
    Requirement already satisfied: xlrd in /usr/local/lib/python3.10/dist-packages (from pykrx) (2.0.1)
    Requirement already satisfied: deprecated in /usr/local/lib/python3.10/dist-packages (from pykrx) (1.2.14)
    Requirement already satisfied: multipledispatch in /usr/local/lib/python3.10/dist-packages (from pykrx) (0.6.0)
    Requirement already satisfied: matplotlib in /usr/local/lib/python3.10/dist-packages (from pykrx) (3.7.1)
    Requirement already satisfied: zope.interface in /usr/local/lib/python3.10/dist-packages (from datetime->pykrx) (6.0)
    Requirement already satisfied: pytz in /usr/local/lib/python3.10/dist-packages (from datetime->pykrx) (2022.7.1)
    Requirement already satisfied: wrapt<2,>=1.10 in /usr/local/lib/python3.10/dist-packages (from deprecated->pykrx) (1.14.1)
    Requirement already satisfied: contourpy>=1.0.1 in /usr/local/lib/python3.10/dist-packages (from matplotlib->pykrx) (1.1.0)
    Requirement already satisfied: cycler>=0.10 in /usr/local/lib/python3.10/dist-packages (from matplotlib->pykrx) (0.11.0)
    Requirement already satisfied: fonttools>=4.22.0 in /usr/local/lib/python3.10/dist-packages (from matplotlib->pykrx) (4.40.0)
    Requirement already satisfied: kiwisolver>=1.0.1 in /usr/local/lib/python3.10/dist-packages (from matplotlib->pykrx) (1.4.4)
    Requirement already satisfied: packaging>=20.0 in /usr/local/lib/python3.10/dist-packages (from matplotlib->pykrx) (23.1)
    Requirement already satisfied: pillow>=6.2.0 in /usr/local/lib/python3.10/dist-packages (from matplotlib->pykrx) (8.4.0)
    Requirement already satisfied: pyparsing>=2.3.1 in /usr/local/lib/python3.10/dist-packages (from matplotlib->pykrx) (3.1.0)
    Requirement already satisfied: python-dateutil>=2.7 in /usr/local/lib/python3.10/dist-packages (from matplotlib->pykrx) (2.8.2)
    Requirement already satisfied: six in /usr/local/lib/python3.10/dist-packages (from multipledispatch->pykrx) (1.16.0)
    Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/local/lib/python3.10/dist-packages (from requests->pykrx) (1.26.16)
    Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/dist-packages (from requests->pykrx) (2023.5.7)
    Requirement already satisfied: charset-normalizer~=2.0.0 in /usr/local/lib/python3.10/dist-packages (from requests->pykrx) (2.0.12)
    Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/dist-packages (from requests->pykrx) (3.4)
    Requirement already satisfied: setuptools in /usr/local/lib/python3.10/dist-packages (from zope.interface->datetime->pykrx) (67.7.2)
    

## (2) 데이터 불러오기
① "get_market_ticker_list" 메서드는 주식 종목들을 가져오기  
② "get_market_ticker_name" 메서드는 심볼(티커)을 받으면 기업 이름을 가져오기


KOSPI/KOSDAQ/KONEX 종목코드 조회


```python
from pykrx import stock

stock_code = stock.get_market_ticker_list(date="20220630", market="ALL")
(stock_code[:6], len(stock_code))
```




    (['060310', '095570', '006840', '054620', '265520', '211270'], 2629)



KOSPI 종목코드 조회


```python
stock_code = stock.get_market_ticker_list(date='20220928', market='KOSPI')
(stock_code[:6], len(stock_code))
```




    (['095570', '006840', '027410', '282330', '138930', '001460'], 939)




```python
kospi = stock.get_market_ticker_list('20220617', market='KOSPI')
kospi[:5]
```




    ['095570', '006840', '027410', '282330', '138930']



KOSDAQ 종목코드 조회


```python
stock_code = stock.get_market_ticker_list(date='20220928', market='KOSDAQ')
(stock_code[:6], len(stock_code))
```




    (['060310', '054620', '265520', '211270', '032790', '013720'], 1582)



종목명 반환


```python
stock_name = stock.get_market_ticker_name('005930')
stock_name
```




    '삼성전자'



## (3) "get_market_ohlcv" 메서드는 OHLCV 주식 시세를 가져오기
일자별 OHLCV(시가, 고가, 저가, 종가, 거래량) 조회¶

삼성전자의 20220101~20220920의 주가데이터


```python
df = stock.get_market_ohlcv_by_date(fromdate="20220101", todate="20220920", ticker="005930")
df
```





  <div id="df-a1e40c53-1d2d-4aee-a5df-19cd6499e8a5">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>시가</th>
      <th>고가</th>
      <th>저가</th>
      <th>종가</th>
      <th>거래량</th>
      <th>거래대금</th>
      <th>등락률</th>
    </tr>
    <tr>
      <th>날짜</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2022-01-03</th>
      <td>79400</td>
      <td>79800</td>
      <td>78200</td>
      <td>78600</td>
      <td>13502112</td>
      <td>1066006837750</td>
      <td>0.38</td>
    </tr>
    <tr>
      <th>2022-01-04</th>
      <td>78800</td>
      <td>79200</td>
      <td>78300</td>
      <td>78700</td>
      <td>12427416</td>
      <td>977990613000</td>
      <td>0.13</td>
    </tr>
    <tr>
      <th>2022-01-05</th>
      <td>78800</td>
      <td>79000</td>
      <td>76400</td>
      <td>77400</td>
      <td>25470640</td>
      <td>1967841509800</td>
      <td>-1.65</td>
    </tr>
    <tr>
      <th>2022-01-06</th>
      <td>76700</td>
      <td>77600</td>
      <td>76600</td>
      <td>76900</td>
      <td>12931954</td>
      <td>996378432570</td>
      <td>-0.65</td>
    </tr>
    <tr>
      <th>2022-01-07</th>
      <td>78100</td>
      <td>78400</td>
      <td>77400</td>
      <td>78300</td>
      <td>15163757</td>
      <td>1184236552700</td>
      <td>1.82</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2022-09-14</th>
      <td>56200</td>
      <td>57200</td>
      <td>56100</td>
      <td>56800</td>
      <td>12524961</td>
      <td>709906007000</td>
      <td>-2.24</td>
    </tr>
    <tr>
      <th>2022-09-15</th>
      <td>57000</td>
      <td>57100</td>
      <td>56000</td>
      <td>56000</td>
      <td>11664819</td>
      <td>657641711500</td>
      <td>-1.41</td>
    </tr>
    <tr>
      <th>2022-09-16</th>
      <td>55600</td>
      <td>56400</td>
      <td>55500</td>
      <td>56200</td>
      <td>13456503</td>
      <td>752455682838</td>
      <td>0.36</td>
    </tr>
    <tr>
      <th>2022-09-19</th>
      <td>56300</td>
      <td>57000</td>
      <td>56000</td>
      <td>56400</td>
      <td>12278653</td>
      <td>693636680000</td>
      <td>0.36</td>
    </tr>
    <tr>
      <th>2022-09-20</th>
      <td>56400</td>
      <td>57000</td>
      <td>55800</td>
      <td>55800</td>
      <td>14041465</td>
      <td>788331519815</td>
      <td>-1.06</td>
    </tr>
  </tbody>
</table>
<p>176 rows × 7 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-a1e40c53-1d2d-4aee-a5df-19cd6499e8a5')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-a1e40c53-1d2d-4aee-a5df-19cd6499e8a5 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-a1e40c53-1d2d-4aee-a5df-19cd6499e8a5');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




## (4) 일정 기간 종목의 가격 변동 조회 Permalink
get_market_price_change_by_ticker(fromdate=”조회시작일”,todate=”조회종료일”, market=”거래소명”)


```python

```


```python
df = stock.get_market_price_change_by_ticker(fromdate='20220801', todate='20220920')
df.head()
```





  <div id="df-c7178dc6-8e30-4ee7-aabe-6a45513278d7">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>종목명</th>
      <th>시가</th>
      <th>종가</th>
      <th>변동폭</th>
      <th>등락률</th>
      <th>거래량</th>
      <th>거래대금</th>
    </tr>
    <tr>
      <th>티커</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>095570</th>
      <td>AJ네트웍스</td>
      <td>8030</td>
      <td>7830</td>
      <td>-200</td>
      <td>-2.49</td>
      <td>5463509</td>
      <td>43102591480</td>
    </tr>
    <tr>
      <th>006840</th>
      <td>AK홀딩스</td>
      <td>16350</td>
      <td>15750</td>
      <td>-600</td>
      <td>-3.67</td>
      <td>344494</td>
      <td>5587561800</td>
    </tr>
    <tr>
      <th>027410</th>
      <td>BGF</td>
      <td>4215</td>
      <td>3900</td>
      <td>-315</td>
      <td>-7.47</td>
      <td>4444087</td>
      <td>18277872435</td>
    </tr>
    <tr>
      <th>282330</th>
      <td>BGF리테일</td>
      <td>181000</td>
      <td>164000</td>
      <td>-17000</td>
      <td>-9.39</td>
      <td>1947992</td>
      <td>322270114000</td>
    </tr>
    <tr>
      <th>138930</th>
      <td>BNK금융지주</td>
      <td>6790</td>
      <td>6610</td>
      <td>-180</td>
      <td>-2.65</td>
      <td>34970261</td>
      <td>234444930075</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-c7178dc6-8e30-4ee7-aabe-6a45513278d7')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-c7178dc6-8e30-4ee7-aabe-6a45513278d7 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-c7178dc6-8e30-4ee7-aabe-6a45513278d7');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




## (5) 특정 일자 전체 종목 시세 OHLCV(시가, 고가, 저가, 종가, 거래량, 거래대금, 등락률) 가져오기
stock.get_market_ohlcv_by_ticker(date=날짜)


```python
df = stock.get_market_ohlcv_by_ticker(date="20220920")
df.head()
```





  <div id="df-a8002d2f-f16d-43b7-b34f-8857a2e5bed2">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>시가</th>
      <th>고가</th>
      <th>저가</th>
      <th>종가</th>
      <th>거래량</th>
      <th>거래대금</th>
      <th>등락률</th>
    </tr>
    <tr>
      <th>티커</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>095570</th>
      <td>7980</td>
      <td>8140</td>
      <td>7830</td>
      <td>7830</td>
      <td>214050</td>
      <td>1707067150</td>
      <td>0.64</td>
    </tr>
    <tr>
      <th>006840</th>
      <td>15300</td>
      <td>15800</td>
      <td>15300</td>
      <td>15750</td>
      <td>7227</td>
      <td>112495150</td>
      <td>1.29</td>
    </tr>
    <tr>
      <th>027410</th>
      <td>3845</td>
      <td>3925</td>
      <td>3805</td>
      <td>3900</td>
      <td>119734</td>
      <td>466020190</td>
      <td>1.43</td>
    </tr>
    <tr>
      <th>282330</th>
      <td>166000</td>
      <td>168000</td>
      <td>162500</td>
      <td>164000</td>
      <td>73238</td>
      <td>12111634000</td>
      <td>-0.30</td>
    </tr>
    <tr>
      <th>138930</th>
      <td>6580</td>
      <td>6660</td>
      <td>6550</td>
      <td>6610</td>
      <td>1139966</td>
      <td>7534064600</td>
      <td>0.76</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-a8002d2f-f16d-43b7-b34f-8857a2e5bed2')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-a8002d2f-f16d-43b7-b34f-8857a2e5bed2 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-a8002d2f-f16d-43b7-b34f-8857a2e5bed2');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




## (6) 개별종목 날짜별 OHLCV(시가, 고가, 저가, 종가, 거래량, 거래대금, 등락률) 가져오기
stock.get_market_ohlcv_by_date(조회시작일, 조회종료일, 종목코드)


```python
df = stock.get_market_ohlcv_by_date("20220820", "20220925", "005930")
df.head()
```





  <div id="df-069e1606-ea6a-4231-931d-99259ba35eec">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>시가</th>
      <th>고가</th>
      <th>저가</th>
      <th>종가</th>
      <th>거래량</th>
      <th>거래대금</th>
      <th>등락률</th>
    </tr>
    <tr>
      <th>날짜</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2022-08-22</th>
      <td>60300</td>
      <td>60400</td>
      <td>59800</td>
      <td>60000</td>
      <td>8259865</td>
      <td>495732266100</td>
      <td>-1.48</td>
    </tr>
    <tr>
      <th>2022-08-23</th>
      <td>59000</td>
      <td>59600</td>
      <td>59000</td>
      <td>59100</td>
      <td>9041629</td>
      <td>535657353300</td>
      <td>-1.50</td>
    </tr>
    <tr>
      <th>2022-08-24</th>
      <td>59200</td>
      <td>59500</td>
      <td>59000</td>
      <td>59000</td>
      <td>8888486</td>
      <td>525406965200</td>
      <td>-0.17</td>
    </tr>
    <tr>
      <th>2022-08-25</th>
      <td>59200</td>
      <td>59700</td>
      <td>59000</td>
      <td>59700</td>
      <td>5767902</td>
      <td>342780937200</td>
      <td>1.19</td>
    </tr>
    <tr>
      <th>2022-08-26</th>
      <td>60300</td>
      <td>60900</td>
      <td>59900</td>
      <td>60000</td>
      <td>9499995</td>
      <td>573040309950</td>
      <td>0.50</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-069e1606-ea6a-4231-931d-99259ba35eec')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-069e1606-ea6a-4231-931d-99259ba35eec button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-069e1606-ea6a-4231-931d-99259ba35eec');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
df = stock.get_market_ohlcv_by_date("20220820", "20220925", "005930")
df
```





  <div id="df-caabd469-c09b-4d51-b143-90d184559d57">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>시가</th>
      <th>고가</th>
      <th>저가</th>
      <th>종가</th>
      <th>거래량</th>
      <th>거래대금</th>
      <th>등락률</th>
    </tr>
    <tr>
      <th>날짜</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2022-08-22</th>
      <td>60300</td>
      <td>60400</td>
      <td>59800</td>
      <td>60000</td>
      <td>8259865</td>
      <td>495732266100</td>
      <td>-1.48</td>
    </tr>
    <tr>
      <th>2022-08-23</th>
      <td>59000</td>
      <td>59600</td>
      <td>59000</td>
      <td>59100</td>
      <td>9041629</td>
      <td>535657353300</td>
      <td>-1.50</td>
    </tr>
    <tr>
      <th>2022-08-24</th>
      <td>59200</td>
      <td>59500</td>
      <td>59000</td>
      <td>59000</td>
      <td>8888486</td>
      <td>525406965200</td>
      <td>-0.17</td>
    </tr>
    <tr>
      <th>2022-08-25</th>
      <td>59200</td>
      <td>59700</td>
      <td>59000</td>
      <td>59700</td>
      <td>5767902</td>
      <td>342780937200</td>
      <td>1.19</td>
    </tr>
    <tr>
      <th>2022-08-26</th>
      <td>60300</td>
      <td>60900</td>
      <td>59900</td>
      <td>60000</td>
      <td>9499995</td>
      <td>573040309950</td>
      <td>0.50</td>
    </tr>
    <tr>
      <th>2022-08-29</th>
      <td>58700</td>
      <td>58900</td>
      <td>58600</td>
      <td>58600</td>
      <td>9841329</td>
      <td>577684200900</td>
      <td>-2.33</td>
    </tr>
    <tr>
      <th>2022-08-30</th>
      <td>58700</td>
      <td>59000</td>
      <td>58300</td>
      <td>58800</td>
      <td>9690044</td>
      <td>567627668500</td>
      <td>0.34</td>
    </tr>
    <tr>
      <th>2022-08-31</th>
      <td>58200</td>
      <td>59900</td>
      <td>58200</td>
      <td>59700</td>
      <td>14203512</td>
      <td>841319635900</td>
      <td>1.53</td>
    </tr>
    <tr>
      <th>2022-09-01</th>
      <td>58700</td>
      <td>58900</td>
      <td>58300</td>
      <td>58400</td>
      <td>14905777</td>
      <td>872374620601</td>
      <td>-2.18</td>
    </tr>
    <tr>
      <th>2022-09-02</th>
      <td>58300</td>
      <td>58600</td>
      <td>57500</td>
      <td>57500</td>
      <td>15040310</td>
      <td>872040367551</td>
      <td>-1.54</td>
    </tr>
    <tr>
      <th>2022-09-05</th>
      <td>57400</td>
      <td>57800</td>
      <td>56800</td>
      <td>57100</td>
      <td>11425977</td>
      <td>653884056584</td>
      <td>-0.70</td>
    </tr>
    <tr>
      <th>2022-09-06</th>
      <td>57200</td>
      <td>57600</td>
      <td>56900</td>
      <td>57100</td>
      <td>7503086</td>
      <td>429152038700</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>2022-09-07</th>
      <td>56700</td>
      <td>56700</td>
      <td>55900</td>
      <td>56000</td>
      <td>17384854</td>
      <td>975695179700</td>
      <td>-1.93</td>
    </tr>
    <tr>
      <th>2022-09-08</th>
      <td>56200</td>
      <td>56400</td>
      <td>55600</td>
      <td>55600</td>
      <td>18000016</td>
      <td>1006366398000</td>
      <td>-0.71</td>
    </tr>
    <tr>
      <th>2022-09-13</th>
      <td>57000</td>
      <td>58500</td>
      <td>56800</td>
      <td>58100</td>
      <td>17166581</td>
      <td>991015891355</td>
      <td>4.50</td>
    </tr>
    <tr>
      <th>2022-09-14</th>
      <td>56200</td>
      <td>57200</td>
      <td>56100</td>
      <td>56800</td>
      <td>12524961</td>
      <td>709906007000</td>
      <td>-2.24</td>
    </tr>
    <tr>
      <th>2022-09-15</th>
      <td>57000</td>
      <td>57100</td>
      <td>56000</td>
      <td>56000</td>
      <td>11664819</td>
      <td>657641711500</td>
      <td>-1.41</td>
    </tr>
    <tr>
      <th>2022-09-16</th>
      <td>55600</td>
      <td>56400</td>
      <td>55500</td>
      <td>56200</td>
      <td>13456503</td>
      <td>752455682838</td>
      <td>0.36</td>
    </tr>
    <tr>
      <th>2022-09-19</th>
      <td>56300</td>
      <td>57000</td>
      <td>56000</td>
      <td>56400</td>
      <td>12278653</td>
      <td>693636680000</td>
      <td>0.36</td>
    </tr>
    <tr>
      <th>2022-09-20</th>
      <td>56400</td>
      <td>57000</td>
      <td>55800</td>
      <td>55800</td>
      <td>14041465</td>
      <td>788331519815</td>
      <td>-1.06</td>
    </tr>
    <tr>
      <th>2022-09-21</th>
      <td>55400</td>
      <td>55500</td>
      <td>55000</td>
      <td>55300</td>
      <td>11863700</td>
      <td>655017421100</td>
      <td>-0.90</td>
    </tr>
    <tr>
      <th>2022-09-22</th>
      <td>54600</td>
      <td>54700</td>
      <td>54300</td>
      <td>54400</td>
      <td>12786510</td>
      <td>696058101600</td>
      <td>-1.63</td>
    </tr>
    <tr>
      <th>2022-09-23</th>
      <td>54400</td>
      <td>54900</td>
      <td>54200</td>
      <td>54500</td>
      <td>10555964</td>
      <td>575503622100</td>
      <td>0.18</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-caabd469-c09b-4d51-b143-90d184559d57')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-caabd469-c09b-4d51-b143-90d184559d57 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-caabd469-c09b-4d51-b143-90d184559d57');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




## (7) 전체 종목의 펀더멘탈 지표(PER, PBR, EPS, BPS, DIV, DPS) 가져오기
stock.get_market_fundamental_by_ticker(date=날짜, market=거래소)

market의 기본값은 "ALL"

DIV(배당수익률): (주가배당금/주가) * 100

BPS(주당순자산가치=청산가치): (순자산)/(총발행주식수)

PER(주가수익비율): (주가)/(주당순이익)

EPS(주당순이익): (당기순이익)/(총발행주식수)

PBR(주가순자산비율) = (주가)/(BPS) = PER*EPS / BPS


```python
df = stock.get_market_fundamental_by_ticker(date='20220617', market="ALL")
df.head()
```





  <div id="df-13b214f7-9931-4ff9-b441-8db31daec593">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>BPS</th>
      <th>PER</th>
      <th>PBR</th>
      <th>EPS</th>
      <th>DIV</th>
      <th>DPS</th>
    </tr>
    <tr>
      <th>티커</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>060310</th>
      <td>792</td>
      <td>174.69</td>
      <td>3.53</td>
      <td>16</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>095570</th>
      <td>8075</td>
      <td>3.95</td>
      <td>0.84</td>
      <td>1707</td>
      <td>4.00</td>
      <td>270</td>
    </tr>
    <tr>
      <th>006840</th>
      <td>45961</td>
      <td>0.00</td>
      <td>0.37</td>
      <td>0</td>
      <td>1.17</td>
      <td>200</td>
    </tr>
    <tr>
      <th>054620</th>
      <td>10088</td>
      <td>8.07</td>
      <td>0.94</td>
      <td>1179</td>
      <td>1.05</td>
      <td>100</td>
    </tr>
    <tr>
      <th>265520</th>
      <td>12713</td>
      <td>4.88</td>
      <td>1.51</td>
      <td>3932</td>
      <td>1.25</td>
      <td>240</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-13b214f7-9931-4ff9-b441-8db31daec593')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-13b214f7-9931-4ff9-b441-8db31daec593 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-13b214f7-9931-4ff9-b441-8db31daec593');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




특정일자의 종목별 DIV/BPS/PER/EPS 조회  
get_market_fundamental_by_ticker (date="YYYYMMDD", market="거래소명")


```python
df = stock.get_market_fundamental_by_ticker(date='20210520')
df.head()
```





  <div id="df-e44b1e5b-7073-459c-950e-98f0c6b27794">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>BPS</th>
      <th>PER</th>
      <th>PBR</th>
      <th>EPS</th>
      <th>DIV</th>
      <th>DPS</th>
    </tr>
    <tr>
      <th>티커</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>095570</th>
      <td>6089</td>
      <td>0.00</td>
      <td>0.96</td>
      <td>0</td>
      <td>3.61</td>
      <td>210</td>
    </tr>
    <tr>
      <th>006840</th>
      <td>50471</td>
      <td>0.00</td>
      <td>0.69</td>
      <td>0</td>
      <td>1.14</td>
      <td>400</td>
    </tr>
    <tr>
      <th>027410</th>
      <td>15781</td>
      <td>23.93</td>
      <td>0.43</td>
      <td>285</td>
      <td>1.61</td>
      <td>110</td>
    </tr>
    <tr>
      <th>282330</th>
      <td>40317</td>
      <td>25.06</td>
      <td>4.42</td>
      <td>7103</td>
      <td>1.35</td>
      <td>2400</td>
    </tr>
    <tr>
      <th>138930</th>
      <td>26781</td>
      <td>5.31</td>
      <td>0.30</td>
      <td>1498</td>
      <td>4.02</td>
      <td>320</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-e44b1e5b-7073-459c-950e-98f0c6b27794')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-e44b1e5b-7073-459c-950e-98f0c6b27794 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-e44b1e5b-7073-459c-950e-98f0c6b27794');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




일자별 개별종목 DIV/BPS/PER/EPS 조회
get_market_fundamental_by_date(fromdate, todate, ticker, freq='d', name_display=False)

freq: d(일), m(월), y(연도)


```python
df = stock.get_market_fundamental_by_date(fromdate="20200101", todate="20211231", ticker="005930")
df
```





  <div id="df-d6554983-d1e2-4a69-8a87-5f010ee95d50">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>BPS</th>
      <th>PER</th>
      <th>PBR</th>
      <th>EPS</th>
      <th>DIV</th>
      <th>DPS</th>
    </tr>
    <tr>
      <th>날짜</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020-01-02</th>
      <td>35342</td>
      <td>8.54</td>
      <td>1.56</td>
      <td>6461</td>
      <td>2.57</td>
      <td>1416</td>
    </tr>
    <tr>
      <th>2020-01-03</th>
      <td>35342</td>
      <td>8.59</td>
      <td>1.57</td>
      <td>6461</td>
      <td>2.55</td>
      <td>1416</td>
    </tr>
    <tr>
      <th>2020-01-06</th>
      <td>35342</td>
      <td>8.59</td>
      <td>1.57</td>
      <td>6461</td>
      <td>2.55</td>
      <td>1416</td>
    </tr>
    <tr>
      <th>2020-01-07</th>
      <td>35342</td>
      <td>8.64</td>
      <td>1.58</td>
      <td>6461</td>
      <td>2.54</td>
      <td>1416</td>
    </tr>
    <tr>
      <th>2020-01-08</th>
      <td>35342</td>
      <td>8.79</td>
      <td>1.61</td>
      <td>6461</td>
      <td>2.49</td>
      <td>1416</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2021-12-24</th>
      <td>39406</td>
      <td>20.96</td>
      <td>2.04</td>
      <td>3841</td>
      <td>3.72</td>
      <td>2994</td>
    </tr>
    <tr>
      <th>2021-12-27</th>
      <td>39406</td>
      <td>20.88</td>
      <td>2.04</td>
      <td>3841</td>
      <td>3.73</td>
      <td>2994</td>
    </tr>
    <tr>
      <th>2021-12-28</th>
      <td>39406</td>
      <td>20.91</td>
      <td>2.04</td>
      <td>3841</td>
      <td>3.73</td>
      <td>2994</td>
    </tr>
    <tr>
      <th>2021-12-29</th>
      <td>39406</td>
      <td>20.52</td>
      <td>2.00</td>
      <td>3841</td>
      <td>3.80</td>
      <td>2994</td>
    </tr>
    <tr>
      <th>2021-12-30</th>
      <td>39406</td>
      <td>20.39</td>
      <td>1.99</td>
      <td>3841</td>
      <td>3.82</td>
      <td>2994</td>
    </tr>
  </tbody>
</table>
<p>496 rows × 6 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-d6554983-d1e2-4a69-8a87-5f010ee95d50')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-d6554983-d1e2-4a69-8a87-5f010ee95d50 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-d6554983-d1e2-4a69-8a87-5f010ee95d50');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




frequency 파라미터(d/m/y)를 추가


```python
df = stock.get_market_fundamental_by_date("20200101", "20200203", "005930", freq="m")
df.head(2)
```





  <div id="df-528c4626-7cd1-4b43-b4d4-93d4114fc6a2">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>BPS</th>
      <th>PER</th>
      <th>PBR</th>
      <th>EPS</th>
      <th>DIV</th>
      <th>DPS</th>
    </tr>
    <tr>
      <th>날짜</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020-01-31</th>
      <td>35342</td>
      <td>8.54</td>
      <td>1.56</td>
      <td>6461</td>
      <td>2.57</td>
      <td>1416</td>
    </tr>
    <tr>
      <th>2020-02-29</th>
      <td>35342</td>
      <td>8.85</td>
      <td>1.62</td>
      <td>6461</td>
      <td>2.48</td>
      <td>1416</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-528c4626-7cd1-4b43-b4d4-93d4114fc6a2')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-528c4626-7cd1-4b43-b4d4-93d4114fc6a2 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-528c4626-7cd1-4b43-b4d4-93d4114fc6a2');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
df = stock.get_market_fundamental_by_date(fromdate="20200101", todate="20211231", ticker="005930")
df.head()
```





  <div id="df-4cceec31-32e9-4036-a42a-95537f8a9b03">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>BPS</th>
      <th>PER</th>
      <th>PBR</th>
      <th>EPS</th>
      <th>DIV</th>
      <th>DPS</th>
    </tr>
    <tr>
      <th>날짜</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020-01-02</th>
      <td>35342</td>
      <td>8.54</td>
      <td>1.56</td>
      <td>6461</td>
      <td>2.57</td>
      <td>1416</td>
    </tr>
    <tr>
      <th>2020-01-03</th>
      <td>35342</td>
      <td>8.59</td>
      <td>1.57</td>
      <td>6461</td>
      <td>2.55</td>
      <td>1416</td>
    </tr>
    <tr>
      <th>2020-01-06</th>
      <td>35342</td>
      <td>8.59</td>
      <td>1.57</td>
      <td>6461</td>
      <td>2.55</td>
      <td>1416</td>
    </tr>
    <tr>
      <th>2020-01-07</th>
      <td>35342</td>
      <td>8.64</td>
      <td>1.58</td>
      <td>6461</td>
      <td>2.54</td>
      <td>1416</td>
    </tr>
    <tr>
      <th>2020-01-08</th>
      <td>35342</td>
      <td>8.79</td>
      <td>1.61</td>
      <td>6461</td>
      <td>2.49</td>
      <td>1416</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-4cceec31-32e9-4036-a42a-95537f8a9b03')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-4cceec31-32e9-4036-a42a-95537f8a9b03 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-4cceec31-32e9-4036-a42a-95537f8a9b03');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
df = stock.get_market_ohlcv("20150720", "20150810", "005930")
df.head(3)
```





  <div id="df-f3891b6b-fc30-47a2-b2db-5d26b15cf905">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>시가</th>
      <th>고가</th>
      <th>저가</th>
      <th>종가</th>
      <th>거래량</th>
      <th>거래대금</th>
      <th>등락률</th>
    </tr>
    <tr>
      <th>날짜</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2015-07-20</th>
      <td>1291000</td>
      <td>1304000</td>
      <td>1273000</td>
      <td>1275000</td>
      <td>128928</td>
      <td>165366199000</td>
      <td>-2.30</td>
    </tr>
    <tr>
      <th>2015-07-21</th>
      <td>1275000</td>
      <td>1277000</td>
      <td>1247000</td>
      <td>1263000</td>
      <td>194055</td>
      <td>244129106000</td>
      <td>-0.94</td>
    </tr>
    <tr>
      <th>2015-07-22</th>
      <td>1244000</td>
      <td>1260000</td>
      <td>1235000</td>
      <td>1253000</td>
      <td>268323</td>
      <td>333813094000</td>
      <td>-0.79</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-f3891b6b-fc30-47a2-b2db-5d26b15cf905')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-f3891b6b-fc30-47a2-b2db-5d26b15cf905 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-f3891b6b-fc30-47a2-b2db-5d26b15cf905');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




## (7) 거래량, 거래대금 조회하기
지정된 기간 동안의 일자별로 정렬된 (순매수) 거래량


```python
df = stock.get_market_trading_value_by_date("20210101", "20210701", "005930")
df.head()
```





  <div id="df-4e27f33e-40c6-4421-a934-0d0308d9e02c">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>기관합계</th>
      <th>기타법인</th>
      <th>개인</th>
      <th>외국인합계</th>
      <th>전체</th>
    </tr>
    <tr>
      <th>날짜</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2021-01-04</th>
      <td>-326136950200</td>
      <td>48480486000</td>
      <td>658901836000</td>
      <td>-381245371800</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2021-01-05</th>
      <td>-203963791100</td>
      <td>7236010900</td>
      <td>622727193300</td>
      <td>-425999413100</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2021-01-06</th>
      <td>-442463559600</td>
      <td>13521042200</td>
      <td>1013153304900</td>
      <td>-584210787500</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2021-01-07</th>
      <td>250129976600</td>
      <td>17802746700</td>
      <td>-71008181500</td>
      <td>-196924541800</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2021-01-08</th>
      <td>-436089196200</td>
      <td>1958064400</td>
      <td>-169881010800</td>
      <td>604012142600</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-4e27f33e-40c6-4421-a934-0d0308d9e02c')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-4e27f33e-40c6-4421-a934-0d0308d9e02c button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-4e27f33e-40c6-4421-a934-0d0308d9e02c');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




매수 혹은 매도 금액을 조회하고 싶다면 on 파라미터에 입력할 수 있습니다. 입력하지 않는다면 순매수 금액이 조회


```python
df = stock.get_market_trading_value_by_date("20210115", "20210122", "005930", on="매도")
df.head()
```





  <div id="df-21a4976b-b5bb-4e18-b83e-6d489bb90632">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>기관합계</th>
      <th>기타법인</th>
      <th>개인</th>
      <th>외국인합계</th>
      <th>전체</th>
    </tr>
    <tr>
      <th>날짜</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2021-01-15</th>
      <td>1505250243300</td>
      <td>19525756900</td>
      <td>925426195700</td>
      <td>525029741764</td>
      <td>2975231937664</td>
    </tr>
    <tr>
      <th>2021-01-18</th>
      <td>1353223733500</td>
      <td>22132983500</td>
      <td>1883422627200</td>
      <td>456996648400</td>
      <td>3715775992600</td>
    </tr>
    <tr>
      <th>2021-01-19</th>
      <td>1205081446400</td>
      <td>28155090000</td>
      <td>1800734616800</td>
      <td>407371601300</td>
      <td>3441342754500</td>
    </tr>
    <tr>
      <th>2021-01-20</th>
      <td>1147190346800</td>
      <td>10015618200</td>
      <td>643413644500</td>
      <td>405119540200</td>
      <td>2205739149700</td>
    </tr>
    <tr>
      <th>2021-01-21</th>
      <td>878411497500</td>
      <td>41184362100</td>
      <td>851899126900</td>
      <td>439714802000</td>
      <td>2211209788500</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-21a4976b-b5bb-4e18-b83e-6d489bb90632')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-21a4976b-b5bb-4e18-b83e-6d489bb90632 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-21a4976b-b5bb-4e18-b83e-6d489bb90632');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
df = stock.get_market_trading_value_by_date("20210115", "20210122", "005930", on="매수")
df.head()
```





  <div id="df-cfd24d4e-99e5-4c6f-976e-b73f1f102570">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>기관합계</th>
      <th>기타법인</th>
      <th>개인</th>
      <th>외국인합계</th>
      <th>전체</th>
    </tr>
    <tr>
      <th>날짜</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2021-01-15</th>
      <td>1064481034000</td>
      <td>44968044700</td>
      <td>1587035281300</td>
      <td>278747577664</td>
      <td>2975231937664</td>
    </tr>
    <tr>
      <th>2021-01-18</th>
      <td>1395547268500</td>
      <td>44815328300</td>
      <td>1898251748900</td>
      <td>377161646900</td>
      <td>3715775992600</td>
    </tr>
    <tr>
      <th>2021-01-19</th>
      <td>1300604499900</td>
      <td>24904667500</td>
      <td>1627250403500</td>
      <td>488583183600</td>
      <td>3441342754500</td>
    </tr>
    <tr>
      <th>2021-01-20</th>
      <td>782714132800</td>
      <td>32996251100</td>
      <td>1073529225500</td>
      <td>316499540300</td>
      <td>2205739149700</td>
    </tr>
    <tr>
      <th>2021-01-21</th>
      <td>817773991200</td>
      <td>13303508100</td>
      <td>1102184636900</td>
      <td>277947652300</td>
      <td>2211209788500</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-cfd24d4e-99e5-4c6f-976e-b73f1f102570')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-cfd24d4e-99e5-4c6f-976e-b73f1f102570 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-cfd24d4e-99e5-4c6f-976e-b73f1f102570');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




시장의 거래대금을 조회할 때는 ETF, ETN ELW의 포함 여부를 지정할 수 있습니다.  
만약 값을 지정하지 않는다면 해당 데이터를 제외한 값을 반환합니다.


```python
df = stock.get_market_trading_value_by_date("20210115", "20210122", "KOSPI", etf=True, etn=True, elw=True)
df.head()
```





  <div id="df-ace33501-3b67-498a-a10b-0d15a55f7bc8">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>기관합계</th>
      <th>기타법인</th>
      <th>개인</th>
      <th>외국인합계</th>
      <th>전체</th>
    </tr>
    <tr>
      <th>날짜</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2021-01-15</th>
      <td>-1536570309441</td>
      <td>63110174617</td>
      <td>2251672617980</td>
      <td>-778212483156</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2021-01-18</th>
      <td>-601428111357</td>
      <td>-27000808439</td>
      <td>494341183227</td>
      <td>134087736569</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2021-01-19</th>
      <td>544654406338</td>
      <td>21787409868</td>
      <td>-968965427363</td>
      <td>402523611157</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2021-01-20</th>
      <td>-1227642472619</td>
      <td>32139813590</td>
      <td>1444113501769</td>
      <td>-248610842740</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2021-01-21</th>
      <td>-284899892322</td>
      <td>-19072459127</td>
      <td>-61503500921</td>
      <td>365475852370</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-ace33501-3b67-498a-a10b-0d15a55f7bc8')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-ace33501-3b67-498a-a10b-0d15a55f7bc8 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-ace33501-3b67-498a-a10b-0d15a55f7bc8');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




일자별 시장의 거래량을 조회


```python
df = stock.get_market_trading_volume_by_date("20220101", "20220701", "005930")
df.head()
```





  <div id="df-0affebd2-b04c-43de-864a-ec1256df7332">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>기관합계</th>
      <th>기타법인</th>
      <th>개인</th>
      <th>외국인합계</th>
      <th>전체</th>
    </tr>
    <tr>
      <th>날짜</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2022-01-03</th>
      <td>-4178268</td>
      <td>60481</td>
      <td>2349662</td>
      <td>1768125</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2022-01-04</th>
      <td>-2623794</td>
      <td>24292</td>
      <td>1170907</td>
      <td>1428595</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2022-01-05</th>
      <td>-7727282</td>
      <td>-103764</td>
      <td>8414591</td>
      <td>-583545</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2022-01-06</th>
      <td>-2229379</td>
      <td>51631</td>
      <td>-41729</td>
      <td>2219477</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2022-01-07</th>
      <td>-2115197</td>
      <td>-49515</td>
      <td>-2194573</td>
      <td>4359285</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-0affebd2-b04c-43de-864a-ec1256df7332')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-0affebd2-b04c-43de-864a-ec1256df7332 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-0affebd2-b04c-43de-864a-ec1256df7332');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




매수 혹은 매도 거래량만을 조회하고 싶다면 on 파라미터에 입력 가능  
입력하지 않는다면 순매수 수량이 조회


```python
df = stock.get_market_trading_volume_by_date("20220101", "20220701", "005930", on="매도")
df.head()
```





  <div id="df-3d55f22c-15f0-42b7-abcd-c8a1f91d6545">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>기관합계</th>
      <th>기타법인</th>
      <th>개인</th>
      <th>외국인합계</th>
      <th>전체</th>
    </tr>
    <tr>
      <th>날짜</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2022-01-03</th>
      <td>8759701</td>
      <td>21053</td>
      <td>2807663</td>
      <td>1913695</td>
      <td>13502112</td>
    </tr>
    <tr>
      <th>2022-01-04</th>
      <td>8463883</td>
      <td>26174</td>
      <td>2332823</td>
      <td>1604536</td>
      <td>12427416</td>
    </tr>
    <tr>
      <th>2022-01-05</th>
      <td>15538421</td>
      <td>246850</td>
      <td>4129142</td>
      <td>5556227</td>
      <td>25470640</td>
    </tr>
    <tr>
      <th>2022-01-06</th>
      <td>7164696</td>
      <td>54432</td>
      <td>3801704</td>
      <td>1911122</td>
      <td>12931954</td>
    </tr>
    <tr>
      <th>2022-01-07</th>
      <td>7090895</td>
      <td>142380</td>
      <td>5006070</td>
      <td>2924412</td>
      <td>15163757</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-3d55f22c-15f0-42b7-abcd-c8a1f91d6545')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-3d55f22c-15f0-42b7-abcd-c8a1f91d6545 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-3d55f22c-15f0-42b7-abcd-c8a1f91d6545');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




지정된 기간 동안의 투자자별로 정렬된 (순매수) 거래대금


```python
df = stock.get_market_trading_value_by_investor("20210101", "20210701", "005930")
df.head()
```





  <div id="df-4e3a9b6a-984e-448e-a82e-337cb40785b3">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>매도</th>
      <th>매수</th>
      <th>순매수</th>
    </tr>
    <tr>
      <th>투자자구분</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>금융투자</th>
      <td>31066223912100</td>
      <td>28464867937600</td>
      <td>-2601355974500</td>
    </tr>
    <tr>
      <th>보험</th>
      <td>1808485504300</td>
      <td>779839009100</td>
      <td>-1028646495200</td>
    </tr>
    <tr>
      <th>투신</th>
      <td>3177067544700</td>
      <td>1794360840100</td>
      <td>-1382706704600</td>
    </tr>
    <tr>
      <th>사모</th>
      <td>1259026093300</td>
      <td>955202197900</td>
      <td>-303823895400</td>
    </tr>
    <tr>
      <th>은행</th>
      <td>149110410100</td>
      <td>87504448700</td>
      <td>-61605961400</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-4e3a9b6a-984e-448e-a82e-337cb40785b3')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-4e3a9b6a-984e-448e-a82e-337cb40785b3 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-4e3a9b6a-984e-448e-a82e-337cb40785b3');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




세 번째 파라미터에 KOSPI, KOSDAQ, KONEX를 지정하면 각 시장의 거래대금을 조회  
ALL을 입력하면 세 개의 시장을 합친 통합 거래대금을 조회


```python
df = stock.get_market_trading_value_by_investor("20210101", "20210701", "KOSPI")
df.head()
```





  <div id="df-64b05b73-b6ce-48dd-bdd2-8010d18336e9">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>매도</th>
      <th>매수</th>
      <th>순매수</th>
    </tr>
    <tr>
      <th>투자자구분</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>금융투자</th>
      <td>129106291931852</td>
      <td>124118597123721</td>
      <td>-4987694808131</td>
    </tr>
    <tr>
      <th>보험</th>
      <td>14553591609599</td>
      <td>11217910114022</td>
      <td>-3335681495577</td>
    </tr>
    <tr>
      <th>투신</th>
      <td>30145646816976</td>
      <td>25894892024771</td>
      <td>-4250754792205</td>
    </tr>
    <tr>
      <th>사모</th>
      <td>16717352065581</td>
      <td>13748646227789</td>
      <td>-2968705837792</td>
    </tr>
    <tr>
      <th>은행</th>
      <td>2106750785171</td>
      <td>829995794830</td>
      <td>-1276754990341</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-64b05b73-b6ce-48dd-bdd2-8010d18336e9')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-64b05b73-b6ce-48dd-bdd2-8010d18336e9 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-64b05b73-b6ce-48dd-bdd2-8010d18336e9');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




시장의 거래대금을 조회할 때는 ETF, ETN ELW의 포함 여부를 지정 가능  
만약 값을 지정하지 않는다면 해당 데이터를 제외한 값을을 반환  
옵션은 KOSPI, KOSDAQ, KONEX 조회할 때만 유효  


```python
df = stock.get_market_trading_value_by_investor("20210115", "20210122", "KOSPI", etf=True, etn=True, elw=True)
df.head()
```





  <div id="df-5500767c-ac7c-42c9-9b52-543b02d3e18d">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>매도</th>
      <th>매수</th>
      <th>순매수</th>
    </tr>
    <tr>
      <th>투자자구분</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>금융투자</th>
      <td>15985568261831</td>
      <td>15006116511544</td>
      <td>-979451750287</td>
    </tr>
    <tr>
      <th>보험</th>
      <td>1219035502445</td>
      <td>757575677208</td>
      <td>-461459825237</td>
    </tr>
    <tr>
      <th>투신</th>
      <td>2235561259511</td>
      <td>1799363743367</td>
      <td>-436197516144</td>
    </tr>
    <tr>
      <th>사모</th>
      <td>999084910863</td>
      <td>846067212945</td>
      <td>-153017697918</td>
    </tr>
    <tr>
      <th>은행</th>
      <td>886226324790</td>
      <td>936210985810</td>
      <td>49984661020</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-5500767c-ac7c-42c9-9b52-543b02d3e18d')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-5500767c-ac7c-42c9-9b52-543b02d3e18d button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-5500767c-ac7c-42c9-9b52-543b02d3e18d');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




지정된 기간 동안의 투자자별로 정렬된 (순매수) 거래량


```python
df = stock.get_market_trading_volume_by_investor("20210115", "20210122", "005930")
df.head()
```





  <div id="df-dc18e972-f14a-4d9d-bf5f-43ef61cc07bc">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>매도</th>
      <th>매수</th>
      <th>순매수</th>
    </tr>
    <tr>
      <th>투자자구분</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>금융투자</th>
      <td>29455909</td>
      <td>26450600</td>
      <td>-3005309</td>
    </tr>
    <tr>
      <th>보험</th>
      <td>1757287</td>
      <td>509535</td>
      <td>-1247752</td>
    </tr>
    <tr>
      <th>투신</th>
      <td>2950680</td>
      <td>1721970</td>
      <td>-1228710</td>
    </tr>
    <tr>
      <th>사모</th>
      <td>745727</td>
      <td>696135</td>
      <td>-49592</td>
    </tr>
    <tr>
      <th>은행</th>
      <td>38675</td>
      <td>46394</td>
      <td>7719</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-dc18e972-f14a-4d9d-bf5f-43ef61cc07bc')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-dc18e972-f14a-4d9d-bf5f-43ef61cc07bc button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-dc18e972-f14a-4d9d-bf5f-43ef61cc07bc');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




## (8) 종목별 시총 가져오기
get_market_cap_by_ticker 함수는 특정 일자의 종목별 시가총액/거래량/거래대금/상장주식수/외국인보유주식수를 조회  
외국인보유주식수는 D-2 (영업일 기준)일 까지 유효한 값이 출력되며, D-1일은 0으로 표기  


```python
df = stock.get_market_cap_by_ticker("20220901")
df.head()
```





  <div id="df-9e2cfd23-edb2-4d35-90c2-5bc767918cde">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>종가</th>
      <th>시가총액</th>
      <th>거래량</th>
      <th>거래대금</th>
      <th>상장주식수</th>
    </tr>
    <tr>
      <th>티커</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>005930</th>
      <td>58400</td>
      <td>348635300920000</td>
      <td>14905777</td>
      <td>872374620601</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>373220</th>
      <td>463000</td>
      <td>108342000000000</td>
      <td>289808</td>
      <td>134255218000</td>
      <td>234000000</td>
    </tr>
    <tr>
      <th>000660</th>
      <td>92400</td>
      <td>67267418526000</td>
      <td>2337521</td>
      <td>216798395700</td>
      <td>728002365</td>
    </tr>
    <tr>
      <th>207940</th>
      <td>826000</td>
      <td>58789724000000</td>
      <td>51619</td>
      <td>42488586000</td>
      <td>71174000</td>
    </tr>
    <tr>
      <th>005935</th>
      <td>53700</td>
      <td>44189015790000</td>
      <td>1047819</td>
      <td>56430850600</td>
      <td>822886700</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-9e2cfd23-edb2-4d35-90c2-5bc767918cde')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-9e2cfd23-edb2-4d35-90c2-5bc767918cde button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-9e2cfd23-edb2-4d35-90c2-5bc767918cde');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




일자별 시가 총액 조회  
get_market_cap_by_date 함수는 특정 종목의 일자별 시가총액을 조회  
거래량/거래대금/상장주식수가 함께 조회  


```python
df = stock.get_market_cap_by_date("20220101", "20220701", "005930")
df
```





  <div id="df-d912a14f-7016-4150-8c55-9ab22b3f2927">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>시가총액</th>
      <th>거래량</th>
      <th>거래대금</th>
      <th>상장주식수</th>
    </tr>
    <tr>
      <th>날짜</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2022-01-03</th>
      <td>469224908430000</td>
      <td>13502112</td>
      <td>1066006837750</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>2022-01-04</th>
      <td>469821886685000</td>
      <td>12427416</td>
      <td>977990613000</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>2022-01-05</th>
      <td>462061169370000</td>
      <td>25470640</td>
      <td>1967841509800</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>2022-01-06</th>
      <td>459076278095000</td>
      <td>12931954</td>
      <td>996378432570</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>2022-01-07</th>
      <td>467433973665000</td>
      <td>15163757</td>
      <td>1184236552700</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2022-06-27</th>
      <td>351023213940000</td>
      <td>18122236</td>
      <td>1071186745402</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>2022-06-28</th>
      <td>354605083470000</td>
      <td>13540538</td>
      <td>800041009700</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>2022-06-29</th>
      <td>346247387900000</td>
      <td>14677138</td>
      <td>855770425874</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>2022-06-30</th>
      <td>340277605350000</td>
      <td>18915142</td>
      <td>1082799462452</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>2022-07-01</th>
      <td>335501779310000</td>
      <td>24982097</td>
      <td>1412473217495</td>
      <td>5969782550</td>
    </tr>
  </tbody>
</table>
<p>122 rows × 4 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-d912a14f-7016-4150-8c55-9ab22b3f2927')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-d912a14f-7016-4150-8c55-9ab22b3f2927 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-d912a14f-7016-4150-8c55-9ab22b3f2927');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




get_market_cap_by_date() 함수에 frequency 파라미터(d/m/y)를 추가  
d는 일자, m은 월, y는 연도를 의미  
시가총액과 상장주식수는 월별 마지막 거래일의 값을 사용


```python
df = stock.get_market_cap_by_date("20220101", "20220701", "005930", "m")
df.head()
```





  <div id="df-e453222f-5750-4c90-86dd-fc9450ab6c26">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>시가총액</th>
      <th>거래량</th>
      <th>거래대금</th>
      <th>상장주식수</th>
    </tr>
    <tr>
      <th>날짜</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2022-01-31</th>
      <td>437585060915000</td>
      <td>280187100</td>
      <td>21353687791872</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>2022-02-28</th>
      <td>430421321855000</td>
      <td>233201135</td>
      <td>17162868317227</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>2022-03-31</th>
      <td>415496865480000</td>
      <td>307432780</td>
      <td>21623031900069</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>2022-04-30</th>
      <td>402363343870000</td>
      <td>309880731</td>
      <td>20862445445512</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>2022-05-31</th>
      <td>402363343870000</td>
      <td>310129252</td>
      <td>20749258205428</td>
      <td>5969782550</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-e453222f-5750-4c90-86dd-fc9450ab6c26')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-e453222f-5750-4c90-86dd-fc9450ab6c26 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-e453222f-5750-4c90-86dd-fc9450ab6c26');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




시가총액과 상장주식수는 월별 마지막 거래일의 값을 사용


```python
df = stock.get_market_cap_by_date("20220101", "20220701", "005930", "m")
df
```





  <div id="df-4b0b6713-c8ad-421a-ae02-d01eda206d34">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>시가총액</th>
      <th>거래량</th>
      <th>거래대금</th>
      <th>상장주식수</th>
    </tr>
    <tr>
      <th>날짜</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2022-01-31</th>
      <td>437585060915000</td>
      <td>280187100</td>
      <td>21353687791872</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>2022-02-28</th>
      <td>430421321855000</td>
      <td>233201135</td>
      <td>17162868317227</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>2022-03-31</th>
      <td>415496865480000</td>
      <td>307432780</td>
      <td>21623031900069</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>2022-04-30</th>
      <td>402363343870000</td>
      <td>309880731</td>
      <td>20862445445512</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>2022-05-31</th>
      <td>402363343870000</td>
      <td>310129252</td>
      <td>20749258205428</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>2022-06-30</th>
      <td>340277605350000</td>
      <td>428473209</td>
      <td>26052954770686</td>
      <td>5969782550</td>
    </tr>
    <tr>
      <th>2022-07-31</th>
      <td>335501779310000</td>
      <td>24982097</td>
      <td>1412473217495</td>
      <td>5969782550</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-4b0b6713-c8ad-421a-ae02-d01eda206d34')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-4b0b6713-c8ad-421a-ae02-d01eda206d34 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-4b0b6713-c8ad-421a-ae02-d01eda206d34');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




get_exhaustion_rates_of_foreign_investment_by_ticker 함수  
상장주식수/외국인한도수량/외국인보유수량/외국인한도소진률 정보를 조회  
외국인 보유수량 및 한도소진율은 장개시 시점 기준(금융감독원 외국인투자 관리시스템 제공 전일자 확정치)  


```python
df = stock.get_exhaustion_rates_of_foreign_investment_by_ticker('20210701')
df
```





  <div id="df-6b49a047-7389-4560-b181-30021ae20d9b">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>상장주식수</th>
      <th>보유수량</th>
      <th>지분율</th>
      <th>한도수량</th>
      <th>한도소진률</th>
    </tr>
    <tr>
      <th>티커</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>000020</th>
      <td>27931470</td>
      <td>828117</td>
      <td>2.960938</td>
      <td>27931470</td>
      <td>2.960938</td>
    </tr>
    <tr>
      <th>000040</th>
      <td>96137368</td>
      <td>44241720</td>
      <td>46.031250</td>
      <td>96137368</td>
      <td>46.031250</td>
    </tr>
    <tr>
      <th>000050</th>
      <td>27415270</td>
      <td>759750</td>
      <td>2.769531</td>
      <td>27415270</td>
      <td>2.769531</td>
    </tr>
    <tr>
      <th>000060</th>
      <td>120625000</td>
      <td>13175456</td>
      <td>10.921875</td>
      <td>120625000</td>
      <td>10.921875</td>
    </tr>
    <tr>
      <th>000070</th>
      <td>8564271</td>
      <td>742668</td>
      <td>8.671875</td>
      <td>8564271</td>
      <td>8.671875</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>383220</th>
      <td>7661415</td>
      <td>833803</td>
      <td>10.882812</td>
      <td>7661415</td>
      <td>10.882812</td>
    </tr>
    <tr>
      <th>383800</th>
      <td>76280690</td>
      <td>11459734</td>
      <td>15.023438</td>
      <td>76280690</td>
      <td>15.023438</td>
    </tr>
    <tr>
      <th>38380K</th>
      <td>1465285</td>
      <td>138831</td>
      <td>9.468750</td>
      <td>1465285</td>
      <td>9.468750</td>
    </tr>
    <tr>
      <th>900140</th>
      <td>99455297</td>
      <td>16400685</td>
      <td>16.484375</td>
      <td>99455297</td>
      <td>16.484375</td>
    </tr>
    <tr>
      <th>950210</th>
      <td>60096155</td>
      <td>38344916</td>
      <td>63.812500</td>
      <td>60096155</td>
      <td>63.812500</td>
    </tr>
  </tbody>
</table>
<p>927 rows × 5 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-6b49a047-7389-4560-b181-30021ae20d9b')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-6b49a047-7389-4560-b181-30021ae20d9b button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-6b49a047-7389-4560-b181-30021ae20d9b');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




두 번째 파라미터 market은 코스피(KOSPI)/코스닥(KOSDAQ)/코넥스(KONEX) 시장을 지정해서 조회


```python
df = stock.get_exhaustion_rates_of_foreign_investment_by_ticker('20220704', "KOSPI")
df.head()
```





  <div id="df-5caf4d2e-8e43-4a13-8d20-da4ecb774015">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>상장주식수</th>
      <th>보유수량</th>
      <th>지분율</th>
      <th>한도수량</th>
      <th>한도소진률</th>
    </tr>
    <tr>
      <th>티커</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>000020</th>
      <td>27931470</td>
      <td>1373627</td>
      <td>4.921875</td>
      <td>27931470</td>
      <td>4.921875</td>
    </tr>
    <tr>
      <th>000040</th>
      <td>96137631</td>
      <td>43726900</td>
      <td>45.468750</td>
      <td>96137631</td>
      <td>45.468750</td>
    </tr>
    <tr>
      <th>000050</th>
      <td>27415270</td>
      <td>312610</td>
      <td>1.139648</td>
      <td>27415270</td>
      <td>1.139648</td>
    </tr>
    <tr>
      <th>000060</th>
      <td>120625000</td>
      <td>13443109</td>
      <td>11.140625</td>
      <td>120625000</td>
      <td>11.140625</td>
    </tr>
    <tr>
      <th>000070</th>
      <td>8564271</td>
      <td>651178</td>
      <td>7.601562</td>
      <td>8564271</td>
      <td>7.601562</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-5caf4d2e-8e43-4a13-8d20-da4ecb774015')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-5caf4d2e-8e43-4a13-8d20-da4ecb774015 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-5caf4d2e-8e43-4a13-8d20-da4ecb774015');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




