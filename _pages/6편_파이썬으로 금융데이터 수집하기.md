---
title: 6편_파이썬으로 금융데이터 수집하기
author: Tao He
date: 2022-02-09
category: Jekyll
layout: post
---

# 1.FinanceDataReader






현재 시점의 증권시장별 상장종목을 가져올 수 있다.종목코드, 시장, 종목명, 섹터, 산업군, 상장일, 결산월 등 상장폐지 종목도 조회 가능하다.





##(1) FinanceDataReader 설치하기


!pip install finance_datareader 또는 !pip install —upgrade finance_datareader==0.9.50 등의 형태로 설치 할 수 있다.



```python
!pip install finance_datareader
```

<pre>
Collecting finance_datareader
  Downloading finance_datareader-0.9.50-py3-none-any.whl (19 kB)
Requirement already satisfied: pandas>=0.19.2 in /usr/local/lib/python3.10/dist-packages (from finance_datareader) (1.5.3)
Requirement already satisfied: requests>=2.3.0 in /usr/local/lib/python3.10/dist-packages (from finance_datareader) (2.27.1)
Collecting requests-file (from finance_datareader)
  Downloading requests_file-1.5.1-py2.py3-none-any.whl (3.7 kB)
Requirement already satisfied: lxml in /usr/local/lib/python3.10/dist-packages (from finance_datareader) (4.9.2)
Requirement already satisfied: tqdm in /usr/local/lib/python3.10/dist-packages (from finance_datareader) (4.65.0)
Requirement already satisfied: python-dateutil>=2.8.1 in /usr/local/lib/python3.10/dist-packages (from pandas>=0.19.2->finance_datareader) (2.8.2)
Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.10/dist-packages (from pandas>=0.19.2->finance_datareader) (2022.7.1)
Requirement already satisfied: numpy>=1.21.0 in /usr/local/lib/python3.10/dist-packages (from pandas>=0.19.2->finance_datareader) (1.22.4)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->finance_datareader) (1.26.16)
Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->finance_datareader) (2023.5.7)
Requirement already satisfied: charset-normalizer~=2.0.0 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->finance_datareader) (2.0.12)
Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->finance_datareader) (3.4)
Requirement already satisfied: six in /usr/local/lib/python3.10/dist-packages (from requests-file->finance_datareader) (1.16.0)
Installing collected packages: requests-file, finance_datareader
Successfully installed finance_datareader-0.9.50 requests-file-1.5.1
</pre>
FinanceDataReader 를 fdr 별칭으로 가져온 후 버젼을 확인해 본다.



```python
import FinanceDataReader as fdr
fdr.__version__
```

<pre>
'0.9.50'
</pre>
##(2) 시장별 종목리스트를 가져오기 (최근일 기준)


코스피, 코스닥, 코넥스 전체 : 'KRX’



NASDAQ(나스닥), NYSE(뉴욕거래소), AMEX(AMEX), S&P 500(S&P 500)



```python
import FinanceDataReader as fdr

stocks = fdr.StockListing('KRX')
stocks
```

<pre>
        Code        ISU_CD      Name Market   Dept   Close ChangeCode  \
0     005930  KR7005930003      삼성전자  KOSPI          72400          2   
1     373220  KR7373220003  LG에너지솔루션  KOSPI         550000          1   
2     000660  KR7000660001    SK하이닉스  KOSPI         116200          1   
3     207940  KR7207940008  삼성바이오로직스  KOSPI         748000          1   
4     005935  KR7005931001     삼성전자우  KOSPI          60500          3   
...      ...           ...       ...    ...    ...     ...        ...   
2723  245450  KR7245450002    씨앤에스링크  KONEX  일반기업부    1599          2   
2724  288490  KR7288490006     나라소프트  KONEX  일반기업부      50          2   
2725  322190  KR7322190000        베른  KONEX  일반기업부     131          5   
2726  000547  KR7000542001   흥국화재2우B  KOSPI           9480          1   
2727  308700  KR7308700004       테크엔  KONEX  일반기업부     221          2   

      Changes  ChagesRatio    Open    High     Low    Volume        Amount  \
0        -300        -0.41   73100   73400   72400  12182077  888287285500   
1        3000         0.55  548000  561000  547000    230139  127188053000   
2        1900         1.66  115200  117400  114500   4314846  500040095062   
3        6000         0.81  741000  755000  741000     42761   32044427000   
4           0         0.00   60600   60700   60200    730791   44176960300   
...       ...          ...     ...     ...     ...       ...           ...   
2723       -1        -0.06    1400    1599    1360        21         29199   
2724       -1        -1.96      51      52      47     83377       4137430   
2725      -23       -14.94     176     176     131       128         20568   
2726      560         6.28    9900   10040    9200     41318     402150790   
2727      -31       -12.30     289     289     221       492        141480   

               Marcap      Stocks MarketId  
0     434600169640000  5969782550      STK  
1     129168000000000   234000000      STK  
2      85030676232000   728002365      STK  
3      53451674000000    71174000      STK  
4      49537779340000   822886700      STK  
...               ...         ...      ...  
2723       2526356040     1579960      KNX  
2724       1907350000    38147000      KNX  
2725       1508358293     8925197      KNX  
2726       1462272000      153600      STK  
2727       1152000000     4000000      KNX  

[2728 rows x 17 columns]
</pre>

```python
len(stocks)
```

<pre>
2728
</pre>

```python
stocks_kospi = fdr.StockListing("KOSPI")
stocks_kospi
```

<pre>
       Code        ISU_CD     Name Market Dept Close ChangeCode  Changes  \
0    095570  KR7095570008   AJ네트웍스  KOSPI          -          3      NaN   
1    006840  KR7006840003    AK홀딩스  KOSPI          -          3      NaN   
2    027410  KR7027410000      BGF  KOSPI          -          3      NaN   
3    282330  KR7282330000   BGF리테일  KOSPI          -          3      NaN   
4    138930  KR7138930003  BNK금융지주  KOSPI          -          3      NaN   
..      ...           ...      ...    ...  ...   ...        ...      ...   
948  005010  KR7005010004      휴스틸  KOSPI          -          3      NaN   
949  000540  KR7000540005     흥국화재  KOSPI          -          3      NaN   
950  000547  KR7000542001  흥국화재2우B  KOSPI          -          3      NaN   
951  000545  KR7000541003    흥국화재우  KOSPI          -          3      NaN   
952  003280  KR7003280005     흥아해운  KOSPI          -          3      NaN   

     ChagesRatio  Open  High  Low  Volume  Amount  Marcap     Stocks MarketId  
0            NaN   NaN   NaN  NaN     NaN     NaN     NaN   46822295      STK  
1            NaN   NaN   NaN  NaN     NaN     NaN     NaN   13247561      STK  
2            NaN   NaN   NaN  NaN     NaN     NaN     NaN   95716791      STK  
3            NaN   NaN   NaN  NaN     NaN     NaN     NaN   17283906      STK  
4            NaN   NaN   NaN  NaN     NaN     NaN     NaN  325935246      STK  
..           ...   ...   ...  ...     ...     ...     ...        ...      ...  
948          NaN   NaN   NaN  NaN     NaN     NaN     NaN   56188075      STK  
949          NaN   NaN   NaN  NaN     NaN     NaN     NaN   64242645      STK  
950          NaN   NaN   NaN  NaN     NaN     NaN     NaN     153600      STK  
951          NaN   NaN   NaN  NaN     NaN     NaN     NaN     768000      STK  
952          NaN   NaN   NaN  NaN     NaN     NaN     NaN  240424899      STK  

[953 rows x 17 columns]
</pre>
##(3) 데이터 탐색하기


탐색적 데이터 분석(EDA ; Exploratory Data Analysis)은

 Raw data를 가지고 유연하게 탐색하고 데이터를 이해하기 위해 수행되는 과정입니다.

 탐색적 데이터 분석은 주어진 데이터를 시각화, 요약 통계, 그래프 등을 사용하여 조사하고 탐구하는 과정을 포함합니다. 이를 통해 데이터 세트의 중요한 특징과 패턴을 발견하고 데이터의 품질을 평가할 수 있습니다. 탐색적 데이터 분석은 통계적 가설 검정이나 예측 모델링에 대한 준비 작업으로서도 중요한 역할을 합니다.

 탐색적 데이터 분석은 데이터 과학자나 분석가가 데이터에 대한 통찰력을 얻고 초기 가설을 검증하기 위해 필수적인 단계입니다. 이를 통해 데이터의 품질을 평가하고 문제점을 파악하여 보완할 수 있으며, 향후 분석 과정을 계획하는 데 도움이 됩니다.



탐색적 데이터 분석 작업은 다음과 같습니다.

1. 데이터의 구조 확인

2. 결측치와 이상치 처리

3. 데이터 시각화

4. 변수 간 상관 관계 파악

5. 데이터의 특성과 패턴 발견

6. 향후 분석과 모델링에 활용하기 위한 가설 설정







###1) 데이터 행과 열 확인_shape



```python
stocks_kospi = fdr.StockListing('KOSPI')
stocks_kospi.shape
```

<pre>
(953, 17)
</pre>
###2) 데이터 정보 확인_info()



```python
stocks_kospi = fdr.StockListing('KOSPI')
stocks_kospi.info()
```

<pre>
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 953 entries, 0 to 952
Data columns (total 17 columns):
 #   Column       Non-Null Count  Dtype  
---  ------       --------------  -----  
 0   Code         953 non-null    object 
 1   ISU_CD       953 non-null    object 
 2   Name         953 non-null    object 
 3   Market       953 non-null    object 
 4   Dept         953 non-null    object 
 5   Close        953 non-null    object 
 6   ChangeCode   953 non-null    object 
 7   Changes      0 non-null      float64
 8   ChagesRatio  0 non-null      float64
 9   Open         0 non-null      float64
 10  High         0 non-null      float64
 11  Low          0 non-null      float64
 12  Volume       0 non-null      float64
 13  Amount       0 non-null      float64
 14  Marcap       0 non-null      float64
 15  Stocks       953 non-null    int64  
 16  MarketId     953 non-null    object 
dtypes: float64(8), int64(1), object(8)
memory usage: 126.7+ KB
</pre>
###3) 앞 쪽 기본 정보



```python
stocks_kospi.head()
```

<pre>
     Code        ISU_CD     Name Market Dept Close ChangeCode  Changes  \
0  095570  KR7095570008   AJ네트웍스  KOSPI          -          3      NaN   
1  006840  KR7006840003    AK홀딩스  KOSPI          -          3      NaN   
2  027410  KR7027410000      BGF  KOSPI          -          3      NaN   
3  282330  KR7282330000   BGF리테일  KOSPI          -          3      NaN   
4  138930  KR7138930003  BNK금융지주  KOSPI          -          3      NaN   

   ChagesRatio  Open  High  Low  Volume  Amount  Marcap     Stocks MarketId  
0          NaN   NaN   NaN  NaN     NaN     NaN     NaN   46822295      STK  
1          NaN   NaN   NaN  NaN     NaN     NaN     NaN   13247561      STK  
2          NaN   NaN   NaN  NaN     NaN     NaN     NaN   95716791      STK  
3          NaN   NaN   NaN  NaN     NaN     NaN     NaN   17283906      STK  
4          NaN   NaN   NaN  NaN     NaN     NaN     NaN  325935246      STK  
</pre>
###4) 앞 쪽 특정 갯수 정보 보기



```python
stocks_kospi.head(10)
```

<pre>
     Code        ISU_CD      Name Market Dept Close ChangeCode  Changes  \
0  095570  KR7095570008    AJ네트웍스  KOSPI          -          3      NaN   
1  006840  KR7006840003     AK홀딩스  KOSPI          -          3      NaN   
2  027410  KR7027410000       BGF  KOSPI          -          3      NaN   
3  282330  KR7282330000    BGF리테일  KOSPI          -          3      NaN   
4  138930  KR7138930003   BNK금융지주  KOSPI          -          3      NaN   
5  001460  KR7001460005       BYC  KOSPI          -          3      NaN   
6  001465  KR7001461003      BYC우  KOSPI          -          3      NaN   
7  001040  KR7001040005        CJ  KOSPI          -          3      NaN   
8  079160  KR7079160008    CJ CGV  KOSPI          -          3      NaN   
9  00104K  KR700104K010  CJ4우(전환)  KOSPI          -          3      NaN   

   ChagesRatio  Open  High  Low  Volume  Amount  Marcap     Stocks MarketId  
0          NaN   NaN   NaN  NaN     NaN     NaN     NaN   46822295      STK  
1          NaN   NaN   NaN  NaN     NaN     NaN     NaN   13247561      STK  
2          NaN   NaN   NaN  NaN     NaN     NaN     NaN   95716791      STK  
3          NaN   NaN   NaN  NaN     NaN     NaN     NaN   17283906      STK  
4          NaN   NaN   NaN  NaN     NaN     NaN     NaN  325935246      STK  
5          NaN   NaN   NaN  NaN     NaN     NaN     NaN     624615      STK  
6          NaN   NaN   NaN  NaN     NaN     NaN     NaN     215385      STK  
7          NaN   NaN   NaN  NaN     NaN     NaN     NaN   29176998      STK  
8          NaN   NaN   NaN  NaN     NaN     NaN     NaN   47728069      STK  
9          NaN   NaN   NaN  NaN     NaN     NaN     NaN    4226512      STK  
</pre>
##(4) 불러 온 자료 저장하기


###1) CSV(Comma Separated Value) :

CSV 파일 포맷은 데이터 값이 쉽표(comma)로 구분되는 텍스트 파일



```python
!pip install Pandas
import pandas as pd
stocks_kospi.to_csv('krx.csv')
```

<pre>
Requirement already satisfied: Pandas in /usr/local/lib/python3.10/dist-packages (1.5.3)
Requirement already satisfied: python-dateutil>=2.8.1 in /usr/local/lib/python3.10/dist-packages (from Pandas) (2.8.2)
Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.10/dist-packages (from Pandas) (2022.7.1)
Requirement already satisfied: numpy>=1.21.0 in /usr/local/lib/python3.10/dist-packages (from Pandas) (1.22.4)
Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.10/dist-packages (from python-dateutil>=2.8.1->Pandas) (1.16.0)
</pre>
###2) 엑셀로 저장하기



```python
import pandas as pd
stocks_kospi.to_excel('krx.xlsx')
```

###3) 엑셀로 저장하기

pickle로 저장

to_pickle("krx.pkl")

db로 저장하기도 가능



pandas 활용 : 저장된 자료 다시 불러오기



파이썬 pandas 활용하면 저장된 데이터를 불러와서 DataFrame에 저장하게 됨.

read 다음에 파일 형식에 따라 언더바"_" 이거나 마침표"."를 하고 괄호()안에 파일명 기입 (경로)

read_csv(), read_excel(),  read_html()  등

엑셀 파일은 csv 로 저장 가능.



pd.read_excel('경로/파일명.xlsx') : 파일이 xlsx(엑셀)일 경우   

pd.read_csv('경로/파일명.csv') : 파일이 csv일 경우







```python
import pandas as pd
pd.read_csv('krx.csv')
```

<pre>
     Unnamed: 0    Code        ISU_CD     Name Market  Dept Close  ChangeCode  \
0             0  095570  KR7095570008   AJ네트웍스  KOSPI   NaN     -           3   
1             1  006840  KR7006840003    AK홀딩스  KOSPI   NaN     -           3   
2             2  027410  KR7027410000      BGF  KOSPI   NaN     -           3   
3             3  282330  KR7282330000   BGF리테일  KOSPI   NaN     -           3   
4             4  138930  KR7138930003  BNK금융지주  KOSPI   NaN     -           3   
..          ...     ...           ...      ...    ...   ...   ...         ...   
948         948  005010  KR7005010004      휴스틸  KOSPI   NaN     -           3   
949         949  000540  KR7000540005     흥국화재  KOSPI   NaN     -           3   
950         950  000547  KR7000542001  흥국화재2우B  KOSPI   NaN     -           3   
951         951  000545  KR7000541003    흥국화재우  KOSPI   NaN     -           3   
952         952  003280  KR7003280005     흥아해운  KOSPI   NaN     -           3   

     Changes  ChagesRatio  Open  High  Low  Volume  Amount  Marcap     Stocks  \
0        NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN   46822295   
1        NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN   13247561   
2        NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN   95716791   
3        NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN   17283906   
4        NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN  325935246   
..       ...          ...   ...   ...  ...     ...     ...     ...        ...   
948      NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN   56188075   
949      NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN   64242645   
950      NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN     153600   
951      NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN     768000   
952      NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN  240424899   

    MarketId  
0        STK  
1        STK  
2        STK  
3        STK  
4        STK  
..       ...  
948      STK  
949      STK  
950      STK  
951      STK  
952      STK  

[953 rows x 18 columns]
</pre>



```python
pd.read_csv('krx.csv', index_col='Name')
```

<pre>
         Unnamed: 0    Code        ISU_CD Market  Dept Close  ChangeCode  \
Name                                                                       
AJ네트웍스            0  095570  KR7095570008  KOSPI   NaN     -           3   
AK홀딩스             1  006840  KR7006840003  KOSPI   NaN     -           3   
BGF               2  027410  KR7027410000  KOSPI   NaN     -           3   
BGF리테일            3  282330  KR7282330000  KOSPI   NaN     -           3   
BNK금융지주           4  138930  KR7138930003  KOSPI   NaN     -           3   
...             ...     ...           ...    ...   ...   ...         ...   
휴스틸             948  005010  KR7005010004  KOSPI   NaN     -           3   
흥국화재            949  000540  KR7000540005  KOSPI   NaN     -           3   
흥국화재2우B         950  000547  KR7000542001  KOSPI   NaN     -           3   
흥국화재우           951  000545  KR7000541003  KOSPI   NaN     -           3   
흥아해운            952  003280  KR7003280005  KOSPI   NaN     -           3   

         Changes  ChagesRatio  Open  High  Low  Volume  Amount  Marcap  \
Name                                                                     
AJ네트웍스       NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN   
AK홀딩스        NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN   
BGF          NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN   
BGF리테일       NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN   
BNK금융지주      NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN   
...          ...          ...   ...   ...  ...     ...     ...     ...   
휴스틸          NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN   
흥국화재         NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN   
흥국화재2우B      NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN   
흥국화재우        NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN   
흥아해운         NaN          NaN   NaN   NaN  NaN     NaN     NaN     NaN   

            Stocks MarketId  
Name                         
AJ네트웍스    46822295      STK  
AK홀딩스     13247561      STK  
BGF       95716791      STK  
BGF리테일    17283906      STK  
BNK금융지주  325935246      STK  
...            ...      ...  
휴스틸       56188075      STK  
흥국화재      64242645      STK  
흥국화재2우B     153600      STK  
흥국화재우       768000      STK  
흥아해운     240424899      STK  

[953 rows x 17 columns]
</pre>
###4) 경로 저장된 자료 불러오기

파일 경로 찾는 법 : 불러올 파일을 마우스 우클릭 --> 속성 --> 위치에서 경로 확인

C:\Users\user\Desktop  --> \ 를 /로 바꿔주기

C:/Users/user/Desktop  *(/를 인식할 떄도 있고 \를 인식 할 때도 있는 것 같다 되는 걸 쓰자)



encoding = 'utf-8'

글자를 읽어 올 떄 utf-8의 약속대로 읽어오라는 의미

왠만하면 이걸로 꺠진 글씨들을 읽어 올 수 있다.



encoding = '인코딩 방식'

글자를 읽어 올때 어떠한 방식으로 익어 올 것인지 지정하는 것

대부분 encoding = utf-8 을 기입하면 된다.



data = pd.read_csv('파일경로 or url', sep='\t', engine = 'python', encoding = 'utf-8')



data = pd.read_csv('파일경로 or url', sep =',' , encoding = '인코딩 방식')



pd.read_csv("C:/finance_data/titanic.csv", engine = 'python', encoding = 'utf-8')



pd.read_excel("C:/finance_data.titanic.csv")


##(5) 해외시장 데이터 가져오기


: 'NASDAQ', 'NYSE', 'AMEX' and 'S&P500', 'SSE'(상해), 'SZSE'(심천), 'HKEX'(홍콩), 'TSE'(도쿄)



KRX delistings: 'KRX-DELISTING'(상장폐지종목), 'KRX-ADMINISTRATIVE' (관리종목)

ETF Symbol listings(for multiple countries): 'KR', 'US', 'JP'


##(6) 개별종목 주가 가져오기

삼성전자(005930) 전체 (1996-11-05 ~ 현재)



```python
import FinanceDataReader as fdr

df = fdr.DataReader('005930')
df
```

<pre>
             Open   High    Low  Close    Volume    Change
Date                                                      
1999-03-17   1751   1761   1712   1722    398828       NaN
1999-03-18   1735   1800   1723   1736    606874  0.008130
1999-03-19   1761   1894   1759   1853   1298440  0.067396
1999-03-22   1878   2025   1841   1947   1575773  0.050729
1999-03-23   1956   1995   1923   1937    641837 -0.005136
...           ...    ...    ...    ...       ...       ...
2023-06-22  70200  71500  70100  71300  11411007  0.011348
2023-06-23  72000  72200  71600  71600  12329484  0.004208
2023-06-26  71700  72500  71500  72400  10541901  0.011173
2023-06-27  72500  72600  72000  72600   9442997  0.002762
2023-06-28  72600  72600  72200  72300   1968859 -0.004132

[6000 rows x 6 columns]
</pre>

```python
df.head()
```

<pre>
            Open  High   Low  Close   Volume    Change
Date                                                  
1999-03-17  1751  1761  1712   1722   398828       NaN
1999-03-18  1735  1800  1723   1736   606874  0.008130
1999-03-19  1761  1894  1759   1853  1298440  0.067396
1999-03-22  1878  2025  1841   1947  1575773  0.050729
1999-03-23  1956  1995  1923   1937   641837 -0.005136
</pre>

```python
df.tail(10)
```

<pre>
             Open   High    Low  Close    Volume    Change
Date                                                      
2023-06-15  72100  72300  71300  71500  13614994 -0.005563
2023-06-16  71800  71900  70900  71800  15373696  0.004196
2023-06-19  71300  71700  70900  71200  11100887 -0.008357
2023-06-20  70700  71400  70400  71400  11557883  0.002809
2023-06-21  70700  71200  70400  70500  10626603 -0.012605
2023-06-22  70200  71500  70100  71300  11411007  0.011348
2023-06-23  72000  72200  71600  71600  12329484  0.004208
2023-06-26  71700  72500  71500  72400  10541901  0.011173
2023-06-27  72500  72600  72000  72600   9442997  0.002762
2023-06-28  72600  72600  72200  72300   1968859 -0.004132
</pre>
##(7)　특정 기간에 이후부터 현재까지 개별 종목 주가 가져오기

Date 주식시장 날짜  

  



Open 시가# High 고가# Low 저가# Close 종가  

Volume 해당 개장일의 거래량  

Change는 해당 개장일의 전날 대비 종가 상승률



```python
import FinanceDataReader as fdr
fdr.DataReader('005930', start = '2020').reset_index()
```

<pre>
          Date   Open   High    Low  Close    Volume    Change
0   2020-01-02  55500  56000  55000  55200  12993228 -0.010753
1   2020-01-03  56000  56600  54900  55500  15422255  0.005435
2   2020-01-06  54900  55600  54600  55500  10278951  0.000000
3   2020-01-07  55700  56400  55600  55800  10009778  0.005405
4   2020-01-08  56200  57400  55900  56800  23501171  0.017921
..         ...    ...    ...    ...    ...       ...       ...
858 2023-06-22  70200  71500  70100  71300  11411007  0.011348
859 2023-06-23  72000  72200  71600  71600  12329484  0.004208
860 2023-06-26  71700  72500  71500  72400  10541901  0.011173
861 2023-06-27  72500  72600  72000  72600   9442997  0.002762
862 2023-06-28  72600  72600  72200  72200   1979649 -0.005510

[863 rows x 7 columns]
</pre>
##(8) 특정 기간에 대하여 개별 종목 주가 가져오기



```python
start_date = '2022-01-03'
end_date = '2022-10-25'
df_fdr = fdr.DataReader('005930', start=start_date, end=end_date)
df_fdr
```

<pre>
             Open   High    Low  Close    Volume    Change
Date                                                      
2022-01-03  79400  79800  78200  78600  13502112  0.003831
2022-01-04  78800  79200  78300  78700  12427416  0.001272
2022-01-05  78800  79000  76400  77400  25470640 -0.016518
2022-01-06  76700  77600  76600  76900  12931954 -0.006460
2022-01-07  78100  78400  77400  78300  15163757  0.018205
...           ...    ...    ...    ...       ...       ...
2022-10-19  56700  56900  55700  55800  12660652 -0.012389
2022-10-20  55200  56000  55100  55500  17107653 -0.005376
2022-10-21  55100  56300  55100  55900  11456060  0.007207
2022-10-24  57000  57500  56700  57500  16944503  0.028623
2022-10-25  57000  58600  57000  57700  17405678  0.003478

[199 rows x 6 columns]
</pre>
##(9)　참고

한국 지수

KS11	KOSPI 지수,  

KQ11	KOSDAQ 지수  

KS50	KOSPI 50 지수  

KS100	KOSPI 100  

KRX100	KRX 100  

KS200	코스피 200   

미국 지수  

DJI	다우존스 지수  

IXIC	나스닥 지수  

US500	S&P 500 지수  

VIX	S&P 500 VIX  

국가별 주요 지수  

JP225	닛케이 225 선물  

STOXX50E	Euro Stoxx 50  

CSI300	CSI 300 (중국)  

HSI	항셍 (홍콩)  

FTSE	영국 FTSE  

DAX	독일 DAX 30  

CAC	프랑스 CAC 40  

환율  

USD/KRW	달러당 원화 환율  

USD/EUR	달러당 유로화 환율  

USD/JPY	달러당 엔화 환율  

CNY/KRW	위엔화 원화 환율  

EUR/USD	유로화 달러 환율  

USD/JPY	달러 엔화 환율  

JPY/KRW	엔화 원화 환율  

AUD/USD	오스트레일리아 달러 환율  

EUR/JPY	유로화 엔화 환율  

USD/RUB	달러 루블화  

암호화폐 가격(KRW)  

BTC/KRW	비트코인 원화 가격  

ETH/KRW	이더리움 원화 가격  

XRP/KRW	리플 원화 가격  

BCH/KRW	비트코인 캐시 원화 가격  

EOS/KRW	이오스 원화 가격  

LTC/KRW	라이트 코인 원화 가격  

XLM/KRW	스텔라 원화 가격  


#제2절 시각화

#1.그래픽 종류

line	line graph  

pie	pie chart  

scatter	scatter plot  

bar, barh	vertical, horizontal bar charts  

area	area plots  

box	box plot  

hexbin	hexbin plot  

hist	histogram  

kde, density	kernel density charts


#(1) 라인 그래프로 보여주기



```python
df = fdr.DataReader('005930', '2020')
df ['Close'].plot()
```

<pre>
<Axes: xlabel='Date'>
</pre>
<pre>
<Figure size 640x480 with 1 Axes>
</pre>
##(2) 막대그래프 보여주기



```python
df ['Close'].hist()
```

<pre>
<Axes: >
</pre>
<pre>
<Figure size 640x480 with 1 Axes>
</pre>
###1) 같은 연도를 쓰면 나오지 않음



```python
import FinanceDataReader as fdr
fdr.DataReader('005930', start = '2021', end = '2021')
```

<pre>
Empty DataFrame
Columns: [Open, High, Low, Close, Volume, Change]
Index: []
</pre>
###2) 2021년 주가 가져오기



```python
import FinanceDataReader as fdr
fdr.DataReader('005930', start = '2021', end = '2022')
```

<pre>
             Open   High    Low  Close    Volume    Change
Date                                                      
2021-01-04  81000  84400  80200  83000  38655276  0.024691
2021-01-05  81600  83900  81600  83900  35335669  0.010843
2021-01-06  83300  84500  82100  82200  42089013 -0.020262
2021-01-07  82800  84200  82700  82900  32644642  0.008516
2021-01-08  83300  90000  83000  88800  59013307  0.071170
...           ...    ...    ...    ...       ...       ...
2021-12-24  80200  80800  80200  80500  12086380  0.007509
2021-12-27  80600  80600  79800  80200  10783368 -0.003727
2021-12-28  80200  80400  79700  80300  18226325  0.001247
2021-12-29  80200  80200  78500  78800  19794795 -0.018680
2021-12-30  78900  79500  78100  78300  14236700 -0.006345

[248 rows x 6 columns]
</pre>
#2. pykrx

https://github.com/sharebook-kr/pykrx



KRX, Naver 등의 웹사이트에서 주가정보를 스크래핑하는 모듈



특정 시점의 상장 종목코드 조회 가능

해당 종목코드의 종목명을 조회하는 함수가 별도로 존재


##(1) 설치하기

pykrx의 stock 모듈을 import 한 후 다른 작업 진행



```python
!pip install pykrx
```

<pre>
Collecting pykrx
  Downloading pykrx-1.0.42-py3-none-any.whl (127 kB)
[?25l     [90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m [32m0.0/127.5 kB[0m [31m?[0m eta [36m-:--:--[0m
[2K     [90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m [32m127.5/127.5 kB[0m [31m4.5 MB/s[0m eta [36m0:00:00[0m
[?25hRequirement already satisfied: requests in /usr/local/lib/python3.10/dist-packages (from pykrx) (2.27.1)
Requirement already satisfied: pandas in /usr/local/lib/python3.10/dist-packages (from pykrx) (1.5.3)
Collecting datetime (from pykrx)
  Downloading DateTime-5.1-py3-none-any.whl (52 kB)
[?25l     [90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m [32m0.0/52.1 kB[0m [31m?[0m eta [36m-:--:--[0m
[2K     [90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m [32m52.1/52.1 kB[0m [31m5.8 MB/s[0m eta [36m0:00:00[0m
[?25hRequirement already satisfied: numpy in /usr/local/lib/python3.10/dist-packages (from pykrx) (1.22.4)
Requirement already satisfied: xlrd in /usr/local/lib/python3.10/dist-packages (from pykrx) (2.0.1)
Collecting deprecated (from pykrx)
  Downloading Deprecated-1.2.14-py2.py3-none-any.whl (9.6 kB)
Requirement already satisfied: multipledispatch in /usr/local/lib/python3.10/dist-packages (from pykrx) (0.6.0)
Requirement already satisfied: matplotlib in /usr/local/lib/python3.10/dist-packages (from pykrx) (3.7.1)
Collecting zope.interface (from datetime->pykrx)
  Downloading zope.interface-6.0-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (246 kB)
[2K     [90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m [32m247.0/247.0 kB[0m [31m16.1 MB/s[0m eta [36m0:00:00[0m
[?25hRequirement already satisfied: pytz in /usr/local/lib/python3.10/dist-packages (from datetime->pykrx) (2022.7.1)
Requirement already satisfied: wrapt<2,>=1.10 in /usr/local/lib/python3.10/dist-packages (from deprecated->pykrx) (1.14.1)
Requirement already satisfied: contourpy>=1.0.1 in /usr/local/lib/python3.10/dist-packages (from matplotlib->pykrx) (1.1.0)
Requirement already satisfied: cycler>=0.10 in /usr/local/lib/python3.10/dist-packages (from matplotlib->pykrx) (0.11.0)
Requirement already satisfied: fonttools>=4.22.0 in /usr/local/lib/python3.10/dist-packages (from matplotlib->pykrx) (4.40.0)
Requirement already satisfied: kiwisolver>=1.0.1 in /usr/local/lib/python3.10/dist-packages (from matplotlib->pykrx) (1.4.4)
Requirement already satisfied: packaging>=20.0 in /usr/local/lib/python3.10/dist-packages (from matplotlib->pykrx) (23.1)
Requirement already satisfied: pillow>=6.2.0 in /usr/local/lib/python3.10/dist-packages (from matplotlib->pykrx) (8.4.0)
Requirement already satisfied: pyparsing>=2.3.1 in /usr/local/lib/python3.10/dist-packages (from matplotlib->pykrx) (3.1.0)
Requirement already satisfied: python-dateutil>=2.7 in /usr/local/lib/python3.10/dist-packages (from matplotlib->pykrx) (2.8.2)
Requirement already satisfied: six in /usr/local/lib/python3.10/dist-packages (from multipledispatch->pykrx) (1.16.0)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/local/lib/python3.10/dist-packages (from requests->pykrx) (1.26.16)
Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/dist-packages (from requests->pykrx) (2023.5.7)
Requirement already satisfied: charset-normalizer~=2.0.0 in /usr/local/lib/python3.10/dist-packages (from requests->pykrx) (2.0.12)
Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/dist-packages (from requests->pykrx) (3.4)
Requirement already satisfied: setuptools in /usr/local/lib/python3.10/dist-packages (from zope.interface->datetime->pykrx) (67.7.2)
Installing collected packages: zope.interface, deprecated, datetime, pykrx
Successfully installed datetime-5.1 deprecated-1.2.14 pykrx-1.0.42 zope.interface-6.0
</pre>
##(2) 데이터 불러오기

① "get_market_ticker_list" 메서드는 주식 종목들을 가져오기  

② "get_market_ticker_name" 메서드는 심볼(티커)을 받으면 기업 이름을 가져오기



KOSPI/KOSDAQ/KONEX 종목코드 조회



```python
from pykrx import stock

stock_code = stock.get_market_ticker_list(date="20220630", market="ALL")
(stock_code[:6], len(stock_code))
```

<pre>
(['060310', '095570', '006840', '054620', '265520', '211270'], 2629)
</pre>
KOSPI 종목코드 조회



```python
stock_code = stock.get_market_ticker_list(date='20220928', market='KOSPI')
(stock_code[:6], len(stock_code))
```

<pre>
(['095570', '006840', '027410', '282330', '138930', '001460'], 939)
</pre>

```python
kospi = stock.get_market_ticker_list('20220617', market='KOSPI')
kospi[:5]
```

<pre>
['095570', '006840', '027410', '282330', '138930']
</pre>
KOSDAQ 종목코드 조회



```python
stock_code = stock.get_market_ticker_list(date='20220928', market='KOSDAQ')
(stock_code[:6], len(stock_code))
```

<pre>
(['060310', '054620', '265520', '211270', '032790', '013720'], 1582)
</pre>
종목명 반환



```python
stock_name = stock.get_market_ticker_name('005930')
stock_name
```

<pre>
'삼성전자'
</pre>
##(3) "get_market_ohlcv" 메서드는 OHLCV 주식 시세를 가져오기

일자별 OHLCV(시가, 고가, 저가, 종가, 거래량) 조회¶


삼성전자의 20220101~20220920의 주가데이터



```python
df = stock.get_market_ohlcv_by_date(fromdate="20220101", todate="20220920", ticker="005930")
df
```

<pre>
               시가     고가     저가     종가       거래량           거래대금   등락률
날짜                                                                   
2022-01-03  79400  79800  78200  78600  13502112  1066006837750  0.38
2022-01-04  78800  79200  78300  78700  12427416   977990613000  0.13
2022-01-05  78800  79000  76400  77400  25470640  1967841509800 -1.65
2022-01-06  76700  77600  76600  76900  12931954   996378432570 -0.65
2022-01-07  78100  78400  77400  78300  15163757  1184236552700  1.82
...           ...    ...    ...    ...       ...            ...   ...
2022-09-14  56200  57200  56100  56800  12524961   709906007000 -2.24
2022-09-15  57000  57100  56000  56000  11664819   657641711500 -1.41
2022-09-16  55600  56400  55500  56200  13456503   752455682838  0.36
2022-09-19  56300  57000  56000  56400  12278653   693636680000  0.36
2022-09-20  56400  57000  55800  55800  14041465   788331519815 -1.06

[176 rows x 7 columns]
</pre>
##(4) 일정 기간 종목의 가격 변동 조회 Permalink

get_market_price_change_by_ticker(fromdate=”조회시작일”,todate=”조회종료일”, market=”거래소명”)



```python
df = stock.get_market_price_change_by_ticker(fromdate='20220801', todate='20220920')
df.head()
```

<pre>
            종목명      시가      종가    변동폭   등락률       거래량          거래대금
티커                                                                  
095570   AJ네트웍스    8030    7830   -200 -2.49   5463509   43102591480
006840    AK홀딩스   16350   15750   -600 -3.67    344494    5587561800
027410      BGF    4215    3900   -315 -7.47   4444087   18277872435
282330   BGF리테일  181000  164000 -17000 -9.39   1947992  322270114000
138930  BNK금융지주    6790    6610   -180 -2.65  34970261  234444930075
</pre>
##(5) 특정 일자 전체 종목 시세 OHLCV(시가, 고가, 저가, 종가, 거래량, 거래대금, 등락률) 가져오기

stock.get_market_ohlcv_by_ticker(date=날짜)



```python
df = stock.get_market_ohlcv_by_ticker(date="20220920")
df.head()
```

<pre>
            시가      고가      저가      종가      거래량         거래대금   등락률
티커                                                                
095570    7980    8140    7830    7830   214050   1707067150  0.64
006840   15300   15800   15300   15750     7227    112495150  1.29
027410    3845    3925    3805    3900   119734    466020190  1.43
282330  166000  168000  162500  164000    73238  12111634000 -0.30
138930    6580    6660    6550    6610  1139966   7534064600  0.76
</pre>
##(6) 개별종목 날짜별 OHLCV(시가, 고가, 저가, 종가, 거래량, 거래대금, 등락률) 가져오기

stock.get_market_ohlcv_by_date(조회시작일, 조회종료일, 종목코드)



```python
df = stock.get_market_ohlcv_by_date("20220820", "20220925", "005930")
df.head()
```

<pre>
               시가     고가     저가     종가      거래량          거래대금   등락률
날짜                                                                 
2022-08-22  60300  60400  59800  60000  8259865  495732266100 -1.48
2022-08-23  59000  59600  59000  59100  9041629  535657353300 -1.50
2022-08-24  59200  59500  59000  59000  8888486  525406965200 -0.17
2022-08-25  59200  59700  59000  59700  5767902  342780937200  1.19
2022-08-26  60300  60900  59900  60000  9499995  573040309950  0.50
</pre>

```python
df = stock.get_market_ohlcv_by_date("20220820", "20220925", "005930")
df
```

<pre>
               시가     고가     저가     종가       거래량           거래대금   등락률
날짜                                                                   
2022-08-22  60300  60400  59800  60000   8259865   495732266100 -1.48
2022-08-23  59000  59600  59000  59100   9041629   535657353300 -1.50
2022-08-24  59200  59500  59000  59000   8888486   525406965200 -0.17
2022-08-25  59200  59700  59000  59700   5767902   342780937200  1.19
2022-08-26  60300  60900  59900  60000   9499995   573040309950  0.50
2022-08-29  58700  58900  58600  58600   9841329   577684200900 -2.33
2022-08-30  58700  59000  58300  58800   9690044   567627668500  0.34
2022-08-31  58200  59900  58200  59700  14203512   841319635900  1.53
2022-09-01  58700  58900  58300  58400  14905777   872374620601 -2.18
2022-09-02  58300  58600  57500  57500  15040310   872040367551 -1.54
2022-09-05  57400  57800  56800  57100  11425977   653884056584 -0.70
2022-09-06  57200  57600  56900  57100   7503086   429152038700  0.00
2022-09-07  56700  56700  55900  56000  17384854   975695179700 -1.93
2022-09-08  56200  56400  55600  55600  18000016  1006366398000 -0.71
2022-09-13  57000  58500  56800  58100  17166581   991015891355  4.50
2022-09-14  56200  57200  56100  56800  12524961   709906007000 -2.24
2022-09-15  57000  57100  56000  56000  11664819   657641711500 -1.41
2022-09-16  55600  56400  55500  56200  13456503   752455682838  0.36
2022-09-19  56300  57000  56000  56400  12278653   693636680000  0.36
2022-09-20  56400  57000  55800  55800  14041465   788331519815 -1.06
2022-09-21  55400  55500  55000  55300  11863700   655017421100 -0.90
2022-09-22  54600  54700  54300  54400  12786510   696058101600 -1.63
2022-09-23  54400  54900  54200  54500  10555964   575503622100  0.18
</pre>
##(7) 전체 종목의 펀더멘탈 지표(PER, PBR, EPS, BPS, DIV, DPS) 가져오기

stock.get_market_fundamental_by_ticker(date=날짜, market=거래소)



market의 기본값은 "ALL"



DIV(배당수익률): (주가배당금/주가) * 100



BPS(주당순자산가치=청산가치): (순자산)/(총발행주식수)



PER(주가수익비율): (주가)/(주당순이익)



EPS(주당순이익): (당기순이익)/(총발행주식수)



PBR(주가순자산비율) = (주가)/(BPS) = PER*EPS / BPS



```python
df = stock.get_market_fundamental_by_ticker(date='20220617', market="ALL")
df.head()
```

<pre>
          BPS     PER   PBR   EPS   DIV  DPS
티커                                          
060310    792  174.69  3.53    16  0.00    0
095570   8075    3.95  0.84  1707  4.00  270
006840  45961    0.00  0.37     0  1.17  200
054620  10088    8.07  0.94  1179  1.05  100
265520  12713    4.88  1.51  3932  1.25  240
</pre>
특정일자의 종목별 DIV/BPS/PER/EPS 조회  

get_market_fundamental_by_ticker (date="YYYYMMDD", market="거래소명")



```python
df = stock.get_market_fundamental_by_ticker(date='20210520')
df.head()
```

<pre>
          BPS    PER   PBR   EPS   DIV   DPS
티커                                          
095570   6089   0.00  0.96     0  3.61   210
006840  50471   0.00  0.69     0  1.14   400
027410  15781  23.93  0.43   285  1.61   110
282330  40317  25.06  4.42  7103  1.35  2400
138930  26781   5.31  0.30  1498  4.02   320
</pre>
일자별 개별종목 DIV/BPS/PER/EPS 조회

get_market_fundamental_by_date(fromdate, todate, ticker, freq='d', name_display=False)



freq: d(일), m(월), y(연도)



```python
df = stock.get_market_fundamental_by_date(fromdate="20200101", todate="20211231", ticker="005930")
df
```

<pre>
              BPS    PER   PBR   EPS   DIV   DPS
날짜                                              
2020-01-02  35342   8.54  1.56  6461  2.57  1416
2020-01-03  35342   8.59  1.57  6461  2.55  1416
2020-01-06  35342   8.59  1.57  6461  2.55  1416
2020-01-07  35342   8.64  1.58  6461  2.54  1416
2020-01-08  35342   8.79  1.61  6461  2.49  1416
...           ...    ...   ...   ...   ...   ...
2021-12-24  39406  20.96  2.04  3841  3.72  2994
2021-12-27  39406  20.88  2.04  3841  3.73  2994
2021-12-28  39406  20.91  2.04  3841  3.73  2994
2021-12-29  39406  20.52  2.00  3841  3.80  2994
2021-12-30  39406  20.39  1.99  3841  3.82  2994

[496 rows x 6 columns]
</pre>
frequency 파라미터(d/m/y)를 추가



```python
df = stock.get_market_fundamental_by_date("20200101", "20200203", "005930", freq="m")
df.head(2)
```

<pre>
              BPS   PER   PBR   EPS   DIV   DPS
날짜                                             
2020-01-31  35342  8.54  1.56  6461  2.57  1416
2020-02-29  35342  8.85  1.62  6461  2.48  1416
</pre>

```python
df = stock.get_market_fundamental_by_date(fromdate="20200101", todate="20211231", ticker="005930")
df.head()
```

<pre>
              BPS   PER   PBR   EPS   DIV   DPS
날짜                                             
2020-01-02  35342  8.54  1.56  6461  2.57  1416
2020-01-03  35342  8.59  1.57  6461  2.55  1416
2020-01-06  35342  8.59  1.57  6461  2.55  1416
2020-01-07  35342  8.64  1.58  6461  2.54  1416
2020-01-08  35342  8.79  1.61  6461  2.49  1416
</pre>

```python
df = stock.get_market_ohlcv("20150720", "20150810", "005930")
df.head(3)
```

<pre>
                 시가       고가       저가       종가     거래량          거래대금   등락률
날짜                                                                        
2015-07-20  1291000  1304000  1273000  1275000  128928  165366199000 -2.30
2015-07-21  1275000  1277000  1247000  1263000  194055  244129106000 -0.94
2015-07-22  1244000  1260000  1235000  1253000  268323  333813094000 -0.79
</pre>
##(7) 거래량, 거래대금 조회하기

지정된 기간 동안의 일자별로 정렬된 (순매수) 거래량



```python
df = stock.get_market_trading_value_by_date("20210101", "20210701", "005930")
df.head()
```

<pre>
                    기관합계         기타법인             개인         외국인합계  전체
날짜                                                                    
2021-01-04 -326136950200  48480486000   658901836000 -381245371800   0
2021-01-05 -203963791100   7236010900   622727193300 -425999413100   0
2021-01-06 -442463559600  13521042200  1013153304900 -584210787500   0
2021-01-07  250129976600  17802746700   -71008181500 -196924541800   0
2021-01-08 -436089196200   1958064400  -169881010800  604012142600   0
</pre>
매수 혹은 매도 금액을 조회하고 싶다면 on 파라미터에 입력할 수 있습니다. 입력하지 않는다면 순매수 금액이 조회



```python
df = stock.get_market_trading_value_by_date("20210115", "20210122", "005930", on="매도")
df.head()
```

<pre>
                     기관합계         기타법인             개인         외국인합계  \
날짜                                                                    
2021-01-15  1505250243300  19525756900   925426195700  525029741764   
2021-01-18  1353223733500  22132983500  1883422627200  456996648400   
2021-01-19  1205081446400  28155090000  1800734616800  407371601300   
2021-01-20  1147190346800  10015618200   643413644500  405119540200   
2021-01-21   878411497500  41184362100   851899126900  439714802000   

                       전체  
날짜                         
2021-01-15  2975231937664  
2021-01-18  3715775992600  
2021-01-19  3441342754500  
2021-01-20  2205739149700  
2021-01-21  2211209788500  
</pre>

```python
df = stock.get_market_trading_value_by_date("20210115", "20210122", "005930", on="매수")
df.head()
```

<pre>
                     기관합계         기타법인             개인         외국인합계  \
날짜                                                                    
2021-01-15  1064481034000  44968044700  1587035281300  278747577664   
2021-01-18  1395547268500  44815328300  1898251748900  377161646900   
2021-01-19  1300604499900  24904667500  1627250403500  488583183600   
2021-01-20   782714132800  32996251100  1073529225500  316499540300   
2021-01-21   817773991200  13303508100  1102184636900  277947652300   

                       전체  
날짜                         
2021-01-15  2975231937664  
2021-01-18  3715775992600  
2021-01-19  3441342754500  
2021-01-20  2205739149700  
2021-01-21  2211209788500  
</pre>
시장의 거래대금을 조회할 때는 ETF, ETN ELW의 포함 여부를 지정할 수 있습니다.  

만약 값을 지정하지 않는다면 해당 데이터를 제외한 값을 반환합니다.



```python
df = stock.get_market_trading_value_by_date("20210115", "20210122", "KOSPI", etf=True, etn=True, elw=True)
df.head()
```

<pre>
                     기관합계         기타법인             개인         외국인합계  전체
날짜                                                                     
2021-01-15 -1536570309441  63110174617  2251672617980 -778212483156   0
2021-01-18  -601428111357 -27000808439   494341183227  134087736569   0
2021-01-19   544654406338  21787409868  -968965427363  402523611157   0
2021-01-20 -1227642472619  32139813590  1444113501769 -248610842740   0
2021-01-21  -284899892322 -19072459127   -61503500921  365475852370   0
</pre>
일자별 시장의 거래량을 조회



```python
df = stock.get_market_trading_volume_by_date("20220101", "20220701", "005930")
df.head()
```

<pre>
               기관합계    기타법인       개인    외국인합계  전체
날짜                                               
2022-01-03 -4178268   60481  2349662  1768125   0
2022-01-04 -2623794   24292  1170907  1428595   0
2022-01-05 -7727282 -103764  8414591  -583545   0
2022-01-06 -2229379   51631   -41729  2219477   0
2022-01-07 -2115197  -49515 -2194573  4359285   0
</pre>
매수 혹은 매도 거래량만을 조회하고 싶다면 on 파라미터에 입력 가능  

입력하지 않는다면 순매수 수량이 조회



```python
df = stock.get_market_trading_volume_by_date("20220101", "20220701", "005930", on="매도")
df.head()
```

<pre>
                기관합계    기타법인       개인    외국인합계        전체
날짜                                                      
2022-01-03   8759701   21053  2807663  1913695  13502112
2022-01-04   8463883   26174  2332823  1604536  12427416
2022-01-05  15538421  246850  4129142  5556227  25470640
2022-01-06   7164696   54432  3801704  1911122  12931954
2022-01-07   7090895  142380  5006070  2924412  15163757
</pre>
지정된 기간 동안의 투자자별로 정렬된 (순매수) 거래대금



```python
df = stock.get_market_trading_value_by_investor("20210101", "20210701", "005930")
df.head()
```

<pre>
                   매도              매수            순매수
투자자구분                                               
금융투자   31066223912100  28464867937600 -2601355974500
보험      1808485504300    779839009100 -1028646495200
투신      3177067544700   1794360840100 -1382706704600
사모      1259026093300    955202197900  -303823895400
은행       149110410100     87504448700   -61605961400
</pre>
세 번째 파라미터에 KOSPI, KOSDAQ, KONEX를 지정하면 각 시장의 거래대금을 조회  

ALL을 입력하면 세 개의 시장을 합친 통합 거래대금을 조회



```python
df = stock.get_market_trading_value_by_investor("20210101", "20210701", "KOSPI")
df.head()
```

<pre>
                    매도               매수            순매수
투자자구분                                                 
금융투자   129106291931852  124118597123721 -4987694808131
보험      14553591609599   11217910114022 -3335681495577
투신      30145646816976   25894892024771 -4250754792205
사모      16717352065581   13748646227789 -2968705837792
은행       2106750785171     829995794830 -1276754990341
</pre>
시장의 거래대금을 조회할 때는 ETF, ETN ELW의 포함 여부를 지정 가능  

만약 값을 지정하지 않는다면 해당 데이터를 제외한 값을을 반환  

옵션은 KOSPI, KOSDAQ, KONEX 조회할 때만 유효  



```python
df = stock.get_market_trading_value_by_investor("20210115", "20210122", "KOSPI", etf=True, etn=True, elw=True)
df.head()
```

<pre>
                   매도              매수           순매수
투자자구분                                              
금융투자   15985568261831  15006116511544 -979451750287
보험      1219035502445    757575677208 -461459825237
투신      2235561259511   1799363743367 -436197516144
사모       999084910863    846067212945 -153017697918
은행       886226324790    936210985810   49984661020
</pre>
지정된 기간 동안의 투자자별로 정렬된 (순매수) 거래량



```python
df = stock.get_market_trading_volume_by_investor("20210115", "20210122", "005930")
df.head()
```

<pre>
             매도        매수      순매수
투자자구분                             
금융투자   29455909  26450600 -3005309
보험      1757287    509535 -1247752
투신      2950680   1721970 -1228710
사모       745727    696135   -49592
은행        38675     46394     7719
</pre>
##(8) 종목별 시총 가져오기

get_market_cap_by_ticker 함수는 특정 일자의 종목별 시가총액/거래량/거래대금/상장주식수/외국인보유주식수를 조회  

외국인보유주식수는 D-2 (영업일 기준)일 까지 유효한 값이 출력되며, D-1일은 0으로 표기  



```python
df = stock.get_market_cap_by_ticker("20220901")
df.head()
```

<pre>
            종가             시가총액       거래량          거래대금       상장주식수
티커                                                                 
005930   58400  348635300920000  14905777  872374620601  5969782550
373220  463000  108342000000000    289808  134255218000   234000000
000660   92400   67267418526000   2337521  216798395700   728002365
207940  826000   58789724000000     51619   42488586000    71174000
005935   53700   44189015790000   1047819   56430850600   822886700
</pre>
일자별 시가 총액 조회  

get_market_cap_by_date 함수는 특정 종목의 일자별 시가총액을 조회  

거래량/거래대금/상장주식수가 함께 조회  



```python
df = stock.get_market_cap_by_date("20220101", "20220701", "005930")
df
```

<pre>
                       시가총액       거래량           거래대금       상장주식수
날짜                                                              
2022-01-03  469224908430000  13502112  1066006837750  5969782550
2022-01-04  469821886685000  12427416   977990613000  5969782550
2022-01-05  462061169370000  25470640  1967841509800  5969782550
2022-01-06  459076278095000  12931954   996378432570  5969782550
2022-01-07  467433973665000  15163757  1184236552700  5969782550
...                     ...       ...            ...         ...
2022-06-27  351023213940000  18122236  1071186745402  5969782550
2022-06-28  354605083470000  13540538   800041009700  5969782550
2022-06-29  346247387900000  14677138   855770425874  5969782550
2022-06-30  340277605350000  18915142  1082799462452  5969782550
2022-07-01  335501779310000  24982097  1412473217495  5969782550

[122 rows x 4 columns]
</pre>
get_market_cap_by_date() 함수에 frequency 파라미터(d/m/y)를 추가  

d는 일자, m은 월, y는 연도를 의미  

시가총액과 상장주식수는 월별 마지막 거래일의 값을 사용



```python
df = stock.get_market_cap_by_date("20220101", "20220701", "005930", "m")
df.head()
```

<pre>
                       시가총액        거래량            거래대금       상장주식수
날짜                                                                
2022-01-31  437585060915000  280187100  21353687791872  5969782550
2022-02-28  430421321855000  233201135  17162868317227  5969782550
2022-03-31  415496865480000  307432780  21623031900069  5969782550
2022-04-30  402363343870000  309880731  20862445445512  5969782550
2022-05-31  402363343870000  310129252  20749258205428  5969782550
</pre>
시가총액과 상장주식수는 월별 마지막 거래일의 값을 사용



```python
df = stock.get_market_cap_by_date("20220101", "20220701", "005930", "m")
df
```

<pre>
                       시가총액        거래량            거래대금       상장주식수
날짜                                                                
2022-01-31  437585060915000  280187100  21353687791872  5969782550
2022-02-28  430421321855000  233201135  17162868317227  5969782550
2022-03-31  415496865480000  307432780  21623031900069  5969782550
2022-04-30  402363343870000  309880731  20862445445512  5969782550
2022-05-31  402363343870000  310129252  20749258205428  5969782550
2022-06-30  340277605350000  428473209  26052954770686  5969782550
2022-07-31  335501779310000   24982097   1412473217495  5969782550
</pre>
get_exhaustion_rates_of_foreign_investment_by_ticker 함수  

상장주식수/외국인한도수량/외국인보유수량/외국인한도소진률 정보를 조회  

외국인 보유수량 및 한도소진율은 장개시 시점 기준(금융감독원 외국인투자 관리시스템 제공 전일자 확정치)  



```python
df = stock.get_exhaustion_rates_of_foreign_investment_by_ticker('20210701')
df
```

<pre>
            상장주식수      보유수량        지분율       한도수량      한도소진률
티커                                                          
000020   27931470    828117   2.960938   27931470   2.960938
000040   96137368  44241720  46.031250   96137368  46.031250
000050   27415270    759750   2.769531   27415270   2.769531
000060  120625000  13175456  10.921875  120625000  10.921875
000070    8564271    742668   8.671875    8564271   8.671875
...           ...       ...        ...        ...        ...
383220    7661415    833803  10.882812    7661415  10.882812
383800   76280690  11459734  15.023438   76280690  15.023438
38380K    1465285    138831   9.468750    1465285   9.468750
900140   99455297  16400685  16.484375   99455297  16.484375
950210   60096155  38344916  63.812500   60096155  63.812500

[927 rows x 5 columns]
</pre>
두 번째 파라미터 market은 코스피(KOSPI)/코스닥(KOSDAQ)/코넥스(KONEX) 시장을 지정해서 조회





```python
df = stock.get_exhaustion_rates_of_foreign_investment_by_ticker('20220704', "KOSPI")
df.head()
```

<pre>
            상장주식수      보유수량        지분율       한도수량      한도소진률
티커                                                          
000020   27931470   1373627   4.921875   27931470   4.921875
000040   96137631  43726900  45.468750   96137631  45.468750
000050   27415270    312610   1.139648   27415270   1.139648
000060  120625000  13443109  11.140625  120625000  11.140625
000070    8564271    651178   7.601562    8564271   7.601562
</pre>

```python
df = stock.get_index_price_change_by_ticker("20210101", "20210630", "KOSDAQ")
df.head()
```

<pre>
                        시가       종가        등락률           거래량              거래대금
지수명                                                                           
코스닥                 968.42  1029.96   6.351562  271152394443  1476958803219536
코스닥 150            1532.52  1464.08  -4.468750   12266377117   348535041006838
코스닥 150 정보기술        812.05   840.79   3.539062    4261931849    82919528005520
코스닥 150 헬스케어       5578.37  4516.31 -19.046875    2219363960   130789715876673
코스닥 150 커뮤니케이션서비스  2684.58  3169.51  18.062500     575556345    31802552690080
</pre>

```python
!pip install yfinance --user
```

<pre>
Requirement already satisfied: yfinance in /usr/local/lib/python3.10/dist-packages (0.2.21)
Requirement already satisfied: pandas>=1.3.0 in /usr/local/lib/python3.10/dist-packages (from yfinance) (1.5.3)
Requirement already satisfied: numpy>=1.16.5 in /usr/local/lib/python3.10/dist-packages (from yfinance) (1.22.4)
Requirement already satisfied: requests>=2.26 in /usr/local/lib/python3.10/dist-packages (from yfinance) (2.27.1)
Requirement already satisfied: multitasking>=0.0.7 in /usr/local/lib/python3.10/dist-packages (from yfinance) (0.0.11)
Requirement already satisfied: lxml>=4.9.1 in /usr/local/lib/python3.10/dist-packages (from yfinance) (4.9.2)
Requirement already satisfied: appdirs>=1.4.4 in /usr/local/lib/python3.10/dist-packages (from yfinance) (1.4.4)
Requirement already satisfied: pytz>=2022.5 in /usr/local/lib/python3.10/dist-packages (from yfinance) (2022.7.1)
Requirement already satisfied: frozendict>=2.3.4 in /usr/local/lib/python3.10/dist-packages (from yfinance) (2.3.8)
Requirement already satisfied: beautifulsoup4>=4.11.1 in /usr/local/lib/python3.10/dist-packages (from yfinance) (4.11.2)
Requirement already satisfied: html5lib>=1.1 in /usr/local/lib/python3.10/dist-packages (from yfinance) (1.1)
Requirement already satisfied: soupsieve>1.2 in /usr/local/lib/python3.10/dist-packages (from beautifulsoup4>=4.11.1->yfinance) (2.4.1)
Requirement already satisfied: six>=1.9 in /usr/local/lib/python3.10/dist-packages (from html5lib>=1.1->yfinance) (1.16.0)
Requirement already satisfied: webencodings in /usr/local/lib/python3.10/dist-packages (from html5lib>=1.1->yfinance) (0.5.1)
Requirement already satisfied: python-dateutil>=2.8.1 in /usr/local/lib/python3.10/dist-packages (from pandas>=1.3.0->yfinance) (2.8.2)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/local/lib/python3.10/dist-packages (from requests>=2.26->yfinance) (1.26.16)
Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/dist-packages (from requests>=2.26->yfinance) (2023.5.7)
Requirement already satisfied: charset-normalizer~=2.0.0 in /usr/local/lib/python3.10/dist-packages (from requests>=2.26->yfinance) (2.0.12)
Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/dist-packages (from requests>=2.26->yfinance) (3.4)
</pre>
## (2) 주가데이터 조회하기



### 1) 삼성전자 주가 가져오기



```python
import yfinance as yf
ticker = yf.Ticker('005930.KS')
ticker.history(
    interval='1d',
    start='2022-01-01',
    end='2022-03-24',
    actions=True,
    auto_adjust=True)
```

<pre>
                                   Open          High           Low  \
Date                                                                  
2022-01-04 00:00:00+09:00  76462.971728  76851.108640  75977.800588   
2022-01-05 00:00:00+09:00  76462.979328  76657.047804  74134.157623   
2022-01-06 00:00:00+09:00  74425.251859  75298.559899  74328.217632   
2022-01-07 00:00:00+09:00  75783.744013  76074.846743  75104.504310   
2022-01-10 00:00:00+09:00  75783.745182  75783.745182  74813.402734   
2022-01-11 00:00:00+09:00  76074.836660  76657.042043  75686.699739   
2022-01-12 00:00:00+09:00  77142.213195  77239.247426  76268.905121   
2022-01-13 00:00:00+09:00  76948.159168  76948.159168  75589.679688   
2022-01-14 00:00:00+09:00  75395.597863  75783.734789  74813.392475   
2022-01-17 00:00:00+09:00  75298.565484  75492.633952  74619.325847   
2022-01-18 00:00:00+09:00  75298.564773  75492.633239  74328.222443   
2022-01-19 00:00:00+09:00  74231.185647  74619.322565  73843.048728   
2022-01-20 00:00:00+09:00  73940.084804  74425.255964  73648.982108   
2022-01-21 00:00:00+09:00  73551.943452  73551.943452  72484.566964   
2022-01-24 00:00:00+09:00  73163.829332  73551.966357  72484.589537   
2022-01-25 00:00:00+09:00  72581.601943  72775.670397  71029.054307   
2022-01-26 00:00:00+09:00  71805.328125  71805.328125  71805.328125   
2022-01-27 00:00:00+09:00  71611.270096  71805.338578  69185.414062   
2022-01-28 00:00:00+09:00  69185.409064  71514.230687  69088.374829   
2022-02-03 00:00:00+09:00  72678.641499  72678.641499  71126.093750   
2022-02-04 00:00:00+09:00  72096.430807  72387.533488  71223.122762   
2022-02-07 00:00:00+09:00  71320.163367  71417.197603  70252.786772   
2022-02-08 00:00:00+09:00  70834.992188  70834.992188  70834.992188   
2022-02-09 00:00:00+09:00  70834.992188  70834.992188  70834.992188   
2022-02-10 00:00:00+09:00  73357.888801  73551.957290  72484.580601   
2022-02-11 00:00:00+09:00  72775.682681  73260.853899  72387.545707   
2022-02-14 00:00:00+09:00  72193.466164  72290.500392  70932.021190   
2022-02-15 00:00:00+09:00  71902.363477  71999.397706  70932.021190   
2022-02-16 00:00:00+09:00  72387.540901  72678.643612  71999.403952   
2022-02-17 00:00:00+09:00  72775.679688  73357.885125  72290.508490   
2022-02-18 00:00:00+09:00  72387.532365  72581.600816  71514.224333   
2022-02-21 00:00:00+09:00  72096.429688  72096.429688  72096.429688   
2022-02-22 00:00:00+09:00  72096.429688  72096.429688  72096.429688   
2022-02-23 00:00:00+09:00  72096.429688  72096.429688  72096.429688   
2022-02-24 00:00:00+09:00  70155.750426  70155.750426  69185.408097   
2022-02-25 00:00:00+09:00  69961.685664  70446.856854  69767.617188   
2022-02-28 00:00:00+09:00  69767.617188  69767.617188  69767.617188   
2022-03-02 00:00:00+09:00  70155.760166  70252.794412  69379.486195   
2022-03-03 00:00:00+09:00  70155.747749  70932.021584  70058.713520   
2022-03-04 00:00:00+09:00  70737.953125  70737.953125  70737.953125   
2022-03-07 00:00:00+09:00  67923.965763  68506.171184  67826.931526   
2022-03-08 00:00:00+09:00  66759.557194  67923.968076  66662.522954   
2022-03-10 00:00:00+09:00  67438.796875  67438.796875  67438.796875   
2022-03-11 00:00:00+09:00  68409.139955  68603.208437  67632.866027   
2022-03-14 00:00:00+09:00  67923.970575  68118.039062  67535.833600   
2022-03-15 00:00:00+09:00  68118.039062  68118.039062  68118.039062   
2022-03-16 00:00:00+09:00  68118.040882  68409.143621  67632.869651   
2022-03-17 00:00:00+09:00  68312.109375  68312.109375  68312.109375   
2022-03-18 00:00:00+09:00  68506.168891  68797.271592  68118.031957   
2022-03-21 00:00:00+09:00  68797.272029  68894.306263  67826.929688   
2022-03-22 00:00:00+09:00  67826.925587  68409.130957  67826.925587   
2022-03-23 00:00:00+09:00  68506.167043  69088.372429  68215.064351   

                                  Close    Volume  Dividends  Stock Splits  
Date                                                                        
2022-01-04 00:00:00+09:00  76365.937500  12427416        0.0           0.0  
2022-01-05 00:00:00+09:00  75104.500000  25470640        0.0           0.0  
2022-01-06 00:00:00+09:00  74619.320312  12931954        0.0           0.0  
2022-01-07 00:00:00+09:00  75977.812500  15163757        0.0           0.0  
2022-01-10 00:00:00+09:00  75686.710938   9947422        0.0           0.0  
2022-01-11 00:00:00+09:00  76560.007812  13221123        0.0           0.0  
2022-01-12 00:00:00+09:00  76560.007812  11000502        0.0           0.0  
2022-01-13 00:00:00+09:00  75589.679688  13889401        0.0           0.0  
2022-01-14 00:00:00+09:00  75007.460938  10096725        0.0           0.0  
2022-01-17 00:00:00+09:00  75201.531250   8785122        0.0           0.0  
2022-01-18 00:00:00+09:00  74716.359375   9592788        0.0           0.0  
2022-01-19 00:00:00+09:00  74037.117188  10598290        0.0           0.0  
2022-01-20 00:00:00+09:00  74231.187500   9708168        0.0           0.0  
2022-01-21 00:00:00+09:00  73357.875000  15774888        0.0           0.0  
2022-01-24 00:00:00+09:00  72872.726562  13691134        0.0           0.0  
2022-01-25 00:00:00+09:00  71805.328125  17766704        0.0           0.0  
2022-01-26 00:00:00+09:00  71805.328125         0        0.0           0.0  
2022-01-27 00:00:00+09:00  69185.414062  22274777        0.0           0.0  
2022-01-28 00:00:00+09:00  71126.093750  21367447        0.0           0.0  
2022-02-03 00:00:00+09:00  71126.093750  17744721        0.0           0.0  
2022-02-04 00:00:00+09:00  71805.328125  12730034        0.0           0.0  
2022-02-07 00:00:00+09:00  70834.992188  14240838        0.0           0.0  
2022-02-08 00:00:00+09:00  70834.992188         0        0.0           0.0  
2022-02-09 00:00:00+09:00  70834.992188         0        0.0           0.0  
2022-02-10 00:00:00+09:00  73163.820312  17746033        0.0           0.0  
2022-02-11 00:00:00+09:00  72678.648438  12205407        0.0           0.0  
2022-02-14 00:00:00+09:00  71514.226562  13993255        0.0           0.0  
2022-02-15 00:00:00+09:00  71514.226562   9320365        0.0           0.0  
2022-02-16 00:00:00+09:00  72581.609375  10767386        0.0           0.0  
2022-02-17 00:00:00+09:00  72775.679688  13605382        0.0           0.0  
2022-02-18 00:00:00+09:00  72096.429688  10122226        0.0           0.0  
2022-02-21 00:00:00+09:00  72096.429688         0        0.0           0.0  
2022-02-22 00:00:00+09:00  72096.429688         0        0.0           0.0  
2022-02-23 00:00:00+09:00  72096.429688         0        0.0           0.0  
2022-02-24 00:00:00+09:00  69379.476562  15759283        0.0           0.0  
2022-02-25 00:00:00+09:00  69767.617188  13168484        0.0           0.0  
2022-02-28 00:00:00+09:00  69767.617188         0        0.0           0.0  
2022-03-02 00:00:00+09:00  69573.554688  12481430        0.0           0.0  
2022-03-03 00:00:00+09:00  70737.953125  13232638        0.0           0.0  
2022-03-04 00:00:00+09:00  70737.953125         0        0.0           0.0  
2022-03-07 00:00:00+09:00  68021.000000  18617138        0.0           0.0  
2022-03-08 00:00:00+09:00  67438.796875  15828269        0.0           0.0  
2022-03-10 00:00:00+09:00  67438.796875         0        0.0           0.0  
2022-03-11 00:00:00+09:00  67923.968750  15787655        0.0           0.0  
2022-03-14 00:00:00+09:00  68118.039062   9040993        0.0           0.0  
2022-03-15 00:00:00+09:00  68118.039062         0        0.0           0.0  
2022-03-16 00:00:00+09:00  68312.109375  10175750        0.0           0.0  
2022-03-17 00:00:00+09:00  68312.109375         0        0.0           0.0  
2022-03-18 00:00:00+09:00  68603.203125  14410038        0.0           0.0  
2022-03-21 00:00:00+09:00  67826.929688  11169002        0.0           0.0  
2022-03-22 00:00:00+09:00  68215.062500   9402666        0.0           0.0  
2022-03-23 00:00:00+09:00  68409.132812  12398025        0.0           0.0  
</pre>
데이터는 분 단위로  조회도 가능하다. 다만 조회할 수 있는 기간에 제한이 있다.  

현재 날짜기준으로 30일 전까지가 최대 뽑을 수 있을 것이다.



```python
df_minute = ticker.history(
               interval='1m',
               start='2023-06-01',
               end='2023-06-02',
               actions=True,
               auto_adjust=True)
df_minute
```

<pre>
                              Open     High      Low    Close  Volume  \
Datetime                                                                
2023-06-01 09:00:00+09:00  70900.0  71000.0  70800.0  70900.0       0   
2023-06-01 09:01:00+09:00  70800.0  70900.0  70600.0  70600.0  396297   
2023-06-01 09:02:00+09:00  70600.0  70800.0  70600.0  70700.0  179006   
2023-06-01 09:03:00+09:00  70700.0  70800.0  70700.0  70700.0   56767   
2023-06-01 09:04:00+09:00  70800.0  70800.0  70700.0  70700.0   49382   
...                            ...      ...      ...      ...     ...   
2023-06-01 14:55:00+09:00  71200.0  71200.0  71100.0  71200.0   20915   
2023-06-01 14:56:00+09:00  71100.0  71200.0  71100.0  71200.0   19650   
2023-06-01 14:57:00+09:00  71200.0  71200.0  71100.0  71200.0   26948   
2023-06-01 14:58:00+09:00  71200.0  71200.0  71000.0  71100.0  226148   
2023-06-01 14:59:00+09:00  71000.0  71100.0  71000.0  71100.0   16279   

                           Dividends  Stock Splits  
Datetime                                            
2023-06-01 09:00:00+09:00        0.0           0.0  
2023-06-01 09:01:00+09:00        0.0           0.0  
2023-06-01 09:02:00+09:00        0.0           0.0  
2023-06-01 09:03:00+09:00        0.0           0.0  
2023-06-01 09:04:00+09:00        0.0           0.0  
...                              ...           ...  
2023-06-01 14:55:00+09:00        0.0           0.0  
2023-06-01 14:56:00+09:00        0.0           0.0  
2023-06-01 14:57:00+09:00        0.0           0.0  
2023-06-01 14:58:00+09:00        0.0           0.0  
2023-06-01 14:59:00+09:00        0.0           0.0  

[359 rows x 7 columns]
</pre>
### 2) 애플 주가 가져오기



```python
import yfinance as y1

aap1 = yf.download('AAPL', start = '2018-12-01')
aap1
```

<pre>

[*********************100%***********************]  1 of 1 completed
</pre>
<pre>
                  Open        High         Low       Close   Adj Close  \
Date                                                                     
2018-12-03   46.115002   46.235001   45.302502   46.205002   44.466457   
2018-12-04   45.237499   45.597500   44.067501   44.172501   42.510433   
2018-12-06   42.939999   43.695000   42.605000   43.680000   42.036465   
2018-12-07   43.372501   43.622501   42.075001   42.122501   40.537579   
2018-12-10   41.250000   42.522499   40.832500   42.400002   40.804619   
...                ...         ...         ...         ...         ...   
2023-06-22  183.740005  187.050003  183.669998  187.000000  187.000000   
2023-06-23  185.550003  187.559998  185.009995  186.679993  186.679993   
2023-06-26  186.830002  188.050003  185.229996  185.270004  185.270004   
2023-06-27  185.889999  188.389999  185.669998  188.059998  188.059998   
2023-06-28  187.929993  189.899994  187.600006  189.250000  189.250000   

               Volume  
Date                   
2018-12-03  163210000  
2018-12-04  165377200  
2018-12-06  172393600  
2018-12-07  169126400  
2018-12-10  248104000  
...               ...  
2023-06-22   51245300  
2023-06-23   53079300  
2023-06-26   48088700  
2023-06-27   50730800  
2023-06-28   51133200  

[1149 rows x 6 columns]
</pre>
## (3) 회사 요약정보 가져오기

### 1) info

yfinance 내 회사 요약정보 보기에 관한 다양한 정보를 확인할 수 있다.



```python
appl_yf = yf.Ticker("AAPL")
appl_yf.info
```

<pre>
{'address1': 'One Apple Park Way',
 'city': 'Cupertino',
 'state': 'CA',
 'zip': '95014',
 'country': 'United States',
 'phone': '408 996 1010',
 'website': 'https://www.apple.com',
 'industry': 'Consumer Electronics',
 'industryDisp': 'Consumer Electronics',
 'sector': 'Technology',
 'longBusinessSummary': 'Apple Inc. designs, manufactures, and markets smartphones, personal computers, tablets, wearables, and accessories worldwide. The company offers iPhone, a line of smartphones; Mac, a line of personal computers; iPad, a line of multi-purpose tablets; and wearables, home, and accessories comprising AirPods, Apple TV, Apple Watch, Beats products, and HomePod. It also provides AppleCare support and cloud services; and operates various platforms, including the App Store that allow customers to discover and download applications and digital content, such as books, music, video, games, and podcasts. In addition, the company offers various services, such as Apple Arcade, a game subscription service; Apple Fitness+, a personalized fitness service; Apple Music, which offers users a curated listening experience with on-demand radio stations; Apple News+, a subscription news and magazine service; Apple TV+, which offers exclusive original content; Apple Card, a co-branded credit card; and Apple Pay, a cashless payment service, as well as licenses its intellectual property. The company serves consumers, and small and mid-sized businesses; and the education, enterprise, and government markets. It distributes third-party applications for its products through the App Store. The company also sells its products through its retail and online stores, and direct sales force; and third-party cellular network carriers, wholesalers, retailers, and resellers. Apple Inc. was incorporated in 1977 and is headquartered in Cupertino, California.',
 'fullTimeEmployees': 164000,
 'companyOfficers': [{'maxAge': 1,
   'name': 'Mr. Timothy D. Cook',
   'age': 61,
   'title': 'CEO & Director',
   'yearBorn': 1961,
   'fiscalYear': 2022,
   'totalPay': 16425933,
   'exercisedValue': 0,
   'unexercisedValue': 0},
  {'maxAge': 1,
   'name': 'Mr. Luca  Maestri',
   'age': 59,
   'title': 'CFO & Sr. VP',
   'yearBorn': 1963,
   'fiscalYear': 2022,
   'totalPay': 5019783,
   'exercisedValue': 0,
   'unexercisedValue': 0},
  {'maxAge': 1,
   'name': 'Mr. Jeffrey E. Williams',
   'age': 58,
   'title': 'Chief Operating Officer',
   'yearBorn': 1964,
   'fiscalYear': 2022,
   'totalPay': 5018337,
   'exercisedValue': 0,
   'unexercisedValue': 0},
  {'maxAge': 1,
   'name': 'Ms. Katherine L. Adams',
   'age': 58,
   'title': 'Sr. VP, Gen. Counsel & Sec.',
   'yearBorn': 1964,
   'fiscalYear': 2022,
   'totalPay': 5015208,
   'exercisedValue': 0,
   'unexercisedValue': 0},
  {'maxAge': 1,
   'name': "Ms. Deirdre  O'Brien",
   'age': 55,
   'title': 'Sr. VP of Retail',
   'yearBorn': 1967,
   'fiscalYear': 2022,
   'totalPay': 5019783,
   'exercisedValue': 0,
   'unexercisedValue': 0},
  {'maxAge': 1,
   'name': 'Mr. Chris  Kondo',
   'title': 'Sr. Director of Corp. Accounting',
   'exercisedValue': 0,
   'unexercisedValue': 0},
  {'maxAge': 1,
   'name': 'Mr. James  Wilson',
   'title': 'Chief Technology Officer',
   'exercisedValue': 0,
   'unexercisedValue': 0},
  {'maxAge': 1,
   'name': 'Ms. Mary  Demby',
   'title': 'Chief Information Officer',
   'exercisedValue': 0,
   'unexercisedValue': 0},
  {'maxAge': 1,
   'name': 'Ms. Nancy  Paxton',
   'title': 'Sr. Director of Investor Relations & Treasury',
   'exercisedValue': 0,
   'unexercisedValue': 0},
  {'maxAge': 1,
   'name': 'Mr. Greg  Joswiak',
   'title': 'Sr. VP of Worldwide Marketing',
   'exercisedValue': 0,
   'unexercisedValue': 0}],
 'auditRisk': 4,
 'boardRisk': 1,
 'compensationRisk': 5,
 'shareHolderRightsRisk': 1,
 'overallRisk': 1,
 'governanceEpochDate': 1685577600,
 'compensationAsOfEpochDate': 1672444800,
 'maxAge': 86400,
 'priceHint': 2,
 'previousClose': 188.06,
 'open': 187.93,
 'dayLow': 187.6,
 'dayHigh': 189.9,
 'regularMarketPreviousClose': 188.06,
 'regularMarketOpen': 187.93,
 'regularMarketDayLow': 187.6,
 'regularMarketDayHigh': 189.9,
 'dividendRate': 0.96,
 'dividendYield': 0.0052,
 'exDividendDate': 1683849600,
 'payoutRatio': 0.1559,
 'fiveYearAvgDividendYield': 0.9,
 'beta': 1.289436,
 'trailingPE': 32.13073,
 'forwardPE': 28.805174,
 'volume': 48829939,
 'regularMarketVolume': 48829939,
 'averageVolume': 56914795,
 'averageVolume10days': 57772380,
 'averageDailyVolume10Day': 57772380,
 'bid': 189.65,
 'ask': 189.66,
 'bidSize': 1100,
 'askSize': 1100,
 'marketCap': 2976656654336,
 'fiftyTwoWeekLow': 124.17,
 'fiftyTwoWeekHigh': 189.9,
 'priceToSalesTrailing12Months': 7.729668,
 'fiftyDayAverage': 175.6162,
 'twoHundredDayAverage': 154.2425,
 'trailingAnnualDividendRate': 0.92,
 'trailingAnnualDividendYield': 0.004892056,
 'currency': 'USD',
 'enterpriseValue': 3011682762752,
 'profitMargins': 0.24493,
 'floatShares': 15712029576,
 'sharesOutstanding': 15728700416,
 'sharesShort': 121254451,
 'sharesShortPriorMonth': 109878751,
 'sharesShortPreviousMonthDate': 1684108800,
 'dateShortInterest': 1686787200,
 'sharesPercentSharesOut': 0.0077,
 'heldPercentInsiders': 0.00071000005,
 'heldPercentInstitutions': 0.61232,
 'shortRatio': 2.03,
 'shortPercentOfFloat': 0.0077,
 'impliedSharesOutstanding': 15728700416,
 'bookValue': 3.953,
 'priceToBook': 47.87503,
 'lastFiscalYearEnd': 1663977600,
 'nextFiscalYearEnd': 1695513600,
 'mostRecentQuarter': 1680307200,
 'earningsQuarterlyGrowth': -0.034,
 'netIncomeToCommon': 94321000448,
 'trailingEps': 5.89,
 'forwardEps': 6.57,
 'pegRatio': 3.95,
 'lastSplitFactor': '4:1',
 'lastSplitDate': 1598832000,
 'enterpriseToRevenue': 7.821,
 'enterpriseToEbitda': 24.329,
 '52WeekChange': 0.38421595,
 'SandP52WeekChange': 0.15625381,
 'lastDividendValue': 0.24,
 'lastDividendDate': 1683849600,
 'exchange': 'NMS',
 'quoteType': 'EQUITY',
 'symbol': 'AAPL',
 'underlyingSymbol': 'AAPL',
 'shortName': 'Apple Inc.',
 'longName': 'Apple Inc.',
 'firstTradeDateEpochUtc': 345479400,
 'timeZoneFullName': 'America/New_York',
 'timeZoneShortName': 'EDT',
 'uuid': '8b10e4ae-9eeb-3684-921a-9ab27e4d87aa',
 'messageBoardId': 'finmb_24937',
 'gmtOffSetMilliseconds': -14400000,
 'currentPrice': 189.25,
 'targetHighPrice': 220.0,
 'targetLowPrice': 140.0,
 'targetMeanPrice': 187.11,
 'targetMedianPrice': 189.0,
 'recommendationMean': 2.0,
 'recommendationKey': 'buy',
 'numberOfAnalystOpinions': 38,
 'totalCash': 55872000000,
 'totalCashPerShare': 3.552,
 'ebitda': 123788001280,
 'totalDebt': 109614997504,
 'quickRatio': 0.764,
 'currentRatio': 0.94,
 'totalRevenue': 385095008256,
 'debtToEquity': 176.349,
 'revenuePerShare': 24.116,
 'returnOnAssets': 0.20559,
 'returnOnEquity': 1.4560499,
 'grossProfits': 170782000000,
 'freeCashflow': 83796623360,
 'operatingCashflow': 109583998976,
 'earningsGrowth': 0.0,
 'revenueGrowth': -0.025,
 'grossMargins': 0.43181,
 'ebitdaMargins': 0.32145,
 'operatingMargins': 0.29163,
 'financialCurrency': 'USD',
 'trailingPegRatio': 2.5456}
</pre>
### 2) financials

회사 재무제표 등의 회계정보를 확인할 수 있다.



```python
aapl_yf = yf.Ticker("AAPL")
aapl_yf.financials
```

<pre>
                                                        2022-09-30  \
Tax Effect Of Unusual Items                                    0.0   
Tax Rate For Calcs                                        0.162045   
Normalized EBITDA                                   130541000000.0   
Net Income From Continuing Operation Net Minori...   99803000000.0   
Reconciled Depreciation                              11104000000.0   
Reconciled Cost Of Revenue                          223546000000.0   
EBIT                                                119437000000.0   
Net Interest Income                                   -106000000.0   
Interest Expense                                      2931000000.0   
Interest Income                                       2825000000.0   
Normalized Income                                    99803000000.0   
Net Income From Continuing And Discontinued Ope...   99803000000.0   
Total Expenses                                      274891000000.0   
Total Operating Income As Reported                  119437000000.0   
Diluted Average Shares                               16325819000.0   
Basic Average Shares                                 16215963000.0   
Diluted EPS                                                   6.11   
Basic EPS                                                     6.15   
Diluted NI Availto Com Stockholders                  99803000000.0   
Net Income Common Stockholders                       99803000000.0   
Net Income                                           99803000000.0   
Net Income Including Noncontrolling Interests        99803000000.0   
Net Income Continuous Operations                     99803000000.0   
Tax Provision                                        19300000000.0   
Pretax Income                                       119103000000.0   
Other Income Expense                                  -334000000.0   
Other Non Operating Income Expenses                   -334000000.0   
Net Non Operating Interest Income Expense             -106000000.0   
Interest Expense Non Operating                        2931000000.0   
Interest Income Non Operating                         2825000000.0   
Operating Income                                    119437000000.0   
Operating Expense                                    51345000000.0   
Research And Development                             26251000000.0   
Selling General And Administration                   25094000000.0   
Gross Profit                                        170782000000.0   
Cost Of Revenue                                     223546000000.0   
Total Revenue                                       394328000000.0   
Operating Revenue                                   394328000000.0   

                                                        2021-09-30  \
Tax Effect Of Unusual Items                                    0.0   
Tax Rate For Calcs                                        0.133023   
Normalized EBITDA                                   120233000000.0   
Net Income From Continuing Operation Net Minori...   94680000000.0   
Reconciled Depreciation                              11284000000.0   
Reconciled Cost Of Revenue                          212981000000.0   
EBIT                                                108949000000.0   
Net Interest Income                                    198000000.0   
Interest Expense                                      2645000000.0   
Interest Income                                       2843000000.0   
Normalized Income                                    94680000000.0   
Net Income From Continuing And Discontinued Ope...   94680000000.0   
Total Expenses                                      256868000000.0   
Total Operating Income As Reported                  108949000000.0   
Diluted Average Shares                               16864919000.0   
Basic Average Shares                                 16701272000.0   
Diluted EPS                                                   5.61   
Basic EPS                                                     5.67   
Diluted NI Availto Com Stockholders                  94680000000.0   
Net Income Common Stockholders                       94680000000.0   
Net Income                                           94680000000.0   
Net Income Including Noncontrolling Interests        94680000000.0   
Net Income Continuous Operations                     94680000000.0   
Tax Provision                                        14527000000.0   
Pretax Income                                       109207000000.0   
Other Income Expense                                   258000000.0   
Other Non Operating Income Expenses                    258000000.0   
Net Non Operating Interest Income Expense              198000000.0   
Interest Expense Non Operating                        2645000000.0   
Interest Income Non Operating                         2843000000.0   
Operating Income                                    108949000000.0   
Operating Expense                                    43887000000.0   
Research And Development                             21914000000.0   
Selling General And Administration                   21973000000.0   
Gross Profit                                        152836000000.0   
Cost Of Revenue                                     212981000000.0   
Total Revenue                                       365817000000.0   
Operating Revenue                                   365817000000.0   

                                                        2020-09-30  \
Tax Effect Of Unusual Items                                    0.0   
Tax Rate For Calcs                                        0.144282   
Normalized EBITDA                                    77344000000.0   
Net Income From Continuing Operation Net Minori...   57411000000.0   
Reconciled Depreciation                              11056000000.0   
Reconciled Cost Of Revenue                          169559000000.0   
EBIT                                                 66288000000.0   
Net Interest Income                                    890000000.0   
Interest Expense                                      2873000000.0   
Interest Income                                       3763000000.0   
Normalized Income                                    57411000000.0   
Net Income From Continuing And Discontinued Ope...   57411000000.0   
Total Expenses                                      208227000000.0   
Total Operating Income As Reported                   66288000000.0   
Diluted Average Shares                               17528214000.0   
Basic Average Shares                                 17352119000.0   
Diluted EPS                                                   3.28   
Basic EPS                                                     3.31   
Diluted NI Availto Com Stockholders                  57411000000.0   
Net Income Common Stockholders                       57411000000.0   
Net Income                                           57411000000.0   
Net Income Including Noncontrolling Interests        57411000000.0   
Net Income Continuous Operations                     57411000000.0   
Tax Provision                                         9680000000.0   
Pretax Income                                        67091000000.0   
Other Income Expense                                   803000000.0   
Other Non Operating Income Expenses                    803000000.0   
Net Non Operating Interest Income Expense              890000000.0   
Interest Expense Non Operating                        2873000000.0   
Interest Income Non Operating                         3763000000.0   
Operating Income                                     66288000000.0   
Operating Expense                                    38668000000.0   
Research And Development                             18752000000.0   
Selling General And Administration                   19916000000.0   
Gross Profit                                        104956000000.0   
Cost Of Revenue                                     169559000000.0   
Total Revenue                                       274515000000.0   
Operating Revenue                                   274515000000.0   

                                                        2019-09-30  
Tax Effect Of Unusual Items                                    0.0  
Tax Rate For Calcs                                        0.159438  
Normalized EBITDA                                    76477000000.0  
Net Income From Continuing Operation Net Minori...   55256000000.0  
Reconciled Depreciation                              12547000000.0  
Reconciled Cost Of Revenue                          161782000000.0  
EBIT                                                 63930000000.0  
Net Interest Income                                   1385000000.0  
Interest Expense                                      3576000000.0  
Interest Income                                       4961000000.0  
Normalized Income                                    55256000000.0  
Net Income From Continuing And Discontinued Ope...   55256000000.0  
Total Expenses                                      196244000000.0  
Total Operating Income As Reported                   63930000000.0  
Diluted Average Shares                               18595652000.0  
Basic Average Shares                                 18471336000.0  
Diluted EPS                                                 2.9725  
Basic EPS                                                   2.9925  
Diluted NI Availto Com Stockholders                  55256000000.0  
Net Income Common Stockholders                       55256000000.0  
Net Income                                           55256000000.0  
Net Income Including Noncontrolling Interests        55256000000.0  
Net Income Continuous Operations                     55256000000.0  
Tax Provision                                        10481000000.0  
Pretax Income                                        65737000000.0  
Other Income Expense                                  1807000000.0  
Other Non Operating Income Expenses                   1807000000.0  
Net Non Operating Interest Income Expense             1385000000.0  
Interest Expense Non Operating                        3576000000.0  
Interest Income Non Operating                         4961000000.0  
Operating Income                                     63930000000.0  
Operating Expense                                    34462000000.0  
Research And Development                             16217000000.0  
Selling General And Administration                   18245000000.0  
Gross Profit                                         98392000000.0  
Cost Of Revenue                                     161782000000.0  
Total Revenue                                       260174000000.0  
Operating Revenue                                   260174000000.0  
</pre>
### 3) major_holders

회사의 주주정보를 확인할 수 있다.



```python
aapl_yf = yf.Ticker("AAPL")
aapl_yf.major_holders
```

<pre>
        0                                      1
0   0.07%        % of Shares Held by All Insider
1  61.23%       % of Shares Held by Institutions
2  61.27%        % of Float Held by Institutions
3    5743  Number of Institutions Holding Shares
</pre>
### 4) institutional_holders

기업 주주정보를 확인할 수 있다.



```python
aapl_yf = yf.Ticker("AAPL")
aapl_yf.institutional_holders
```

<pre>
                              Holder      Shares Date Reported   % Out  \
0         Vanguard Group, Inc. (The)  1309785362    2023-03-30  0.0833   
1                     Blackrock Inc.  1035008939    2023-03-30  0.0658   
2            Berkshire Hathaway, Inc   915560382    2023-03-30  0.0582   
3           State Street Corporation   576281774    2023-03-30  0.0366   
4                           FMR, LLC   311437576    2023-03-30  0.0198   
5      Geode Capital Management, LLC   285171112    2023-03-30  0.0181   
6      Price (T.Rowe) Associates Inc   234017381    2023-03-30  0.0149   
7                     Morgan Stanley   200615893    2023-03-30  0.0128   
8         Northern Trust Corporation   173130542    2023-03-30  0.0110   
9  Norges Bank Investment Management   167374278    2022-12-30  0.0106   

          Value  
0  247876879758  
1  195875441705  
2  173269802293  
3  109061325729  
4   58939561258  
5   53968632946  
6   44287789354  
7   37966557750  
8   32764955073  
9   31675582111  
</pre>
## (4) 기업 공시 데이터 확인하기

### 1) 대차대조표(Balance Sheet)



```python
aapl_yf = yf.Ticker("AAPL")
aapl_yf.balance_sheet
```

<pre>
                                                        2022-09-30  \
Ordinary Shares Number                               15943425000.0   
Share Issued                                         15943425000.0   
Net Debt                                             96423000000.0   
Total Debt                                          120069000000.0   
Tangible Book Value                                  50672000000.0   
Invested Capital                                    170741000000.0   
Working Capital                                     -18577000000.0   
Net Tangible Assets                                  50672000000.0   
Common Stock Equity                                  50672000000.0   
Total Capitalization                                149631000000.0   
Total Equity Gross Minority Interest                 50672000000.0   
Stockholders Equity                                  50672000000.0   
Gains Losses Not Affecting Retained Earnings        -11109000000.0   
Retained Earnings                                    -3068000000.0   
Capital Stock                                        64849000000.0   
Common Stock                                         64849000000.0   
Total Liabilities Net Minority Interest             302083000000.0   
Total Non Current Liabilities Net Minority Inte...  148101000000.0   
Other Non Current Liabilities                        49142000000.0   
Tradeand Other Payables Non Current                  16657000000.0   
Long Term Debt And Capital Lease Obligation          98959000000.0   
Long Term Debt                                       98959000000.0   
Current Liabilities                                 153982000000.0   
Other Current Liabilities                            60845000000.0   
Current Deferred Liabilities                          7912000000.0   
Current Deferred Revenue                              7912000000.0   
Current Debt And Capital Lease Obligation            21110000000.0   
Current Debt                                         21110000000.0   
Other Current Borrowings                             11128000000.0   
Commercial Paper                                      9982000000.0   
Payables And Accrued Expenses                        64115000000.0   
Payables                                             64115000000.0   
Accounts Payable                                     64115000000.0   
Total Assets                                        352755000000.0   
Total Non Current Assets                            217350000000.0   
Other Non Current Assets                             54428000000.0   
Investments And Advances                            120805000000.0   
Other Investments                                   120805000000.0   
Investmentin Financial Assets                       120805000000.0   
Available For Sale Securities                       120805000000.0   
Net PPE                                              42117000000.0   
Accumulated Depreciation                            -72340000000.0   
Gross PPE                                           114457000000.0   
Leases                                               11271000000.0   
Machinery Furniture Equipment                        81060000000.0   
Land And Improvements                                22126000000.0   
Properties                                                     0.0   
Current Assets                                      135405000000.0   
Other Current Assets                                 21223000000.0   
Inventory                                             4946000000.0   
Receivables                                          60932000000.0   
Other Receivables                                    32748000000.0   
Accounts Receivable                                  28184000000.0   
Cash Cash Equivalents And Short Term Investments     48304000000.0   
Other Short Term Investments                         24658000000.0   
Cash And Cash Equivalents                            23646000000.0   
Cash Equivalents                                      5100000000.0   
Cash Financial                                       18546000000.0   

                                                        2021-09-30  \
Ordinary Shares Number                               16426786000.0   
Share Issued                                         16426786000.0   
Net Debt                                             89779000000.0   
Total Debt                                          124719000000.0   
Tangible Book Value                                  63090000000.0   
Invested Capital                                    187809000000.0   
Working Capital                                       9355000000.0   
Net Tangible Assets                                  63090000000.0   
Common Stock Equity                                  63090000000.0   
Total Capitalization                                172196000000.0   
Total Equity Gross Minority Interest                 63090000000.0   
Stockholders Equity                                  63090000000.0   
Gains Losses Not Affecting Retained Earnings           163000000.0   
Retained Earnings                                     5562000000.0   
Capital Stock                                        57365000000.0   
Common Stock                                         57365000000.0   
Total Liabilities Net Minority Interest             287912000000.0   
Total Non Current Liabilities Net Minority Inte...  162431000000.0   
Other Non Current Liabilities                        53325000000.0   
Tradeand Other Payables Non Current                  24689000000.0   
Long Term Debt And Capital Lease Obligation         109106000000.0   
Long Term Debt                                      109106000000.0   
Current Liabilities                                 125481000000.0   
Other Current Liabilities                            47493000000.0   
Current Deferred Liabilities                          7612000000.0   
Current Deferred Revenue                              7612000000.0   
Current Debt And Capital Lease Obligation            15613000000.0   
Current Debt                                         15613000000.0   
Other Current Borrowings                              9613000000.0   
Commercial Paper                                      6000000000.0   
Payables And Accrued Expenses                        54763000000.0   
Payables                                             54763000000.0   
Accounts Payable                                     54763000000.0   
Total Assets                                        351002000000.0   
Total Non Current Assets                            216166000000.0   
Other Non Current Assets                             48849000000.0   
Investments And Advances                            127877000000.0   
Other Investments                                   127877000000.0   
Investmentin Financial Assets                       127877000000.0   
Available For Sale Securities                       127877000000.0   
Net PPE                                              39440000000.0   
Accumulated Depreciation                            -70283000000.0   
Gross PPE                                           109723000000.0   
Leases                                               11023000000.0   
Machinery Furniture Equipment                        78659000000.0   
Land And Improvements                                20041000000.0   
Properties                                                     0.0   
Current Assets                                      134836000000.0   
Other Current Assets                                 14111000000.0   
Inventory                                             6580000000.0   
Receivables                                          51506000000.0   
Other Receivables                                    25228000000.0   
Accounts Receivable                                  26278000000.0   
Cash Cash Equivalents And Short Term Investments     62639000000.0   
Other Short Term Investments                         27699000000.0   
Cash And Cash Equivalents                            34940000000.0   
Cash Equivalents                                     17635000000.0   
Cash Financial                                       17305000000.0   

                                                        2020-09-30  \
Ordinary Shares Number                               16976763000.0   
Share Issued                                         16976763000.0   
Net Debt                                             74420000000.0   
Total Debt                                          112436000000.0   
Tangible Book Value                                  65339000000.0   
Invested Capital                                    177775000000.0   
Working Capital                                      38321000000.0   
Net Tangible Assets                                  65339000000.0   
Common Stock Equity                                  65339000000.0   
Total Capitalization                                164006000000.0   
Total Equity Gross Minority Interest                 65339000000.0   
Stockholders Equity                                  65339000000.0   
Gains Losses Not Affecting Retained Earnings          -406000000.0   
Retained Earnings                                    14966000000.0   
Capital Stock                                        50779000000.0   
Common Stock                                         50779000000.0   
Total Liabilities Net Minority Interest             258549000000.0   
Total Non Current Liabilities Net Minority Inte...  153157000000.0   
Other Non Current Liabilities                        54490000000.0   
Tradeand Other Payables Non Current                  28170000000.0   
Long Term Debt And Capital Lease Obligation          98667000000.0   
Long Term Debt                                       98667000000.0   
Current Liabilities                                 105392000000.0   
Other Current Liabilities                            42684000000.0   
Current Deferred Liabilities                          6643000000.0   
Current Deferred Revenue                              6643000000.0   
Current Debt And Capital Lease Obligation            13769000000.0   
Current Debt                                         13769000000.0   
Other Current Borrowings                              8773000000.0   
Commercial Paper                                      4996000000.0   
Payables And Accrued Expenses                        42296000000.0   
Payables                                             42296000000.0   
Accounts Payable                                     42296000000.0   
Total Assets                                        323888000000.0   
Total Non Current Assets                            180175000000.0   
Other Non Current Assets                             42522000000.0   
Investments And Advances                            100887000000.0   
Other Investments                                   100887000000.0   
Investmentin Financial Assets                       100887000000.0   
Available For Sale Securities                       100887000000.0   
Net PPE                                              36766000000.0   
Accumulated Depreciation                            -66760000000.0   
Gross PPE                                           103526000000.0   
Leases                                               10283000000.0   
Machinery Furniture Equipment                        75291000000.0   
Land And Improvements                                17952000000.0   
Properties                                                     0.0   
Current Assets                                      143713000000.0   
Other Current Assets                                 11264000000.0   
Inventory                                             4061000000.0   
Receivables                                          37445000000.0   
Other Receivables                                    21325000000.0   
Accounts Receivable                                  16120000000.0   
Cash Cash Equivalents And Short Term Investments     90943000000.0   
Other Short Term Investments                         52927000000.0   
Cash And Cash Equivalents                            38016000000.0   
Cash Equivalents                                     20243000000.0   
Cash Financial                                       17773000000.0   

                                                        2019-09-30  
Ordinary Shares Number                               17772944000.0  
Share Issued                                         17772944000.0  
Net Debt                                             59203000000.0  
Total Debt                                          108047000000.0  
Tangible Book Value                                  90488000000.0  
Invested Capital                                    198535000000.0  
Working Capital                                      57101000000.0  
Net Tangible Assets                                  90488000000.0  
Common Stock Equity                                  90488000000.0  
Total Capitalization                                182295000000.0  
Total Equity Gross Minority Interest                 90488000000.0  
Stockholders Equity                                  90488000000.0  
Gains Losses Not Affecting Retained Earnings          -584000000.0  
Retained Earnings                                    45898000000.0  
Capital Stock                                        45174000000.0  
Common Stock                                         45174000000.0  
Total Liabilities Net Minority Interest             248028000000.0  
Total Non Current Liabilities Net Minority Inte...  142310000000.0  
Other Non Current Liabilities                        50503000000.0  
Tradeand Other Payables Non Current                  29545000000.0  
Long Term Debt And Capital Lease Obligation          91807000000.0  
Long Term Debt                                       91807000000.0  
Current Liabilities                                 105718000000.0  
Other Current Liabilities                            37720000000.0  
Current Deferred Liabilities                          5522000000.0  
Current Deferred Revenue                              5522000000.0  
Current Debt And Capital Lease Obligation            16240000000.0  
Current Debt                                         16240000000.0  
Other Current Borrowings                             10260000000.0  
Commercial Paper                                      5980000000.0  
Payables And Accrued Expenses                        46236000000.0  
Payables                                             46236000000.0  
Accounts Payable                                     46236000000.0  
Total Assets                                        338516000000.0  
Total Non Current Assets                            175697000000.0  
Other Non Current Assets                             32978000000.0  
Investments And Advances                            105341000000.0  
Other Investments                                   105341000000.0  
Investmentin Financial Assets                       105341000000.0  
Available For Sale Securities                       105341000000.0  
Net PPE                                              37378000000.0  
Accumulated Depreciation                            -58579000000.0  
Gross PPE                                            95957000000.0  
Leases                                                9075000000.0  
Machinery Furniture Equipment                        69797000000.0  
Land And Improvements                                17085000000.0  
Properties                                                     0.0  
Current Assets                                      162819000000.0  
Other Current Assets                                 12352000000.0  
Inventory                                             4106000000.0  
Receivables                                          45804000000.0  
Other Receivables                                    22878000000.0  
Accounts Receivable                                  22926000000.0  
Cash Cash Equivalents And Short Term Investments    100557000000.0  
Other Short Term Investments                         51713000000.0  
Cash And Cash Equivalents                            48844000000.0  
Cash Equivalents                                     36640000000.0  
Cash Financial                                       12204000000.0  
</pre>
### 2) 현금흐름표(cashflow)



```python
aapl_yf = yf.Ticker("AAPL")
aapl_yf.cashflow
```

<pre>
                                                    2022-09-30  \
Free Cash Flow                                  111443000000.0   
Repurchase Of Capital Stock                     -89402000000.0   
Repayment Of Debt                                -9543000000.0   
Issuance Of Debt                                  9420000000.0   
Issuance Of Capital Stock                                  NaN   
Capital Expenditure                             -10708000000.0   
Interest Paid Supplemental Data                   2865000000.0   
Income Tax Paid Supplemental Data                19573000000.0   
End Cash Position                                24977000000.0   
Beginning Cash Position                          35929000000.0   
Changes In Cash                                 -10952000000.0   
Financing Cash Flow                            -110749000000.0   
Cash Flow From Continuing Financing Activities -110749000000.0   
Net Other Financing Charges                      -6383000000.0   
Cash Dividends Paid                             -14841000000.0   
Common Stock Dividend Paid                      -14841000000.0   
Net Common Stock Issuance                       -89402000000.0   
Common Stock Payments                           -89402000000.0   
Common Stock Issuance                                      NaN   
Net Issuance Payments Of Debt                     -123000000.0   
Net Short Term Debt Issuance                      3955000000.0   
Short Term Debt Payments                                   NaN   
Short Term Debt Issuance                          3955000000.0   
Net Long Term Debt Issuance                      -4078000000.0   
Long Term Debt Payments                          -9543000000.0   
Long Term Debt Issuance                           5465000000.0   
Investing Cash Flow                             -22354000000.0   
Cash Flow From Continuing Investing Activities  -22354000000.0   
Net Other Investing Changes                      -1780000000.0   
Net Investment Purchase And Sale                 -9560000000.0   
Sale Of Investment                               67363000000.0   
Purchase Of Investment                          -76923000000.0   
Net Business Purchase And Sale                    -306000000.0   
Purchase Of Business                              -306000000.0   
Net PPE Purchase And Sale                       -10708000000.0   
Purchase Of PPE                                 -10708000000.0   
Operating Cash Flow                             122151000000.0   
Cash Flow From Continuing Operating Activities  122151000000.0   
Change In Working Capital                         1200000000.0   
Change In Other Working Capital                    478000000.0   
Change In Other Current Liabilities               5632000000.0   
Change In Other Current Assets                   -6499000000.0   
Change In Payables And Accrued Expense            9448000000.0   
Change In Payable                                 9448000000.0   
Change In Account Payable                         9448000000.0   
Change In Inventory                               1484000000.0   
Change In Receivables                            -9343000000.0   
Changes In Account Receivables                   -1823000000.0   
Other Non Cash Items                               111000000.0   
Stock Based Compensation                          9038000000.0   
Deferred Tax                                       895000000.0   
Deferred Income Tax                                895000000.0   
Depreciation Amortization Depletion              11104000000.0   
Depreciation And Amortization                    11104000000.0   
Net Income From Continuing Operations            99803000000.0   

                                                    2021-09-30  \
Free Cash Flow                                   92953000000.0   
Repurchase Of Capital Stock                     -85971000000.0   
Repayment Of Debt                                -8750000000.0   
Issuance Of Debt                                 20393000000.0   
Issuance Of Capital Stock                         1105000000.0   
Capital Expenditure                             -11085000000.0   
Interest Paid Supplemental Data                   2687000000.0   
Income Tax Paid Supplemental Data                25385000000.0   
End Cash Position                                35929000000.0   
Beginning Cash Position                          39789000000.0   
Changes In Cash                                  -3860000000.0   
Financing Cash Flow                             -93353000000.0   
Cash Flow From Continuing Financing Activities  -93353000000.0   
Net Other Financing Charges                      -6685000000.0   
Cash Dividends Paid                             -14467000000.0   
Common Stock Dividend Paid                      -14467000000.0   
Net Common Stock Issuance                       -84866000000.0   
Common Stock Payments                           -85971000000.0   
Common Stock Issuance                             1105000000.0   
Net Issuance Payments Of Debt                    12665000000.0   
Net Short Term Debt Issuance                      1022000000.0   
Short Term Debt Payments                                   NaN   
Short Term Debt Issuance                                   NaN   
Net Long Term Debt Issuance                      11643000000.0   
Long Term Debt Payments                          -8750000000.0   
Long Term Debt Issuance                          20393000000.0   
Investing Cash Flow                             -14545000000.0   
Cash Flow From Continuing Investing Activities  -14545000000.0   
Net Other Investing Changes                       -352000000.0   
Net Investment Purchase And Sale                 -3075000000.0   
Sale Of Investment                              106483000000.0   
Purchase Of Investment                         -109558000000.0   
Net Business Purchase And Sale                     -33000000.0   
Purchase Of Business                               -33000000.0   
Net PPE Purchase And Sale                       -11085000000.0   
Purchase Of PPE                                 -11085000000.0   
Operating Cash Flow                             104038000000.0   
Cash Flow From Continuing Operating Activities  104038000000.0   
Change In Working Capital                        -4911000000.0   
Change In Other Working Capital                   1676000000.0   
Change In Other Current Liabilities               5799000000.0   
Change In Other Current Assets                   -8042000000.0   
Change In Payables And Accrued Expense           12326000000.0   
Change In Payable                                12326000000.0   
Change In Account Payable                        12326000000.0   
Change In Inventory                              -2642000000.0   
Change In Receivables                           -14028000000.0   
Changes In Account Receivables                  -10125000000.0   
Other Non Cash Items                              -147000000.0   
Stock Based Compensation                          7906000000.0   
Deferred Tax                                     -4774000000.0   
Deferred Income Tax                              -4774000000.0   
Depreciation Amortization Depletion              11284000000.0   
Depreciation And Amortization                    11284000000.0   
Net Income From Continuing Operations            94680000000.0   

                                                    2020-09-30     2019-09-30  
Free Cash Flow                                   73365000000.0  58896000000.0  
Repurchase Of Capital Stock                     -72358000000.0 -66897000000.0  
Repayment Of Debt                               -13592000000.0  -8805000000.0  
Issuance Of Debt                                 16091000000.0   6963000000.0  
Issuance Of Capital Stock                          880000000.0    781000000.0  
Capital Expenditure                              -7309000000.0 -10495000000.0  
Interest Paid Supplemental Data                   3002000000.0   3423000000.0  
Income Tax Paid Supplemental Data                 9501000000.0  15263000000.0  
End Cash Position                                39789000000.0  50224000000.0  
Beginning Cash Position                          50224000000.0  25913000000.0  
Changes In Cash                                 -10435000000.0  24311000000.0  
Financing Cash Flow                             -86820000000.0 -90976000000.0  
Cash Flow From Continuing Financing Activities  -86820000000.0 -90976000000.0  
Net Other Financing Charges                      -3760000000.0  -2922000000.0  
Cash Dividends Paid                             -14081000000.0 -14119000000.0  
Common Stock Dividend Paid                      -14081000000.0 -14119000000.0  
Net Common Stock Issuance                       -71478000000.0 -66116000000.0  
Common Stock Payments                           -72358000000.0 -66897000000.0  
Common Stock Issuance                              880000000.0    781000000.0  
Net Issuance Payments Of Debt                     2499000000.0  -7819000000.0  
Net Short Term Debt Issuance                      -963000000.0  -5977000000.0  
Short Term Debt Payments                          -963000000.0            NaN  
Short Term Debt Issuance                                   NaN            NaN  
Net Long Term Debt Issuance                       3462000000.0  -1842000000.0  
Long Term Debt Payments                         -12629000000.0  -8805000000.0  
Long Term Debt Issuance                          16091000000.0   6963000000.0  
Investing Cash Flow                              -4289000000.0  45896000000.0  
Cash Flow From Continuing Investing Activities   -4289000000.0  45896000000.0  
Net Other Investing Changes                       -791000000.0  -1078000000.0  
Net Investment Purchase And Sale                  5335000000.0  58093000000.0  
Sale Of Investment                              120483000000.0  98724000000.0  
Purchase Of Investment                         -115148000000.0 -40631000000.0  
Net Business Purchase And Sale                   -1524000000.0   -624000000.0  
Purchase Of Business                             -1524000000.0   -624000000.0  
Net PPE Purchase And Sale                        -7309000000.0 -10495000000.0  
Purchase Of PPE                                  -7309000000.0 -10495000000.0  
Operating Cash Flow                              80674000000.0  69391000000.0  
Cash Flow From Continuing Operating Activities   80674000000.0  69391000000.0  
Change In Working Capital                         5690000000.0  -3488000000.0  
Change In Other Working Capital                   2081000000.0   -625000000.0  
Change In Other Current Liabilities               8916000000.0  -4700000000.0  
Change In Other Current Assets                   -9588000000.0    873000000.0  
Change In Payables And Accrued Expense           -4062000000.0  -1923000000.0  
Change In Payable                                -4062000000.0  -1923000000.0  
Change In Account Payable                        -4062000000.0  -1923000000.0  
Change In Inventory                               -127000000.0   -289000000.0  
Change In Receivables                             8470000000.0   3176000000.0  
Changes In Account Receivables                    6917000000.0    245000000.0  
Other Non Cash Items                               -97000000.0   -652000000.0  
Stock Based Compensation                          6829000000.0   6068000000.0  
Deferred Tax                                      -215000000.0   -340000000.0  
Deferred Income Tax                               -215000000.0   -340000000.0  
Depreciation Amortization Depletion              11056000000.0  12547000000.0  
Depreciation And Amortization                    11056000000.0  12547000000.0  
Net Income From Continuing Operations            57411000000.0  55256000000.0  
</pre>
### 3) 기업실적



```python
aapl_yf = yf.Ticker("AAPL")
aapl_yf.earnings_trend
```

## (5) 심볼보기



https://github.com/financedata-org/FinanceDataReader/wiki/Quick-Reference



한국 주요 지수  

미국 주요 지수  

국가별 대표 지수  

상품선물  

환율  

채권 수익률 등 확인가능



```python
!pip install finance_datareader
import FinanceDataReader as fdr

sp500 = fdr.StockListing('S&P500')
sp500.head(10)
```

<pre>
Collecting finance_datareader
  Downloading finance_datareader-0.9.50-py3-none-any.whl (19 kB)
Requirement already satisfied: pandas>=0.19.2 in /usr/local/lib/python3.10/dist-packages (from finance_datareader) (1.5.3)
Requirement already satisfied: requests>=2.3.0 in /usr/local/lib/python3.10/dist-packages (from finance_datareader) (2.27.1)
Collecting requests-file (from finance_datareader)
  Downloading requests_file-1.5.1-py2.py3-none-any.whl (3.7 kB)
Requirement already satisfied: lxml in /usr/local/lib/python3.10/dist-packages (from finance_datareader) (4.9.2)
Requirement already satisfied: tqdm in /usr/local/lib/python3.10/dist-packages (from finance_datareader) (4.65.0)
Requirement already satisfied: python-dateutil>=2.8.1 in /usr/local/lib/python3.10/dist-packages (from pandas>=0.19.2->finance_datareader) (2.8.2)
Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.10/dist-packages (from pandas>=0.19.2->finance_datareader) (2022.7.1)
Requirement already satisfied: numpy>=1.21.0 in /usr/local/lib/python3.10/dist-packages (from pandas>=0.19.2->finance_datareader) (1.22.4)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->finance_datareader) (1.26.16)
Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->finance_datareader) (2023.5.7)
Requirement already satisfied: charset-normalizer~=2.0.0 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->finance_datareader) (2.0.12)
Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->finance_datareader) (3.4)
Requirement already satisfied: six in /usr/local/lib/python3.10/dist-packages (from requests-file->finance_datareader) (1.16.0)
Installing collected packages: requests-file, finance_datareader
Successfully installed finance_datareader-0.9.50 requests-file-1.5.1
</pre>
<pre>
  Symbol                 Name                  Sector  \
0    MMM                   3M             Industrials   
1    AOS          A. O. Smith             Industrials   
2    ABT               Abbott             Health Care   
3   ABBV               AbbVie             Health Care   
4    ACN            Accenture  Information Technology   
5   ATVI  Activision Blizzard  Communication Services   
6    ADM                  ADM        Consumer Staples   
7   ADBE           Adobe Inc.  Information Technology   
8    ADP                  ADP             Industrials   
9    AAP   Advance Auto Parts  Consumer Discretionary   

                               Industry  
0              Industrial Conglomerates  
1                     Building Products  
2                 Health Care Equipment  
3                       Pharmaceuticals  
4        IT Consulting & Other Services  
5        Interactive Home Entertainment  
6      Agricultural Products & Services  
7                  Application Software  
8  Human Resource & Employment Services  
9                     Automotive Retail  
</pre>
S&P500 종목은 실제 503개이다.



```python
len(sp500)
```

<pre>
503
</pre>
Indexes: 'KS11'(코스피지수), 'KQ11'(코스닥지수), 'DJI'(다우존스지수), 'IXIC'(나스닥지수), 'US500'(S&P 500지수) .



Exchanges: 'USD/KRX', 'USD/EUR', 'CNY/KRW' ... (조합가능한 화폐별 환율 데이터 일자별)


# 제2장 금융데이터 수집2_DART

# 1. 금융감독원 전자공시 시스템인 OPEN DART 서비스 API



https://github.com/FinanceData/OpenDartReader



OpenDartReader는 금융감독원 전자공시 시스템의 "Open DART"서비스 API를 손쉽게 사용할 수 있도록 돕는 오픈소스 라이브러리이다. 단, 금융업의 재무제표 조회는 제공하지 않는다.



```python
!pip install opendartreader
```

<pre>
Collecting opendartreader
  Downloading OpenDartReader-0.2.3-py3-none-any.whl (27 kB)
Requirement already satisfied: pandas>=0.19.2 in /usr/local/lib/python3.10/dist-packages (from opendartreader) (1.5.3)
Requirement already satisfied: requests>=2.3.0 in /usr/local/lib/python3.10/dist-packages (from opendartreader) (2.27.1)
Requirement already satisfied: requests-file in /usr/local/lib/python3.10/dist-packages (from opendartreader) (1.5.1)
Requirement already satisfied: lxml in /usr/local/lib/python3.10/dist-packages (from opendartreader) (4.9.2)
Requirement already satisfied: beautifulsoup4 in /usr/local/lib/python3.10/dist-packages (from opendartreader) (4.11.2)
Requirement already satisfied: python-dateutil>=2.8.1 in /usr/local/lib/python3.10/dist-packages (from pandas>=0.19.2->opendartreader) (2.8.2)
Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.10/dist-packages (from pandas>=0.19.2->opendartreader) (2022.7.1)
Requirement already satisfied: numpy>=1.21.0 in /usr/local/lib/python3.10/dist-packages (from pandas>=0.19.2->opendartreader) (1.22.4)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->opendartreader) (1.26.16)
Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->opendartreader) (2023.5.7)
Requirement already satisfied: charset-normalizer~=2.0.0 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->opendartreader) (2.0.12)
Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->opendartreader) (3.4)
Requirement already satisfied: soupsieve>1.2 in /usr/local/lib/python3.10/dist-packages (from beautifulsoup4->opendartreader) (2.4.1)
Requirement already satisfied: six in /usr/local/lib/python3.10/dist-packages (from requests-file->opendartreader) (1.16.0)
Installing collected packages: opendartreader
Successfully installed opendartreader-0.2.3
</pre>
이미 설치되어 있고 업그레이드가 필요하다면 다음과 같이 입력한다.



```python
!pip install --upgrade opendartreader
```

<pre>
Requirement already satisfied: opendartreader in /usr/local/lib/python3.10/dist-packages (0.2.3)
Requirement already satisfied: pandas>=0.19.2 in /usr/local/lib/python3.10/dist-packages (from opendartreader) (1.5.3)
Requirement already satisfied: requests>=2.3.0 in /usr/local/lib/python3.10/dist-packages (from opendartreader) (2.27.1)
Requirement already satisfied: requests-file in /usr/local/lib/python3.10/dist-packages (from opendartreader) (1.5.1)
Requirement already satisfied: lxml in /usr/local/lib/python3.10/dist-packages (from opendartreader) (4.9.2)
Requirement already satisfied: beautifulsoup4 in /usr/local/lib/python3.10/dist-packages (from opendartreader) (4.11.2)
Requirement already satisfied: python-dateutil>=2.8.1 in /usr/local/lib/python3.10/dist-packages (from pandas>=0.19.2->opendartreader) (2.8.2)
Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.10/dist-packages (from pandas>=0.19.2->opendartreader) (2022.7.1)
Requirement already satisfied: numpy>=1.21.0 in /usr/local/lib/python3.10/dist-packages (from pandas>=0.19.2->opendartreader) (1.22.4)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->opendartreader) (1.26.16)
Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->opendartreader) (2023.5.7)
Requirement already satisfied: charset-normalizer~=2.0.0 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->opendartreader) (2.0.12)
Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/dist-packages (from requests>=2.3.0->opendartreader) (3.4)
Requirement already satisfied: soupsieve>1.2 in /usr/local/lib/python3.10/dist-packages (from beautifulsoup4->opendartreader) (2.4.1)
Requirement already satisfied: six in /usr/local/lib/python3.10/dist-packages (from requests-file->opendartreader) (1.16.0)
</pre>
# 2. 사용법

## (1) API key 발급 및 주의사항

https://opendart.fss.or.kr 에 접속해 [인증키 신청/관리] - [인증키 신청] 탭에서 API Key 발급을 신청할 수 있습니다.  

인증 받은 키값은 [인증키 신청/관리] - [오픈API 이용현황]에서 확인할 수 있습니다. (분당 1000회 이상 데이터를 가져오면 24시간 동안 IP가 차단된다고 합니다.)


## (2) 시작

```

import OpenDartReader

import pandas as pd

api_key = '발급받은 api key'

dart = OpenDartReader(api_key)



```



```python
import OpenDartReader
api_key = '08e5630dfab194af6a970db4299220e71c7fab7f'
dart = OpenDartReader(api_key)
```

### 1) list() - 공시검색(개별종목)

지정한 회사의 보고서를 검색합니다. 기간과 보고서의 종류를 지정할 수 있습니다.

```

dart.list(corp, start=None, end=None, kind='', kind_detail='', final=True)

```



① 날짜 지정하는 방법

```

1. start와 end에 지정하는 날짜의 형식 '2020-07-01', '2020-7-1', '20200701', '1 july 2020', 'JULY 1 2020' 모두 가능합니다. datetime객체도 가능합니다.

2. start 와 end를 함께 지정하면 start~end 기간을 지정합니다. start만 지정하면 start 부터 현재까지, end만 지정하면 end 하루를 지정하게 됩니다.

```



②　삼성전자 2022-09-20 1일 중 공시 목록



```python
dart.list('005930', end='2022-10-20')
```

<pre>
     corp_code corp_name stock_code corp_cls              report_nm  \
0     00126380      삼성전자     005930        Y    임원ㆍ주요주주특정증권등소유상황보고서   
1     00126380      삼성전자     005930        Y    임원ㆍ주요주주특정증권등소유상황보고서   
2     00126380      삼성전자     005930        Y    임원ㆍ주요주주특정증권등소유상황보고서   
3     00126380      삼성전자     005930        Y         최대주주등소유주식변동신고서   
4     00126380      삼성전자     005930        Y      기업설명회(IR)개최(안내공시)   
...        ...       ...        ...      ...                    ...   
5621  00126380      삼성전자     005930        Y           채무보증(담보제공포함)   
5622  00126380      삼성전자     005930        Y          최대주주등을위한금전의대여   
5623  00126380      삼성전자     005930        Y        감사보고서 (1999.12)   
5624  00126380      삼성전자     005930        Y  [기재정정]반기보고서 (1999.06)   
5625  00126380      삼성전자     005930        Y  [기재정정]사업보고서 (1998.12)   

            rcept_no  flr_nm  rcept_dt rm  
0     20221018000007     이동하  20221018     
1     20221018000004     박훈철  20221018     
2     20221017000310     박태훈  20221017     
3     20221011800602    삼성전자  20221011  유  
4     20221007800064    삼성전자  20221007  유  
...              ...     ...       ... ..  
5621  20000404000429    삼성전자  20000404     
5622  20000401000031    삼성전자  20000401     
5623  20000320000124  삼일회계법인  20000320     
5624  19990824000003    삼성전자  19990824     
5625  19990626000007    삼성전자  19990626  연  

[5626 rows x 9 columns]
</pre>
③ 삼성전자 일정기간 동안 공시 목록



```python
dart.list('005930', start='2022-7-1', end='2022-9-12')
```

<pre>
   corp_code corp_name stock_code corp_cls                     report_nm  \
0   00126380      삼성전자     005930        Y                최대주주등소유주식변동신고서   
1   00126380      삼성전자     005930        Y           임원ㆍ주요주주특정증권등소유상황보고서   
2   00126380      삼성전자     005930        Y           임원ㆍ주요주주특정증권등소유상황보고서   
3   00126380      삼성전자     005930        Y             주식등의대량보유상황보고서(약식)   
4   00126380      삼성전자     005930        Y                      주주총회소집결의   
5   00126380      삼성전자     005930        Y     대규모기업집단현황공시[분기별공시(대표회사용)]   
6   00126380      삼성전자     005930        Y             주식등의대량보유상황보고서(일반)   
7   00126380      삼성전자     005930        Y           임원ㆍ주요주주특정증권등소유상황보고서   
8   00126380      삼성전자     005930        Y         동일인등출자계열회사와의상품ㆍ용역거래변경   
9   00126380      삼성전자     005930        Y         동일인등출자계열회사와의상품ㆍ용역거래변경   
10  00126380      삼성전자     005930        Y         동일인등출자계열회사와의상품ㆍ용역거래변경   
11  00126380      삼성전자     005930        Y               반기보고서 (2022.06)   
12  00126380      삼성전자     005930        Y                최대주주등소유주식변동신고서   
13  00126380      삼성전자     005930        Y           임원ㆍ주요주주특정증권등소유상황보고서   
14  00126380      삼성전자     005930        Y           임원ㆍ주요주주특정증권등소유상황보고서   
15  00126380      삼성전자     005930        Y                  기타경영사항(자율공시)   
16  00126380      삼성전자     005930        Y                   특수관계인과의보험거래   
17  00126380      삼성전자     005930        Y                 특수관계인에대한부동산임대   
18  00126380      삼성전자     005930        Y                   특수관계인과의보험거래   
19  00126380      삼성전자     005930        Y                    특수관계인에대한출자   
20  00126380      삼성전자     005930        Y  [기재정정]연결재무제표기준영업(잠정)실적(공정공시)   
21  00126380      삼성전자     005930        Y                     현금ㆍ현물배당결정   
22  00126380      삼성전자     005930        Y        연결재무제표기준영업(잠정)실적(공정공시)   
23  00126380      삼성전자     005930        Y             주식등의대량보유상황보고서(일반)   
24  00126380      삼성전자     005930        Y           임원ㆍ주요주주특정증권등소유상황보고서   
25  00126380      삼성전자     005930        Y                최대주주등소유주식변동신고서   
26  00126380      삼성전자     005930        Y           임원ㆍ주요주주특정증권등소유상황보고서   
27  00126380      삼성전자     005930        Y           임원ㆍ주요주주특정증권등소유상황보고서   
28  00126380      삼성전자     005930        Y           임원ㆍ주요주주특정증권등소유상황보고서   
29  00126380      삼성전자     005930        Y             주식등의대량보유상황보고서(일반)   
30  00126380      삼성전자     005930        Y           임원ㆍ주요주주특정증권등소유상황보고서   
31  00126380      삼성전자     005930        Y           임원ㆍ주요주주특정증권등소유상황보고서   
32  00126380      삼성전자     005930        Y             기업설명회(IR)개최(안내공시)   
33  00126380      삼성전자     005930        Y           임원ㆍ주요주주특정증권등소유상황보고서   
34  00126380      삼성전자     005930        Y           임원ㆍ주요주주특정증권등소유상황보고서   

          rcept_no  flr_nm  rcept_dt rm  
0   20220908800372    삼성전자  20220908  유  
1   20220908000234     박미주  20220908     
2   20220906000381     박래순  20220906     
3   20220902000220  국민연금공단  20220902     
4   20220901800093    삼성전자  20220901  유  
5   20220831000188    삼성전자  20220831  공  
6   20220826000674    삼성물산  20220826     
7   20220817000246     김시우  20220817     
8   20220816001870    삼성전자  20220816  공  
9   20220816001842    삼성전자  20220816  공  
10  20220816001806    삼성전자  20220816  공  
11  20220816001711    삼성전자  20220816     
12  20220809800334    삼성전자  20220809  유  
13  20220803000274     윤철운  20220803     
14  20220802000246     이인용  20220802     
15  20220728800494    삼성전자  20220728  유  
16  20220728000352    삼성전자  20220728  공  
17  20220728000347    삼성전자  20220728  공  
18  20220728000337    삼성전자  20220728  공  
19  20220728000330    삼성전자  20220728  공  
20  20220728800068    삼성전자  20220728  유  
21  20220728800058    삼성전자  20220728  유  
22  20220728800047    삼성전자  20220728  유  
23  20220722000492    삼성물산  20220722     
24  20220719000004     박상훈  20220719     
25  20220712800502    삼성전자  20220712  유  
26  20220712000611     박태훈  20220712     
27  20220712000224     배학범  20220712     
28  20220708000690     배학범  20220711     
29  20220708000631    삼성물산  20220708     
30  20220708000604     우영돈  20220708     
31  20220707000377     김도형  20220707     
32  20220707800073    삼성전자  20220707  유  
33  20220706000249     박종만  20220706     
34  20220706000082     홍형선  20220706     
</pre>
④ 삼성전자 2015-01-01 이후 모든 정기보고서



```python
dart.list('005930', start='2015-01-01', kind='A')
```

<pre>
   corp_code corp_name stock_code corp_cls        report_nm        rcept_no  \
0   00126380      삼성전자     005930        Y  분기보고서 (2023.03)  20230515002335   
1   00126380      삼성전자     005930        Y  사업보고서 (2022.12)  20230307000542   
2   00126380      삼성전자     005930        Y  분기보고서 (2022.09)  20221114001832   
3   00126380      삼성전자     005930        Y  반기보고서 (2022.06)  20220816001711   
4   00126380      삼성전자     005930        Y  분기보고서 (2022.03)  20220516001751   
5   00126380      삼성전자     005930        Y  사업보고서 (2021.12)  20220308000798   
6   00126380      삼성전자     005930        Y  분기보고서 (2021.09)  20211115001965   
7   00126380      삼성전자     005930        Y  반기보고서 (2021.06)  20210817001416   
8   00126380      삼성전자     005930        Y  분기보고서 (2021.03)  20210517001185   
9   00126380      삼성전자     005930        Y  사업보고서 (2020.12)  20210309000744   
10  00126380      삼성전자     005930        Y  분기보고서 (2020.09)  20201116001248   
11  00126380      삼성전자     005930        Y  반기보고서 (2020.06)  20200814001766   
12  00126380      삼성전자     005930        Y  분기보고서 (2020.03)  20200515001451   
13  00126380      삼성전자     005930        Y  사업보고서 (2019.12)  20200330003851   
14  00126380      삼성전자     005930        Y  분기보고서 (2019.09)  20191114001273   
15  00126380      삼성전자     005930        Y  반기보고서 (2019.06)  20190814002218   
16  00126380      삼성전자     005930        Y  분기보고서 (2019.03)  20190515001605   
17  00126380      삼성전자     005930        Y  사업보고서 (2018.12)  20190401004781   
18  00126380      삼성전자     005930        Y  분기보고서 (2018.09)  20181114001530   
19  00126380      삼성전자     005930        Y  반기보고서 (2018.06)  20180814001113   
20  00126380      삼성전자     005930        Y  분기보고서 (2018.03)  20180515001699   
21  00126380      삼성전자     005930        Y  사업보고서 (2017.12)  20180402005019   
22  00126380      삼성전자     005930        Y  분기보고서 (2017.09)  20171114001694   
23  00126380      삼성전자     005930        Y  반기보고서 (2017.06)  20170814001832   
24  00126380      삼성전자     005930        Y  분기보고서 (2017.03)  20170515003806   
25  00126380      삼성전자     005930        Y  사업보고서 (2016.12)  20170331004518   
26  00126380      삼성전자     005930        Y  분기보고서 (2016.09)  20161114001491   
27  00126380      삼성전자     005930        Y  반기보고서 (2016.06)  20160816001779   
28  00126380      삼성전자     005930        Y  분기보고서 (2016.03)  20160516003174   
29  00126380      삼성전자     005930        Y  사업보고서 (2015.12)  20160330003536   
30  00126380      삼성전자     005930        Y  분기보고서 (2015.09)  20151116000976   
31  00126380      삼성전자     005930        Y  반기보고서 (2015.06)  20150817000859   
32  00126380      삼성전자     005930        Y  분기보고서 (2015.03)  20150515001379   
33  00126380      삼성전자     005930        Y  사업보고서 (2014.12)  20150331002915   

   flr_nm  rcept_dt rm  
0    삼성전자  20230515     
1    삼성전자  20230307  연  
2    삼성전자  20221114     
3    삼성전자  20220816     
4    삼성전자  20220516     
5    삼성전자  20220308  연  
6    삼성전자  20211115     
7    삼성전자  20210817     
8    삼성전자  20210517     
9    삼성전자  20210309  연  
10   삼성전자  20201116     
11   삼성전자  20200814     
12   삼성전자  20200515     
13   삼성전자  20200330  연  
14   삼성전자  20191114     
15   삼성전자  20190814     
16   삼성전자  20190515     
17   삼성전자  20190401  연  
18   삼성전자  20181114     
19   삼성전자  20180814     
20   삼성전자  20180515     
21   삼성전자  20180402  연  
22   삼성전자  20171114     
23   삼성전자  20170814     
24   삼성전자  20170515     
25   삼성전자  20170331  연  
26   삼성전자  20161114     
27   삼성전자  20160816     
28   삼성전자  20160516     
29   삼성전자  20160330  연  
30   삼성전자  20151116     
31   삼성전자  20150817     
32   삼성전자  20150515     
33   삼성전자  20150331  연  
</pre>
⑤ 삼성전자 일정기간의 모든 정기보고서(최종보고서)를 확인할 때



```python
dart.list('005930', start='2017-01-01', end='2019-12-31', kind='A', final=False)
```

<pre>
   corp_code corp_name stock_code corp_cls        report_nm        rcept_no  \
0   00126380      삼성전자     005930        Y  분기보고서 (2019.09)  20191114001273   
1   00126380      삼성전자     005930        Y  반기보고서 (2019.06)  20190814002218   
2   00126380      삼성전자     005930        Y  분기보고서 (2019.03)  20190515001605   
3   00126380      삼성전자     005930        Y  사업보고서 (2018.12)  20190401004781   
4   00126380      삼성전자     005930        Y  분기보고서 (2018.09)  20181114001530   
5   00126380      삼성전자     005930        Y  반기보고서 (2018.06)  20180814001113   
6   00126380      삼성전자     005930        Y  분기보고서 (2018.03)  20180515001699   
7   00126380      삼성전자     005930        Y  사업보고서 (2017.12)  20180402005019   
8   00126380      삼성전자     005930        Y  분기보고서 (2017.09)  20171114001694   
9   00126380      삼성전자     005930        Y  반기보고서 (2017.06)  20170814001832   
10  00126380      삼성전자     005930        Y  분기보고서 (2017.03)  20170515003806   
11  00126380      삼성전자     005930        Y  사업보고서 (2016.12)  20170331004518   

   flr_nm  rcept_dt rm  
0    삼성전자  20191114     
1    삼성전자  20190814     
2    삼성전자  20190515     
3    삼성전자  20190401  연  
4    삼성전자  20181114     
5    삼성전자  20180814     
6    삼성전자  20180515     
7    삼성전자  20180402  연  
8    삼성전자  20171114     
9    삼성전자  20170814     
10   삼성전자  20170515     
11   삼성전자  20170331  연  
</pre>
### 2) 단일회사 주요계정 : finstate 함수

단일회사 전체 재무제표:  finstate_all 함수를 이용하여 조회 가능



① finstate

```

dart.finstate(corp, bsns_year, reprt_code='11011')

```

> corp: 종목코드, bsns_year: 사업연도, reprt_code: 보고서코드(1분기보고서 : 11013, 반기보고서 : 11012, 3분기보고서 : 11014, 사업보고서 : 11011)



```python
dart.finstate(corp='005930', bsns_year=2021)
```

② finstate_all

```

dart.finstate_all(corp, bsns_year, reprt_code='11011', fs_div='CFS')

```

> corp: 종목코드, bsns_year: 사업연도, reprt_code: 보고서코드(1분기보고서 : 11013, 반기보고서 : 11012, 3분기보고서 : 11014, 사업보고서 : 11011), fs_div: 개별/연결 구분(CFS: 연결재무제표, OFS: 개별 재무제표)



```python
dart.finstate_all(corp='005930', bsns_year=2021)
```

<pre>
reprt_code='11011', fs_div='CFS' (사업보고서, 연결제무제표)'
</pre>
<pre>
           rcept_no reprt_code bsns_year corp_code sj_div  sj_nm  \
0    20220308000798      11011      2021  00126380     BS  재무상태표   
1    20220308000798      11011      2021  00126380     BS  재무상태표   
2    20220308000798      11011      2021  00126380     BS  재무상태표   
3    20220308000798      11011      2021  00126380     BS  재무상태표   
4    20220308000798      11011      2021  00126380     BS  재무상태표   
..              ...        ...       ...       ...    ...    ...   
181  20220308000798      11011      2021  00126380    SCE  자본변동표   
182  20220308000798      11011      2021  00126380    SCE  자본변동표   
183  20220308000798      11011      2021  00126380    SCE  자본변동표   
184  20220308000798      11011      2021  00126380    SCE  자본변동표   
185  20220308000798      11011      2021  00126380    SCE  자본변동표   

                                            account_id       account_nm  \
0                              ifrs-full_CurrentAssets             유동자산   
1                     ifrs-full_CashAndCashEquivalents         현금및현금성자산   
2    dart_ShortTermDepositsNotClassifiedAsCashEquiv...           단기금융상품   
3                                         -표준계정코드 미사용-      단기상각후원가금융자산   
4    ifrs-full_CurrentFinancialAssetsAtFairValueThr...  단기당기손익-공정가치금융자산   
..                                                 ...              ...   
181                                   ifrs-full_Equity             기말자본   
182                                   ifrs-full_Equity             기말자본   
183                                   ifrs-full_Equity             기말자본   
184                                   ifrs-full_Equity             기말자본   
185                                   ifrs-full_Equity             기말자본   

                            account_detail thstrm_nm    thstrm_amount  \
0                                        -    제 53 기  218163185000000   
1                                        -    제 53 기   39031415000000   
2                                        -    제 53 기   81708986000000   
3                                        -    제 53 기    3369034000000   
4                                        -    제 53 기      40757000000   
..                                     ...       ...              ...   
181          자본 [member]|지배기업 소유주지분|기타자본항목    제 53 기   -2128473000000   
182    자본 [member]|지배기업 소유주지분|매각예정분류기타자본항목    제 53 기                0   
183  자본 [member]|지배기업 소유주지분|이익잉여금 [member]    제 53 기  293064763000000   
184    자본 [member]|지배기업 소유주지분|자본금 [member]    제 53 기     897514000000   
185         자본 [member]|지배기업 소유주지분|주식발행초과금    제 53 기    4403893000000   

    frmtrm_nm    frmtrm_amount bfefrmtrm_nm bfefrmtrm_amount ord currency  \
0      제 52 기  198215579000000       제 51 기  181385260000000   1      KRW   
1      제 52 기   29382578000000       제 51 기   26885999000000   2      KRW   
2      제 52 기   92441703000000       제 51 기   76252052000000   3      KRW   
3      제 52 기    2757111000000       제 51 기    3914216000000   4      KRW   
4      제 52 기      71451000000       제 51 기    1727436000000   5      KRW   
..        ...              ...          ...              ...  ..      ...   
181    제 52 기   -8687155000000       제 51 기   -4968829000000  13      KRW   
182    제 52 기     -12132000000       제 51 기                0  13      KRW   
183    제 52 기  271068211000000       제 51 기  254582894000000  13      KRW   
184    제 52 기     897514000000       제 51 기     897514000000  13      KRW   
185    제 52 기    4403893000000       제 51 기    4403893000000  13      KRW   

    thstrm_add_amount  
0                 NaN  
1                 NaN  
2                 NaN  
3                 NaN  
4                 NaN  
..                ...  
181               NaN  
182               NaN  
183               NaN  
184               NaN  
185               NaN  

[186 rows x 18 columns]
</pre>
# 3. 기업개황

## (1) 기업의 개황정보

```

dart.company(corp)

```



예] 삼성전자, 005930, 00126380



```python
dart.company('005930')
```

<pre>
{'status': '000',
 'message': '정상',
 'corp_code': '00126380',
 'corp_name': '삼성전자(주)',
 'corp_name_eng': 'SAMSUNG ELECTRONICS CO,.LTD',
 'stock_name': '삼성전자',
 'stock_code': '005930',
 'ceo_nm': '한종희, 경계현',
 'corp_cls': 'Y',
 'jurir_no': '1301110006246',
 'bizr_no': '1248100998',
 'adres': '경기도 수원시 영통구  삼성로 129 (매탄동)',
 'hm_url': 'www.samsung.com/sec',
 'ir_url': '',
 'phn_no': '02-2255-0114',
 'fax_no': '031-200-7538',
 'induty_code': '264',
 'est_dt': '19690113',
 'acc_mt': '12'}
</pre>
## (2) 회사명에 삼성전자가 포함된 회사들에 대한 개황정보

### 1) dart.company_by_name(name)

기업을 검색하여 이름이 포함된 모든 기업들의 기업개황 정보를 반환합니다.



```python
dart = dart.company_by_name('삼성전자')
dart[:2]
```

<pre>
[{'status': '000',
  'message': '정상',
  'corp_code': '00258999',
  'corp_name': '삼성전자 서비스주식회사',
  'corp_name_eng': 'SAMSUNNG ELECTRONICS SERVICE CO., LTD',
  'stock_name': '삼성전자서비스',
  'stock_code': '',
  'ceo_nm': '송봉섭',
  'corp_cls': 'E',
  'jurir_no': '1301110049139',
  'bizr_no': '1248158485',
  'adres': '경기도 수원시 영통구 삼성로 290 (원천동)',
  'hm_url': 'www.samsungsvc.co.kr',
  'ir_url': '',
  'phn_no': '031-270-2177',
  'fax_no': '031-270-2106',
  'induty_code': '95',
  'est_dt': '19981027',
  'acc_mt': '12'},
 {'status': '000',
  'message': '정상',
  'corp_code': '01345812',
  'corp_name': '삼성전자서비스씨에스 주식회사',
  'corp_name_eng': 'SAMSUNG ELECTRONICS SERVICE CUSTOMER SATISFACTION., LTD.',
  'stock_name': '삼성전자서비스씨에스',
  'stock_code': '',
  'ceo_nm': '이명옥',
  'corp_cls': 'E',
  'jurir_no': '1358110352541',
  'bizr_no': '7898701103',
  'adres': '경기도 수원시 영통구 중부대로 324 (매탄동, KT동수원지사)',
  'hm_url': '',
  'ir_url': '',
  'phn_no': '031-210-8914',
  'fax_no': '031-8006-1009',
  'induty_code': '75991',
  'est_dt': '20181105',
  'acc_mt': '12'}]
</pre>
가져온 기업개황 정보(dict list)를 데이터 프레임으로 가공하고, 필요한 컬럼을 지정하여 정리



```python
import pandas as pd
pd.DataFrame(dart)[['stock_name', 'stock_code', 'ceo_nm', 'corp_cls', 'jurir_no', 'bizr_no', 'adres']]
```

<pre>
   stock_name stock_code    ceo_nm corp_cls       jurir_no     bizr_no  \
0     삼성전자서비스                  송봉섭        E  1301110049139  1248158485   
1  삼성전자서비스씨에스                  이명옥        E  1358110352541  7898701103   
2      삼성전자판매                  이평우        E  1801110210300  6178117517   
3        삼성전자     005930  한종희, 경계현        Y  1301110006246  1248100998   
4     삼성전자로지텍                  최윤범        E  1301110046797  1248155381   

                                 adres  
0            경기도 수원시 영통구 삼성로 290 (원천동)  
1  경기도 수원시 영통구 중부대로 324 (매탄동, KT동수원지사)  
2                 경기도 성남시 분당구 황새울로 340  
3           경기도 수원시 영통구  삼성로 129 (매탄동)  
4                  경기도 수원시 영통구 삼성로 129  
</pre>
### 2) find_corp_code()





*   종목코드 혹은 기업명으로 고유번호를 가져옵니다.

*   전자공시에서 개별 기업은 고유번호로 식별 됩니다. 특히, 상장종목이 아닌 경우는 고유번호를 사용해야 합니다.






```python
dart.find_corp_code('005930')
```

<pre>
'00126380'
</pre>
### 3) corp_codes - 고유번호(속성)

고유번호, 종목명, 종목코드 등의 정보를 포함하고 있는 속성값  

9만 4천여개 기업에 대한 고유번호, 종목명, 종목코드 등의 정보를 포함



```python
dart.corp_code
```

# 4. 사업보고서

## (1) report() - 사업보고서 주요정보

사업보고서의 주요 내용을 조회



[예] 삼성전자(005930), 배당관련 사항, 2020년



```python
dart.report('005930', '배당', 2020)
```

<pre>
          rcept_no corp_cls corp_code corp_name              se      thstrm  \
0   20210309000744        Y  00126380      삼성전자       주당액면가액(원)         100   
1   20210309000744        Y  00126380      삼성전자  (연결)당기순이익(백만원)  26,090,846   
2   20210309000744        Y  00126380      삼성전자  (별도)당기순이익(백만원)  15,615,018   
3   20210309000744        Y  00126380      삼성전자    (연결)주당순이익(원)       3,841   
4   20210309000744        Y  00126380      삼성전자    현금배당금총액(백만원)  20,338,075   
5   20210309000744        Y  00126380      삼성전자    주식배당금총액(백만원)           -   
6   20210309000744        Y  00126380      삼성전자   (연결)현금배당성향(%)       78.00   
7   20210309000744        Y  00126380      삼성전자      현금배당수익률(%)        4.00   
8   20210309000744        Y  00126380      삼성전자      현금배당수익률(%)        4.20   
9   20210309000744        Y  00126380      삼성전자      주식배당수익률(%)           -   
10  20210309000744        Y  00126380      삼성전자      주식배당수익률(%)           -   
11  20210309000744        Y  00126380      삼성전자     주당 현금배당금(원)       2,994   
12  20210309000744        Y  00126380      삼성전자     주당 현금배당금(원)       2,995   
13  20210309000744        Y  00126380      삼성전자      주당 주식배당(주)           -   
14  20210309000744        Y  00126380      삼성전자      주당 주식배당(주)           -   

        frmtrm        lwfr stock_knd  
0          100         100       NaN  
1   21,505,054  43,890,877       NaN  
2   15,353,323  32,815,127       NaN  
3        3,166       6,461       NaN  
4    9,619,243   9,619,243       NaN  
5            -           -       NaN  
6        44.70       21.90       NaN  
7         2.60        3.70       보통주  
8         3.10        4.50       우선주  
9            -           -       보통주  
10           -           -       우선주  
11       1,416       1,416       보통주  
12       1,417       1,417       우선주  
13           -           -       보통주  
14           -           -       우선주  
</pre>
## (2) dart.report(corp, key_word, bsns_year, reprt_code='11011')

key_word에 '증자','배당','자기주식','최대주주','최대주주변동','소액주주','임원','직원','임원개인보수','임원전체보수','개인별보수','타법인출자' 중의 하나를 지정할 수 있습니다.

bsns_year 에 사업년도를 지정 가능 (문자열 혹은 정수값)



① [예] 삼성전자(005930), 최대주주 관한 사항, 2020년



```python
dart.report('005930', '최대주주', 2020)
```

<pre>
          rcept_no corp_cls corp_code corp_name stock_knd             nm  \
0   20210309000744        Y  00126380      삼성전자       보통주            이건희   
1   20210309000744        Y  00126380      삼성전자       보통주  삼성생명보험㈜(특별계정)   
2   20210309000744        Y  00126380      삼성전자       우선주  삼성생명보험㈜(특별계정)   
3   20210309000744        Y  00126380      삼성전자       보통주      삼성화재해상보험㈜   
4   20210309000744        Y  00126380      삼성전자       보통주            김기남   
5   20210309000744        Y  00126380      삼성전자       보통주            김현석   
6   20210309000744        Y  00126380      삼성전자       보통주            고동진   
7   20210309000744        Y  00126380      삼성전자       보통주            한종희   
8   20210309000744        Y  00126380      삼성전자       보통주            안규리   
9   20210309000744        Y  00126380      삼성전자       보통주            김한조   
10  20210309000744        Y  00126380      삼성전자       보통주            이상훈   
11  20210309000744        Y  00126380      삼성전자       우선주            이건희   
12  20210309000744        Y  00126380      삼성전자       보통주          삼성물산㈜   
13  20210309000744        Y  00126380      삼성전자       보통주         삼성복지재단   
14  20210309000744        Y  00126380      삼성전자       보통주         삼성문화재단   
15  20210309000744        Y  00126380      삼성전자       보통주            홍라희   
16  20210309000744        Y  00126380      삼성전자       보통주            이재용   
17  20210309000744        Y  00126380      삼성전자       보통주        삼성생명보험㈜   
18  20210309000744        Y  00126380      삼성전자       우선주        삼성생명보험㈜   
19  20210309000744        Y  00126380      삼성전자       보통주              계   
20  20210309000744        Y  00126380      삼성전자       우선주              계   

       relate bsis_posesn_stock_co bsis_posesn_stock_qota_rt  \
0     최대주주 본인          249,273,200                      4.18   
1        계열회사           18,286,593                      0.31   
2        계열회사            1,352,563                      0.16   
3        계열회사           88,802,052                      1.49   
4     발행회사 임원              200,000                      0.00   
5     발행회사 임원               99,750                      0.00   
6     발행회사 임원               75,000                      0.00   
7     발행회사 임원                    0                      0.00   
8     발행회사 임원                  800                      0.00   
9     발행회사 임원                2,175                      0.00   
10    발행회사 임원               16,000                      0.00   
11    최대주주 본인              619,900                      0.08   
12       계열회사          298,818,100                      5.01   
13      출연 재단            4,484,150                      0.08   
14      출연 재단            1,880,750                      0.03   
15  최대주주의 배우자           54,153,600                      0.91   
16    최대주주의 자           42,020,150                      0.70   
17       계열회사          508,157,148                      8.51   
18       계열회사               43,950                      0.01   
19        NaN        1,266,269,468                     21.21   
20        NaN            2,016,413                      0.25   

   trmend_posesn_stock_co trmend_posesn_stock_qota_rt     rm  
0             249,273,200                        4.18      -  
1              16,284,877                        0.27   장내매매  
2                 772,567                        0.09   장내매매  
3              88,802,052                        1.49      -  
4                 200,000                        0.00      -  
5                  99,750                        0.00      -  
6                  75,000                        0.00      -  
7                   5,000                        0.00  신규 선임  
8                   2,600                        0.00   장내매매  
9                   2,175                        0.00      -  
10                      0                        0.00  이사 사임  
11                619,900                        0.08      -  
12            298,818,100                        5.01      -  
13              4,484,150                        0.08      -  
14              1,880,750                        0.03      -  
15             54,153,600                        0.91      -  
16             42,020,150                        0.70      -  
17            508,157,148                        8.51      -  
18                 43,950                        0.01      -  
19          1,264,258,552                       21.18      -  
20              1,436,417                        0.17      -  
</pre>
② [예] 삼성전자(005930), 임원 관한 사항, 2021년



```python
dart.report('005930', '임원', 2021)
```

<pre>
          rcept_no corp_cls corp_code corp_name   nm sexdstn   birth_ym ofcps  \
0   20220308000798        Y  00126380      삼성전자  김기남       남  1958년 04월    회장   
1   20220308000798        Y  00126380      삼성전자  안규리       여  1955년 03월    이사   
2   20220308000798        Y  00126380      삼성전자  김한조       남  1956년 07월    이사   
3   20220308000798        Y  00126380      삼성전자  김현석       남  1961년 01월    고문   
4   20220308000798        Y  00126380      삼성전자  고동진       남  1961년 03월    고문   
5   20220308000798        Y  00126380      삼성전자  한종희       남  1962년 03월   부회장   
6   20220308000798        Y  00126380      삼성전자  최윤호       남  1963년 01월    사장   
7   20220308000798        Y  00126380      삼성전자  박재완       남  1955년 01월    이사   
8   20220308000798        Y  00126380      삼성전자  김선욱       여  1952년 12월    이사   
9   20220308000798        Y  00126380      삼성전자  박병국       남  1959년 04월    이사   
10  20220308000798        Y  00126380      삼성전자  김종훈       남  1960년 08월    이사   

   rgist_exctv_at fte_at                                           chrg_job  \
0            사내이사     상근                                     ㆍ대표이사ㆍ종합기술원 회장   
1            사외이사    비상근                        ㆍ사외이사후보추천위원회위원ㆍ지속가능경영위원회 위원   
2            사외이사    비상근                ㆍ감사위원회위원\nㆍ내부거래위원회위원\nㆍ지속가능경영위원회 위원   
3            사내이사     상근                                       ㆍ대표이사ㆍ미래기술담당   
4            사내이사     상근                                       ㆍ대표이사ㆍ인재혁신담당   
5            사내이사     상근                                 ㆍDX부문장ㆍ영상디스플레이사업부장   
6            사내이사     상근                                               ㆍCFO   
7            사외이사    비상근  ㆍ이사회 의장ㆍ감사위원회 위원장\nㆍ내부거래위원회 위원\nㆍ보상위원회 위원\nㆍ지속...   
8            사외이사    비상근               ㆍ감사위원회 위원\nㆍ내부거래위원회 위원장ㆍ지속가능경영위원회 위원   
9            사외이사    비상근             ㆍ사외이사후보추천위원회위원ㆍ보상위원회위원장\nㆍ지속가능경영위원회 위원   
10           사외이사    비상근              ㆍ사외이사후보추천위원회위원ㆍ보상위원회위원\nㆍ지속가능경영위원회 위원   

                                main_career mxmm_shrholdr_relate hffc_pd  \
0                  ㆍUCLA 전자공학 박사ㆍ삼성전자 DS부문장             계열회사\n임원    46개월   
1     ㆍ서울대 내과학 박사\nㆍ서울대 의과대학 신장내과 \n   명예교수             계열회사\n임원    34개월   
2              ㆍ연세대 불어불문학 학사\nㆍ하나금융공익재단 이사장             계열회사\n임원    34개월   
3     ㆍPortland주립대\n   전기및전자공학석사ㆍ삼성전자 CE부문장             계열회사\n임원    46개월   
4              ㆍSussex대 기술정책학 석사ㆍ삼성전자 IM부문장             계열회사\n임원    46개월   
5           ㆍ인하대 전자공학 학사\nㆍ삼성전자 영상디스플레이사업부장             계열회사\n임원    22개월   
6                  ㆍ성균관대 경영학 학사ㆍ삼성전자 경영지원실장              계열회사 임원    22개월   
7   ㆍHarvard대 정책학 박사ㆍ성균관대 국정전문대학원 \n   명예교수             계열회사\n임원    70개월   
8                ㆍKonstanz대 법학 박사ㆍ이화여대 명예교수             계열회사\n임원    46개월   
9        ㆍStanford대 전기공학 박사ㆍ서울대 전기ㆍ정보공학부 교수             계열회사\n임원    46개월   
10      ㆍMaryland대 신뢰성공학 박사ㆍKiswe Mobile 회장             계열회사\n임원    46개월   

    tenure_end_on  
0   2024년 03월 22일  
1   2022년 03월 19일  
2   2022년 03월 19일  
3   2024년 03월 22일  
4   2024년 03월 22일  
5   2023년 03월 17일  
6   2023년 03월 17일  
7   2022년 03월 19일  
8   2024년 03월 22일  
9   2024년 03월 22일  
10  2024년 03월 22일  
</pre>
③ [예] 삼성전자(005930), 직원 관한 사항, 2020년



```python
dart.report('005930', '직원', 2020)
```

<pre>
         rcept_no corp_cls corp_code corp_name sexdstn fo_bbm  \
0  20210309000744        Y  00126380      삼성전자       남     CE   
1  20210309000744        Y  00126380      삼성전자       여   성별합계   
2  20210309000744        Y  00126380      삼성전자       여     CE   
3  20210309000744        Y  00126380      삼성전자       남     IM   
4  20210309000744        Y  00126380      삼성전자       여     IM   
5  20210309000744        Y  00126380      삼성전자       남     DS   
6  20210309000744        Y  00126380      삼성전자       여     DS   
7  20210309000744        Y  00126380      삼성전자       남     기타   
8  20210309000744        Y  00126380      삼성전자       여     기타   
9  20210309000744        Y  00126380      삼성전자       남   성별합계   

  reform_bfe_emp_co_rgllbr reform_bfe_emp_co_cnttk reform_bfe_emp_co_etc  \
0                        -                       -                     -   
1                        -                       -                     -   
2                        -                       -                     -   
3                        -                       -                     -   
4                        -                       -                     -   
5                        -                       -                     -   
6                        -                       -                     -   
7                        -                       -                     -   
8                        -                       -                     -   
9                        -                       -                     -   

  rgllbr_co rgllbr_abacpt_labrr_co cnttk_co cnttk_abacpt_labrr_co      sm  \
0    10,262                      -       60                     -  10,322   
1    28,306                    414      102                     -  28,408   
2     2,165                     74       15                     -   2,180   
3    19,762                      -      165                     -  19,927   
4     7,144                     72       23                     -   7,167   
5    42,391                      -      138                     2  42,529   
6    16,726                    183       15                     -  16,741   
7     8,159                      -      145                     -   8,304   
8     2,271                     85       49                     -   2,320   
9    80,574                      -      508                     2  81,082   

  avrg_cnwk_sdytrn  fyer_salary_totamt jan_salary_am rm  
0             16.1                   -             -  -  
1             11.2   2,523,709,000,000    98,000,000  -  
2             11.2                   -             -  -  
3             14.1                   -             -  -  
4             12.0                   -             -  -  
5             10.9                   -             -  -  
6             10.8                   -             -  -  
7             15.1                   -             -  -  
8             11.4                   -             -  -  
9             12.8  10,643,957,000,000   136,000,000  -  
</pre>
## (3) dart.finstate()

### 1) 삼성전자 2020 재무제표



```python
dart.finstate('삼성전자', 2020)
```

<pre>
          rcept_no reprt_code bsns_year corp_code stock_code fs_div   fs_nm  \
0   20210309000744      11011      2020  00126380     005930    CFS  연결재무제표   
1   20210309000744      11011      2020  00126380     005930    CFS  연결재무제표   
2   20210309000744      11011      2020  00126380     005930    CFS  연결재무제표   
3   20210309000744      11011      2020  00126380     005930    CFS  연결재무제표   
4   20210309000744      11011      2020  00126380     005930    CFS  연결재무제표   
5   20210309000744      11011      2020  00126380     005930    CFS  연결재무제표   
6   20210309000744      11011      2020  00126380     005930    CFS  연결재무제표   
7   20210309000744      11011      2020  00126380     005930    CFS  연결재무제표   
8   20210309000744      11011      2020  00126380     005930    CFS  연결재무제표   
9   20210309000744      11011      2020  00126380     005930    CFS  연결재무제표   
10  20210309000744      11011      2020  00126380     005930    CFS  연결재무제표   
11  20210309000744      11011      2020  00126380     005930    CFS  연결재무제표   
12  20210309000744      11011      2020  00126380     005930    CFS  연결재무제표   
13  20210309000744      11011      2020  00126380     005930    OFS    재무제표   
14  20210309000744      11011      2020  00126380     005930    OFS    재무제표   
15  20210309000744      11011      2020  00126380     005930    OFS    재무제표   
16  20210309000744      11011      2020  00126380     005930    OFS    재무제표   
17  20210309000744      11011      2020  00126380     005930    OFS    재무제표   
18  20210309000744      11011      2020  00126380     005930    OFS    재무제표   
19  20210309000744      11011      2020  00126380     005930    OFS    재무제표   
20  20210309000744      11011      2020  00126380     005930    OFS    재무제표   
21  20210309000744      11011      2020  00126380     005930    OFS    재무제표   
22  20210309000744      11011      2020  00126380     005930    OFS    재무제표   
23  20210309000744      11011      2020  00126380     005930    OFS    재무제표   
24  20210309000744      11011      2020  00126380     005930    OFS    재무제표   
25  20210309000744      11011      2020  00126380     005930    OFS    재무제표   

   sj_div  sj_nm  account_nm  ...                thstrm_dt  \
0      BS  재무상태표        유동자산  ...            2020.12.31 현재   
1      BS  재무상태표       비유동자산  ...            2020.12.31 현재   
2      BS  재무상태표        자산총계  ...            2020.12.31 현재   
3      BS  재무상태표        유동부채  ...            2020.12.31 현재   
4      BS  재무상태표       비유동부채  ...            2020.12.31 현재   
5      BS  재무상태표        부채총계  ...            2020.12.31 현재   
6      BS  재무상태표         자본금  ...            2020.12.31 현재   
7      BS  재무상태표       이익잉여금  ...            2020.12.31 현재   
8      BS  재무상태표        자본총계  ...            2020.12.31 현재   
9      IS  손익계산서         매출액  ...  2020.01.01 ~ 2020.12.31   
10     IS  손익계산서        영업이익  ...  2020.01.01 ~ 2020.12.31   
11     IS  손익계산서  법인세차감전 순이익  ...  2020.01.01 ~ 2020.12.31   
12     IS  손익계산서       당기순이익  ...  2020.01.01 ~ 2020.12.31   
13     BS  재무상태표        유동자산  ...            2020.12.31 현재   
14     BS  재무상태표       비유동자산  ...            2020.12.31 현재   
15     BS  재무상태표        자산총계  ...            2020.12.31 현재   
16     BS  재무상태표        유동부채  ...            2020.12.31 현재   
17     BS  재무상태표       비유동부채  ...            2020.12.31 현재   
18     BS  재무상태표        부채총계  ...            2020.12.31 현재   
19     BS  재무상태표         자본금  ...            2020.12.31 현재   
20     BS  재무상태표       이익잉여금  ...            2020.12.31 현재   
21     BS  재무상태표        자본총계  ...            2020.12.31 현재   
22     IS  손익계산서         매출액  ...  2020.01.01 ~ 2020.12.31   
23     IS  손익계산서        영업이익  ...  2020.01.01 ~ 2020.12.31   
24     IS  손익계산서  법인세차감전 순이익  ...  2020.01.01 ~ 2020.12.31   
25     IS  손익계산서       당기순이익  ...  2020.01.01 ~ 2020.12.31   

          thstrm_amount frmtrm_nm                frmtrm_dt  \
0   198,215,579,000,000    제 51 기            2019.12.31 현재   
1   180,020,139,000,000    제 51 기            2019.12.31 현재   
2   378,235,718,000,000    제 51 기            2019.12.31 현재   
3    75,604,351,000,000    제 51 기            2019.12.31 현재   
4    26,683,351,000,000    제 51 기            2019.12.31 현재   
5   102,287,702,000,000    제 51 기            2019.12.31 현재   
6       897,514,000,000    제 51 기            2019.12.31 현재   
7   271,068,211,000,000    제 51 기            2019.12.31 현재   
8   275,948,016,000,000    제 51 기            2019.12.31 현재   
9   236,806,988,000,000    제 51 기  2019.01.01 ~ 2019.12.31   
10   35,993,876,000,000    제 51 기  2019.01.01 ~ 2019.12.31   
11   36,345,117,000,000    제 51 기  2019.01.01 ~ 2019.12.31   
12   26,407,832,000,000    제 51 기  2019.01.01 ~ 2019.12.31   
13   73,798,549,000,000    제 51 기            2019.12.31 현재   
14  155,865,878,000,000    제 51 기            2019.12.31 현재   
15  229,664,427,000,000    제 51 기            2019.12.31 현재   
16   44,412,904,000,000    제 51 기            2019.12.31 현재   
17    1,934,799,000,000    제 51 기            2019.12.31 현재   
18   46,347,703,000,000    제 51 기            2019.12.31 현재   
19      897,514,000,000    제 51 기            2019.12.31 현재   
20  178,284,102,000,000    제 51 기            2019.12.31 현재   
21  183,316,724,000,000    제 51 기            2019.12.31 현재   
22  166,311,191,000,000    제 51 기  2019.01.01 ~ 2019.12.31   
23   20,518,974,000,000    제 51 기  2019.01.01 ~ 2019.12.31   
24   20,451,923,000,000    제 51 기  2019.01.01 ~ 2019.12.31   
25   15,615,018,000,000    제 51 기  2019.01.01 ~ 2019.12.31   

          frmtrm_amount bfefrmtrm_nm             bfefrmtrm_dt  \
0   181,385,260,000,000       제 50 기            2018.12.31 현재   
1   171,179,237,000,000       제 50 기            2018.12.31 현재   
2   352,564,497,000,000       제 50 기            2018.12.31 현재   
3    63,782,764,000,000       제 50 기            2018.12.31 현재   
4    25,901,312,000,000       제 50 기            2018.12.31 현재   
5    89,684,076,000,000       제 50 기            2018.12.31 현재   
6       897,514,000,000       제 50 기            2018.12.31 현재   
7   254,582,894,000,000       제 50 기            2018.12.31 현재   
8   262,880,421,000,000       제 50 기            2018.12.31 현재   
9   230,400,881,000,000       제 50 기  2018.01.01 ~ 2018.12.31   
10   27,768,509,000,000       제 50 기  2018.01.01 ~ 2018.12.31   
11   30,432,189,000,000       제 50 기  2018.01.01 ~ 2018.12.31   
12   21,738,865,000,000       제 50 기  2018.01.01 ~ 2018.12.31   
13   72,659,080,000,000       제 50 기            2018.12.31 현재   
14  143,521,840,000,000       제 50 기            2018.12.31 현재   
15  216,180,920,000,000       제 50 기            2018.12.31 현재   
16   36,237,164,000,000       제 50 기            2018.12.31 현재   
17    2,073,509,000,000       제 50 기            2018.12.31 현재   
18   38,310,673,000,000       제 50 기            2018.12.31 현재   
19      897,514,000,000       제 50 기            2018.12.31 현재   
20  172,288,326,000,000       제 50 기            2018.12.31 현재   
21  177,870,247,000,000       제 50 기            2018.12.31 현재   
22  154,772,859,000,000       제 50 기  2018.01.01 ~ 2018.12.31   
23   14,115,067,000,000       제 50 기  2018.01.01 ~ 2018.12.31   
24   19,032,469,000,000       제 50 기  2018.01.01 ~ 2018.12.31   
25   15,353,323,000,000       제 50 기  2018.01.01 ~ 2018.12.31   

       bfefrmtrm_amount ord currency  
0   174,697,424,000,000   1      KRW  
1   164,659,820,000,000   3      KRW  
2   339,357,244,000,000   5      KRW  
3    69,081,510,000,000   7      KRW  
4    22,522,557,000,000   9      KRW  
5    91,604,067,000,000  11      KRW  
6       897,514,000,000  13      KRW  
7   242,698,956,000,000  17      KRW  
8   247,753,177,000,000  21      KRW  
9   243,771,415,000,000  23      KRW  
10   58,886,669,000,000  25      KRW  
11   61,159,958,000,000  27      KRW  
12   44,344,857,000,000  29      KRW  
13   80,039,455,000,000   2      KRW  
14  138,981,902,000,000   4      KRW  
15  219,021,357,000,000   6      KRW  
16   43,145,053,000,000   8      KRW  
17    2,888,179,000,000  10      KRW  
18   46,033,232,000,000  12      KRW  
19      897,514,000,000  15      KRW  
20  166,555,532,000,000  19      KRW  
21  172,988,125,000,000  22      KRW  
22  170,381,870,000,000  24      KRW  
23   43,699,451,000,000  26      KRW  
24   44,398,855,000,000  28      KRW  
25   32,815,127,000,000  30      KRW  

[26 rows x 21 columns]
</pre>
### 2) 삼성전자 2022 1분기 연결재무제표



```python
dart.finstate('삼성전자', 2020, reprt_code='11046')
```

<pre>
          rcept_no reprt_code bsns_year corp_code stock_code fs_div   fs_nm  \
0   20210309000744      11046      2020  00126380     005930    CFS  연결재무제표   
1   20210309000744      11046      2020  00126380     005930    CFS  연결재무제표   
2   20210309000744      11046      2020  00126380     005930    CFS  연결재무제표   
3   20210309000744      11046      2020  00126380     005930    CFS  연결재무제표   
4   20210309000744      11046      2020  00126380     005930    CFS  연결재무제표   
5   20210309000744      11046      2020  00126380     005930    CFS  연결재무제표   
6   20210309000744      11046      2020  00126380     005930    CFS  연결재무제표   
7   20210309000744      11046      2020  00126380     005930    CFS  연결재무제표   
8   20210309000744      11046      2020  00126380     005930    CFS  연결재무제표   
9   20210309000744      11046      2020  00126380     005930    CFS  연결재무제표   
10  20210309000744      11046      2020  00126380     005930    CFS  연결재무제표   
11  20210309000744      11046      2020  00126380     005930    CFS  연결재무제표   
12  20210309000744      11046      2020  00126380     005930    CFS  연결재무제표   
13  20210309000744      11046      2020  00126380     005930    OFS    재무제표   
14  20210309000744      11046      2020  00126380     005930    OFS    재무제표   
15  20210309000744      11046      2020  00126380     005930    OFS    재무제표   
16  20210309000744      11046      2020  00126380     005930    OFS    재무제표   
17  20210309000744      11046      2020  00126380     005930    OFS    재무제표   
18  20210309000744      11046      2020  00126380     005930    OFS    재무제표   
19  20210309000744      11046      2020  00126380     005930    OFS    재무제표   
20  20210309000744      11046      2020  00126380     005930    OFS    재무제표   
21  20210309000744      11046      2020  00126380     005930    OFS    재무제표   
22  20210309000744      11046      2020  00126380     005930    OFS    재무제표   
23  20210309000744      11046      2020  00126380     005930    OFS    재무제표   
24  20210309000744      11046      2020  00126380     005930    OFS    재무제표   
25  20210309000744      11046      2020  00126380     005930    OFS    재무제표   

   sj_div  sj_nm  account_nm  ...                thstrm_dt  \
0      BS  재무상태표        유동자산  ...            2020.12.31 현재   
1      BS  재무상태표       비유동자산  ...            2020.12.31 현재   
2      BS  재무상태표        자산총계  ...            2020.12.31 현재   
3      BS  재무상태표        유동부채  ...            2020.12.31 현재   
4      BS  재무상태표       비유동부채  ...            2020.12.31 현재   
5      BS  재무상태표        부채총계  ...            2020.12.31 현재   
6      BS  재무상태표         자본금  ...            2020.12.31 현재   
7      BS  재무상태표       이익잉여금  ...            2020.12.31 현재   
8      BS  재무상태표        자본총계  ...            2020.12.31 현재   
9      IS  손익계산서         매출액  ...  2020.01.01 ~ 2020.12.31   
10     IS  손익계산서        영업이익  ...  2020.01.01 ~ 2020.12.31   
11     IS  손익계산서  법인세차감전 순이익  ...  2020.01.01 ~ 2020.12.31   
12     IS  손익계산서       당기순이익  ...  2020.01.01 ~ 2020.12.31   
13     BS  재무상태표        유동자산  ...            2020.12.31 현재   
14     BS  재무상태표       비유동자산  ...            2020.12.31 현재   
15     BS  재무상태표        자산총계  ...            2020.12.31 현재   
16     BS  재무상태표        유동부채  ...            2020.12.31 현재   
17     BS  재무상태표       비유동부채  ...            2020.12.31 현재   
18     BS  재무상태표        부채총계  ...            2020.12.31 현재   
19     BS  재무상태표         자본금  ...            2020.12.31 현재   
20     BS  재무상태표       이익잉여금  ...            2020.12.31 현재   
21     BS  재무상태표        자본총계  ...            2020.12.31 현재   
22     IS  손익계산서         매출액  ...  2020.01.01 ~ 2020.12.31   
23     IS  손익계산서        영업이익  ...  2020.01.01 ~ 2020.12.31   
24     IS  손익계산서  법인세차감전 순이익  ...  2020.01.01 ~ 2020.12.31   
25     IS  손익계산서       당기순이익  ...  2020.01.01 ~ 2020.12.31   

          thstrm_amount frmtrm_nm                frmtrm_dt  \
0   198,215,579,000,000    제 51 기            2019.12.31 현재   
1   180,020,139,000,000    제 51 기            2019.12.31 현재   
2   378,235,718,000,000    제 51 기            2019.12.31 현재   
3    75,604,351,000,000    제 51 기            2019.12.31 현재   
4    26,683,351,000,000    제 51 기            2019.12.31 현재   
5   102,287,702,000,000    제 51 기            2019.12.31 현재   
6       897,514,000,000    제 51 기            2019.12.31 현재   
7   271,068,211,000,000    제 51 기            2019.12.31 현재   
8   275,948,016,000,000    제 51 기            2019.12.31 현재   
9   236,806,988,000,000    제 51 기  2019.01.01 ~ 2019.12.31   
10   35,993,876,000,000    제 51 기  2019.01.01 ~ 2019.12.31   
11   36,345,117,000,000    제 51 기  2019.01.01 ~ 2019.12.31   
12   26,407,832,000,000    제 51 기  2019.01.01 ~ 2019.12.31   
13   73,798,549,000,000    제 51 기            2019.12.31 현재   
14  155,865,878,000,000    제 51 기            2019.12.31 현재   
15  229,664,427,000,000    제 51 기            2019.12.31 현재   
16   44,412,904,000,000    제 51 기            2019.12.31 현재   
17    1,934,799,000,000    제 51 기            2019.12.31 현재   
18   46,347,703,000,000    제 51 기            2019.12.31 현재   
19      897,514,000,000    제 51 기            2019.12.31 현재   
20  178,284,102,000,000    제 51 기            2019.12.31 현재   
21  183,316,724,000,000    제 51 기            2019.12.31 현재   
22  166,311,191,000,000    제 51 기  2019.01.01 ~ 2019.12.31   
23   20,518,974,000,000    제 51 기  2019.01.01 ~ 2019.12.31   
24   20,451,923,000,000    제 51 기  2019.01.01 ~ 2019.12.31   
25   15,615,018,000,000    제 51 기  2019.01.01 ~ 2019.12.31   

          frmtrm_amount bfefrmtrm_nm             bfefrmtrm_dt  \
0   181,385,260,000,000       제 50 기            2018.12.31 현재   
1   171,179,237,000,000       제 50 기            2018.12.31 현재   
2   352,564,497,000,000       제 50 기            2018.12.31 현재   
3    63,782,764,000,000       제 50 기            2018.12.31 현재   
4    25,901,312,000,000       제 50 기            2018.12.31 현재   
5    89,684,076,000,000       제 50 기            2018.12.31 현재   
6       897,514,000,000       제 50 기            2018.12.31 현재   
7   254,582,894,000,000       제 50 기            2018.12.31 현재   
8   262,880,421,000,000       제 50 기            2018.12.31 현재   
9   230,400,881,000,000       제 50 기  2018.01.01 ~ 2018.12.31   
10   27,768,509,000,000       제 50 기  2018.01.01 ~ 2018.12.31   
11   30,432,189,000,000       제 50 기  2018.01.01 ~ 2018.12.31   
12   21,738,865,000,000       제 50 기  2018.01.01 ~ 2018.12.31   
13   72,659,080,000,000       제 50 기            2018.12.31 현재   
14  143,521,840,000,000       제 50 기            2018.12.31 현재   
15  216,180,920,000,000       제 50 기            2018.12.31 현재   
16   36,237,164,000,000       제 50 기            2018.12.31 현재   
17    2,073,509,000,000       제 50 기            2018.12.31 현재   
18   38,310,673,000,000       제 50 기            2018.12.31 현재   
19      897,514,000,000       제 50 기            2018.12.31 현재   
20  172,288,326,000,000       제 50 기            2018.12.31 현재   
21  177,870,247,000,000       제 50 기            2018.12.31 현재   
22  154,772,859,000,000       제 50 기  2018.01.01 ~ 2018.12.31   
23   14,115,067,000,000       제 50 기  2018.01.01 ~ 2018.12.31   
24   19,032,469,000,000       제 50 기  2018.01.01 ~ 2018.12.31   
25   15,353,323,000,000       제 50 기  2018.01.01 ~ 2018.12.31   

       bfefrmtrm_amount ord currency  
0   174,697,424,000,000   1      KRW  
1   164,659,820,000,000   3      KRW  
2   339,357,244,000,000   5      KRW  
3    69,081,510,000,000   7      KRW  
4    22,522,557,000,000   9      KRW  
5    91,604,067,000,000  11      KRW  
6       897,514,000,000  13      KRW  
7   242,698,956,000,000  17      KRW  
8   247,753,177,000,000  21      KRW  
9   243,771,415,000,000  23      KRW  
10   58,886,669,000,000  25      KRW  
11   61,159,958,000,000  27      KRW  
12   44,344,857,000,000  29      KRW  
13   80,039,455,000,000   2      KRW  
14  138,981,902,000,000   4      KRW  
15  219,021,357,000,000   6      KRW  
16   43,145,053,000,000   8      KRW  
17    2,888,179,000,000  10      KRW  
18   46,033,232,000,000  12      KRW  
19      897,514,000,000  15      KRW  
20  166,555,532,000,000  19      KRW  
21  172,988,125,000,000  22      KRW  
22  170,381,870,000,000  24      KRW  
23   43,699,451,000,000  26      KRW  
24   44,398,855,000,000  28      KRW  
25   32,815,127,000,000  30      KRW  

[26 rows x 21 columns]
</pre>
### 3) 삼성전자 2022 1분기 재무제표



```python
dart.finstate('삼성전자', 2022, reprt_code='11013')
```

<pre>
          rcept_no reprt_code bsns_year corp_code stock_code fs_div   fs_nm  \
0   20220516001751      11013      2022  00126380     005930    CFS  연결재무제표   
1   20220516001751      11013      2022  00126380     005930    CFS  연결재무제표   
2   20220516001751      11013      2022  00126380     005930    CFS  연결재무제표   
3   20220516001751      11013      2022  00126380     005930    CFS  연결재무제표   
4   20220516001751      11013      2022  00126380     005930    CFS  연결재무제표   
5   20220516001751      11013      2022  00126380     005930    CFS  연결재무제표   
6   20220516001751      11013      2022  00126380     005930    CFS  연결재무제표   
7   20220516001751      11013      2022  00126380     005930    CFS  연결재무제표   
8   20220516001751      11013      2022  00126380     005930    CFS  연결재무제표   
9   20220516001751      11013      2022  00126380     005930    CFS  연결재무제표   
10  20220516001751      11013      2022  00126380     005930    CFS  연결재무제표   
11  20220516001751      11013      2022  00126380     005930    CFS  연결재무제표   
12  20220516001751      11013      2022  00126380     005930    CFS  연결재무제표   
13  20220516001751      11013      2022  00126380     005930    OFS    재무제표   
14  20220516001751      11013      2022  00126380     005930    OFS    재무제표   
15  20220516001751      11013      2022  00126380     005930    OFS    재무제표   
16  20220516001751      11013      2022  00126380     005930    OFS    재무제표   
17  20220516001751      11013      2022  00126380     005930    OFS    재무제표   
18  20220516001751      11013      2022  00126380     005930    OFS    재무제표   
19  20220516001751      11013      2022  00126380     005930    OFS    재무제표   
20  20220516001751      11013      2022  00126380     005930    OFS    재무제표   
21  20220516001751      11013      2022  00126380     005930    OFS    재무제표   
22  20220516001751      11013      2022  00126380     005930    OFS    재무제표   
23  20220516001751      11013      2022  00126380     005930    OFS    재무제표   
24  20220516001751      11013      2022  00126380     005930    OFS    재무제표   
25  20220516001751      11013      2022  00126380     005930    OFS    재무제표   

   sj_div  sj_nm  account_nm   thstrm_nm                thstrm_dt  \
0      BS  재무상태표        유동자산  제 54 기1분기말            2022.03.31 현재   
1      BS  재무상태표       비유동자산  제 54 기1분기말            2022.03.31 현재   
2      BS  재무상태표        자산총계  제 54 기1분기말            2022.03.31 현재   
3      BS  재무상태표        유동부채  제 54 기1분기말            2022.03.31 현재   
4      BS  재무상태표       비유동부채  제 54 기1분기말            2022.03.31 현재   
5      BS  재무상태표        부채총계  제 54 기1분기말            2022.03.31 현재   
6      BS  재무상태표         자본금  제 54 기1분기말            2022.03.31 현재   
7      BS  재무상태표       이익잉여금  제 54 기1분기말            2022.03.31 현재   
8      BS  재무상태표        자본총계  제 54 기1분기말            2022.03.31 현재   
9      IS  손익계산서         매출액   제 54 기1분기  2022.01.01 ~ 2022.03.31   
10     IS  손익계산서        영업이익   제 54 기1분기  2022.01.01 ~ 2022.03.31   
11     IS  손익계산서  법인세차감전 순이익   제 54 기1분기  2022.01.01 ~ 2022.03.31   
12     IS  손익계산서       당기순이익   제 54 기1분기  2022.01.01 ~ 2022.03.31   
13     BS  재무상태표        유동자산  제 54 기1분기말            2022.03.31 현재   
14     BS  재무상태표       비유동자산  제 54 기1분기말            2022.03.31 현재   
15     BS  재무상태표        자산총계  제 54 기1분기말            2022.03.31 현재   
16     BS  재무상태표        유동부채  제 54 기1분기말            2022.03.31 현재   
17     BS  재무상태표       비유동부채  제 54 기1분기말            2022.03.31 현재   
18     BS  재무상태표        부채총계  제 54 기1분기말            2022.03.31 현재   
19     BS  재무상태표         자본금  제 54 기1분기말            2022.03.31 현재   
20     BS  재무상태표       이익잉여금  제 54 기1분기말            2022.03.31 현재   
21     BS  재무상태표        자본총계  제 54 기1분기말            2022.03.31 현재   
22     IS  손익계산서         매출액   제 54 기1분기  2022.01.01 ~ 2022.03.31   
23     IS  손익계산서        영업이익   제 54 기1분기  2022.01.01 ~ 2022.03.31   
24     IS  손익계산서  법인세차감전 순이익   제 54 기1분기  2022.01.01 ~ 2022.03.31   
25     IS  손익계산서       당기순이익   제 54 기1분기  2022.01.01 ~ 2022.03.31   

          thstrm_amount  frmtrm_nm                frmtrm_dt  \
0   232,369,082,000,000    제 53 기말            2021.12.31 현재   
1   206,957,877,000,000    제 53 기말            2021.12.31 현재   
2   439,326,959,000,000    제 53 기말            2021.12.31 현재   
3    90,463,701,000,000    제 53 기말            2021.12.31 현재   
4    33,572,339,000,000    제 53 기말            2021.12.31 현재   
5   124,036,040,000,000    제 53 기말            2021.12.31 현재   
6       897,514,000,000    제 53 기말            2021.12.31 현재   
7   301,743,152,000,000    제 53 기말            2021.12.31 현재   
8   315,290,919,000,000    제 53 기말            2021.12.31 현재   
9    77,781,498,000,000  제 53 기1분기  2021.01.01 ~ 2021.03.31   
10   14,121,409,000,000  제 53 기1분기  2021.01.01 ~ 2021.03.31   
11   15,069,840,000,000  제 53 기1분기  2021.01.01 ~ 2021.03.31   
12   11,324,628,000,000  제 53 기1분기  2021.01.01 ~ 2021.03.31   
13   81,466,028,000,000    제 53 기말            2021.12.31 현재   
14  177,887,983,000,000    제 53 기말            2021.12.31 현재   
15  259,354,011,000,000    제 53 기말            2021.12.31 현재   
16   56,799,776,000,000    제 53 기말            2021.12.31 현재   
17    4,278,465,000,000    제 53 기말            2021.12.31 현재   
18   61,078,241,000,000    제 53 기말            2021.12.31 현재   
19      897,514,000,000    제 53 기말            2021.12.31 현재   
20  193,973,301,000,000    제 53 기말            2021.12.31 현재   
21  198,275,770,000,000    제 53 기말            2021.12.31 현재   
22   56,724,258,000,000  제 53 기1분기  2021.01.01 ~ 2021.03.31   
23    9,151,831,000,000  제 53 기1분기  2021.01.01 ~ 2021.03.31   
24    9,678,020,000,000  제 53 기1분기  2021.01.01 ~ 2021.03.31   
25    7,651,943,000,000  제 53 기1분기  2021.01.01 ~ 2021.03.31   

          frmtrm_amount ord currency   thstrm_add_amount   frmtrm_add_amount  
0   218,163,185,000,000   1      KRW                 NaN                 NaN  
1   208,457,973,000,000   3      KRW                 NaN                 NaN  
2   426,621,158,000,000   5      KRW                 NaN                 NaN  
3    88,117,133,000,000   7      KRW                 NaN                 NaN  
4    33,604,094,000,000   9      KRW                 NaN                 NaN  
5   121,721,227,000,000  11      KRW                 NaN                 NaN  
6       897,514,000,000  13      KRW                 NaN                 NaN  
7   293,064,763,000,000  17      KRW                 NaN                 NaN  
8   304,899,931,000,000  21      KRW                 NaN                 NaN  
9    65,388,503,000,000  23      KRW  77,781,498,000,000  65,388,503,000,000  
10    9,382,868,000,000  25      KRW  14,121,409,000,000   9,382,868,000,000  
11    9,750,645,000,000  27      KRW  15,069,840,000,000   9,750,645,000,000  
12    7,141,685,000,000  29      KRW  11,324,628,000,000   7,141,685,000,000  
13   73,553,416,000,000   2      KRW                 NaN                 NaN  
14  177,558,768,000,000   4      KRW                 NaN                 NaN  
15  251,112,184,000,000   6      KRW                 NaN                 NaN  
16   53,067,303,000,000   8      KRW                 NaN                 NaN  
17    4,851,149,000,000  10      KRW                 NaN                 NaN  
18   57,918,452,000,000  12      KRW                 NaN                 NaN  
19      897,514,000,000  15      KRW                 NaN                 NaN  
20  188,774,335,000,000  19      KRW                 NaN                 NaN  
21  193,193,732,000,000  22      KRW                 NaN                 NaN  
22   45,042,390,000,000  24      KRW  56,724,258,000,000  45,042,390,000,000  
23    4,445,476,000,000  26      KRW   9,151,831,000,000   4,445,476,000,000  
24    5,817,356,000,000  28      KRW   9,678,020,000,000   5,817,356,000,000  
25    4,547,604,000,000  30      KRW   7,651,943,000,000   4,547,604,000,000  
</pre>
# 제3장 금융데이터 수집3_FRED

# 제1절 FRED 경제데이터 가져오기

# 1. FRED 홈페이지 사용법

## (1) https://fred.stlouisfed.org

FRED(Federal Reserve Economic Data) 세인트루이스 연준 관리 경제통계 데이터베이스

## (2) 각 항목별 티커를 찾는 방법

① FRED 웹사이트(https://fred.stlouisfed.org/) 에서 원하는 데이터를 검색

② GDP를 알고싶을 때 데이터를 검색하게 되면 주소창에 ‘/series/’ 다음에 위치하는 내용이 해당 항목의 티커 또는 아래 화면 중앙 내용에 가로로 쓰여진 것이 티커이다.

③ 데이터 다운로드 및 그래프 설정도 가능하다.



# 2. 데이터 끌고오기

pandas_datareader를 통한 fred 데이터 끌고오는 방법은 pdr.DataREdader(티커, ‘fred’, 시작시점) 이다.



## (1) GDP를 끌고 오기



```python
import pandas_datareader as pdr

data1 = pdr.DataReader('GDP', 'fred', '2000-01-01')
data1.head()
```

<pre>
                  GDP
DATE                 
2000-01-01  10002.179
2000-04-01  10247.720
2000-07-01  10318.165
2000-10-01  10435.744
2001-01-01  10470.231
</pre>
## (2) 미국 장단기 금리차



```python
data2 = pdr.DataReader('T10Y2Y', 'fred', '2020-01-01')
data2.head(10)
```

<pre>
            T10Y2Y
DATE              
2020-01-01     NaN
2020-01-02    0.30
2020-01-03    0.27
2020-01-06    0.27
2020-01-07    0.29
2020-01-08    0.29
2020-01-09    0.27
2020-01-10    0.27
2020-01-13    0.27
2020-01-14    0.24
</pre>
## (3) 그래프로 확인하기



```python
import matplotlib.pyplot as plt
data2.plot(figsize=(10, 6))
plt.show()
```

<pre>
<Figure size 1000x600 with 1 Axes>
</pre>
## (4) datetime으로 기간을 설정해서도 가져올 수 있다.



```python
import pandas_datareader.data as web
from pandas_datareader import wb
import datetime
start = datetime.datetime(2020, 1, 1)
end = datetime.datetime(2022, 6, 27)
gdp = web.DataReader('GDP', 'fred', start, end)
```


```python
gdp.info()
```

<pre>
<class 'pandas.core.frame.DataFrame'>
DatetimeIndex: 10 entries, 2020-01-01 to 2022-04-01
Data columns (total 1 columns):
 #   Column  Non-Null Count  Dtype  
---  ------  --------------  -----  
 0   GDP     10 non-null     float64
dtypes: float64(1)
memory usage: 160.0 bytes
</pre>
## (5) GDP의 기초통계량 확인



```python
gdp
```

<pre>
                  GDP
DATE                 
2020-01-01  21538.032
2020-04-01  19636.731
2020-07-01  21362.428
2020-10-01  21704.706
2021-01-01  22313.850
2021-04-01  23046.934
2021-07-01  23550.420
2021-10-01  24349.121
2022-01-01  24740.480
2022-04-01  25248.476
</pre>

```python
gdp.describe()
```

<pre>
                GDP
count     10.000000
mean   22749.117800
std     1759.417449
min    19636.731000
25%    21579.700500
50%    22680.392000
75%    24149.445750
max    25248.476000
</pre>

```python
!pip install fredapi
from fredapi import Fred
# 책에있는 수정이 되지 않아 pip 넣고, data를 프린트했는데....책의 output과 맞지 않음.... 잘못입력했나;;;;
fred = Fred(api_key='310ad630d4df8f4ba4818031bd116328')
fred.get_series('GDP')
```

<pre>
Requirement already satisfied: fredapi in /usr/local/lib/python3.10/dist-packages (0.5.0)
Requirement already satisfied: pandas in /usr/local/lib/python3.10/dist-packages (from fredapi) (1.5.3)
Requirement already satisfied: python-dateutil>=2.8.1 in /usr/local/lib/python3.10/dist-packages (from pandas->fredapi) (2.8.2)
Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.10/dist-packages (from pandas->fredapi) (2022.7.1)
Requirement already satisfied: numpy>=1.21.0 in /usr/local/lib/python3.10/dist-packages (from pandas->fredapi) (1.22.4)
Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.10/dist-packages (from python-dateutil>=2.8.1->pandas->fredapi) (1.16.0)
</pre>
<pre>
1946-01-01          NaN
1946-04-01          NaN
1946-07-01          NaN
1946-10-01          NaN
1947-01-01      243.164
                ...    
2022-01-01    24740.480
2022-04-01    25248.476
2022-07-01    25723.941
2022-10-01    26137.992
2023-01-01    26486.287
Length: 309, dtype: float64
</pre>

```python
gpd.loc['2021-01-01']
```

## (6) 여러 국가 가져오기



```python
dat = wb.download(indicator='NY.GDP.PCAP.KD', country=['US', 'CA', 'MX'], start=2015, end=2020)
dat
```

<pre>
                    NY.GDP.PCAP.KD
country       year                
Canada        2020    42258.691017
              2019    45109.244486
              2018    44917.483728
              2017    44325.488337
              2016    43536.913403
              2015    43596.135537
Mexico        2020     9147.053505
              2019    10013.703192
              2018    10120.363543
              2017     9997.686914
              2016     9897.150062
              2015     9753.380048
United States 2020    58453.446128
              2019    60698.011299
              2018    59607.393660
              2017    58207.578310
              2016    57292.538783
              2015    56762.729452
</pre>

```python
dat.info()
```

<pre>
<class 'pandas.core.frame.DataFrame'>
MultiIndex: 18 entries, ('Canada', '2020') to ('United States', '2015')
Data columns (total 1 columns):
 #   Column          Non-Null Count  Dtype  
---  ------          --------------  -----  
 0   NY.GDP.PCAP.KD  18 non-null     float64
dtypes: float64(1)
memory usage: 641.0+ bytes
</pre>
## (7) 인플레이션

① CPIAUCSL: 모든 항목을 포함한 소비자 가격 지수



```python
import pandas_datareader as web
import datetime


# 데이터 가져오기 책에 있는 거 무언가 이상한데 타이핑을 잘못친건지.....
inflation = web.DataReader(['CPIAUCSL', 'CPILFESL'], 'fred', start, end)
inflation.tail(10)
```

<pre>
            CPIAUCSL  CPILFESL
DATE                          
2022-03-01   287.472   289.046
2022-04-01   288.611   290.410
2022-05-01   291.268   292.251
2022-06-01   294.728   294.017
2022-07-01   294.628   294.925
2022-08-01   295.320   296.639
2022-09-01   296.539   298.339
2022-10-01   297.987   299.333
2022-11-01   298.598   300.261
2022-12-01   298.990   301.460
</pre>
② CPILFESL: 식료품 및 연로를 제외한 소비자 가격 지수



```python
from pandas_datareader import wb
matches = wb.search('gdp.*capita.*const')
matches
```

<pre>
                         id  \
691      6.0.GDPpc_constant   
10632        NY.GDP.PCAP.KD   
10634        NY.GDP.PCAP.KN   
10636     NY.GDP.PCAP.PP.KD   
10637  NY.GDP.PCAP.PP.KD.87   

                                                    name unit  \
691    GDP per capita, PPP (constant 2011 internation...        
10632                 GDP per capita (constant 2015 US$)        
10634                      GDP per capita (constant LCU)        
10636  GDP per capita, PPP (constant 2017 internation...        
10637  GDP per capita, PPP (constant 1987 internation...        

                             source  \
691                  LAC Equity Lab   
10632  World Development Indicators   
10634  World Development Indicators   
10636  World Development Indicators   
10637         WDI Database Archives   

                                              sourceNote  \
691    GDP per capita based on purchasing power parit...   
10632  GDP per capita is gross domestic product divid...   
10634  GDP per capita is gross domestic product divid...   
10636  GDP per capita based on purchasing power parit...   
10637                                                      

                                      sourceOrganization            topics  
691         b'World Development Indicators (World Bank)'  Economy & Growth  
10632  b'World Bank national accounts data, and OECD ...  Economy & Growth  
10634  b'World Bank national accounts data, and OECD ...  Economy & Growth  
10636  b'International Comparison Program, World Bank...  Economy & Growth  
10637                                                b''                    
</pre>
# 3. FRED에서 API 경제데이터 가져오기



필요한 설치 파일   



```python
import requests
import json
data = requests.get('https://api.stlouisfed.org/fred/series?series_id =GNPCA&api_key=310ad630d4df8f4ba4818031bd116328&file_type=json')
```


```python
!pytest
```

<pre>
[1m============================= test session starts ==============================[0m
platform linux -- Python 3.10.12, pytest-7.2.2, pluggy-1.2.0
rootdir: /content
plugins: anyio-3.7.0
[1mcollecting ... [0m[1m
collected 0 items                                                              [0m

[33m============================ [33mno tests ran[0m[33m in 0.01s[0m[33m =============================[0m
</pre>

```python
!pip install fredapi
```

<pre>
Requirement already satisfied: fredapi in /usr/local/lib/python3.10/dist-packages (0.5.0)
Requirement already satisfied: pandas in /usr/local/lib/python3.10/dist-packages (from fredapi) (1.5.3)
Requirement already satisfied: python-dateutil>=2.8.1 in /usr/local/lib/python3.10/dist-packages (from pandas->fredapi) (2.8.2)
Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.10/dist-packages (from pandas->fredapi) (2022.7.1)
Requirement already satisfied: numpy>=1.21.0 in /usr/local/lib/python3.10/dist-packages (from pandas->fredapi) (1.22.4)
Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.10/dist-packages (from python-dateutil>=2.8.1->pandas->fredapi) (1.16.0)
</pre>

```python
from fredapi import Fred
fred = Fred(api_key='310ad630d4df8f4ba4818031bd116328')
data = fred.get_series('GDP')
```


```python
data = fred.get_series_lates_release('GDP')
data
```


```python
fred.get_series_as_of_date('GDP', '6/1/2019')
```

<pre>
     realtime_start       date      value
0        1992-12-22 1946-01-01      199.7
1        1996-01-19 1946-01-01        NaT
2        1997-05-07 1946-01-01      210.4
3        1999-10-28 1946-01-01        NaT
4        1992-12-22 1946-04-01      207.7
...             ...        ...        ...
3017     2018-12-21 2018-07-01  20658.204
3022     2019-02-28 2018-10-01  20891.367
3023     2019-03-28 2018-10-01   20865.14
3028     2019-04-26 2019-01-01  21062.691
3029     2019-05-30 2019-01-01  21048.839

[2906 rows x 3 columns]
</pre>
